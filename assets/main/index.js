window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AES:[function(t,e,o){"use strict";cc._RF.push(e,"a8574L2byhNxZgSqKOjs1Vn","AES");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var r=t("../lib/BlockCipher"),a=[],c=[],s=[],l=[],p=[],u=[],f=[],d=[],h=[],_=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,n=0;for(e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,a[o]=i,c[i]=o;var r=t[o],y=t[r],g=t[y],v=257*t[i]^16843008*i;s[o]=v<<24|v>>>8,l[o]=v<<16|v>>>16,p[o]=v<<8|v>>>24,u[o]=v,v=16843009*g^65537*y^257*r^16843008*o,f[i]=v<<24|v>>>8,d[i]=v<<16|v>>>16,h[i]=v<<8|v>>>24,_[i]=v,o?(o=r^t[t[t[g^r]]],n^=t[t[n]]):o=n=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],g=function(t){function e(e,o,n){return t.call(this,e,o,n)||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,o=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],c=0;c<i;c++)if(c<n)r[c]=o[c];else{var s=r[c-1];c%n?n>6&&c%n==4&&(s=a[s>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s]):(s=a[(s=s<<8|s>>>24)>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s],s^=y[c/n|0]<<24),r[c]=r[c-n]^s}for(var l=this._invKeySchedule=[],p=0;p<i;p++)c=i-p,s=void 0,s=p%4?r[c]:r[c-4],l[p]=p<4||c<=4?s:f[a[s>>>24]]^d[a[s>>>16&255]]^h[a[s>>>8&255]]^_[a[255&s]]}},e.prototype.encryptBlock=function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,l,p,u,a)},e.prototype.decryptBlock=function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,f,d,h,_,c),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},e.prototype._doCryptBlock=function(t,e,o,n,i,r,a,c){for(var s=t[e]^o[0],l=t[e+1]^o[1],p=t[e+2]^o[2],u=t[e+3]^o[3],f=4,d=1;d<this._nRounds;d++){var h=n[s>>>24]^i[l>>>16&255]^r[p>>>8&255]^a[255&u]^o[f++],_=n[l>>>24]^i[p>>>16&255]^r[u>>>8&255]^a[255&s]^o[f++],y=n[p>>>24]^i[u>>>16&255]^r[s>>>8&255]^a[255&l]^o[f++],g=n[u>>>24]^i[s>>>16&255]^r[l>>>8&255]^a[255&p]^o[f++];s=h,l=_,p=y,u=g}var v=(c[s>>>24]<<24|c[l>>>16&255]<<16|c[p>>>8&255]<<8|c[255&u])^o[f++],b=(c[l>>>24]<<24|c[p>>>16&255]<<16|c[u>>>8&255]<<8|c[255&s])^o[f++],m=(c[p>>>24]<<24|c[u>>>16&255]<<16|c[s>>>8&255]<<8|c[255&l])^o[f++],S=(c[u>>>24]<<24|c[s>>>16&255]<<16|c[l>>>8&255]<<8|c[255&p])^o[f++];t[e]=v,t[e+1]=b,t[e+2]=m,t[e+3]=S},e.keySize=8,e}(r.BlockCipher);o.AES=g,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],AIOLangConfig:[function(t,e,o){"use strict";var n,i,r,a;cc._RF.push(e,"d5f948IHLVIyZeVeJWJoYn8","AIOLangConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.AIOLang=o.number_of_aio_quest=o.aio_quest_cfg_key_arr=o.number_of_aio_lang=o.aio_lang_cfg_key_arr=o.aio_lang_cfg=o.AIOQuestType=void 0;var c,s=t("../../MainScene");(function(t){t[t.COLLECT_COINS=0]="COLLECT_COINS",t[t.SAVE_THE_DOG=1]="SAVE_THE_DOG",t[t.DEFEAT_ENEMIES=2]="DEFEAT_ENEMIES",t[t.CUSTOM=3]="CUSTOM"})(c=o.AIOQuestType||(o.AIOQuestType={})),o.aio_lang_cfg={label:{EN:{play:"Tap to play",level:"Level",continue:"Tap to continue",replay:"Tap to replay",skip:"Skip",skip_other:"Skip...",win:"",lose:"",setting_title:"Setting",on:"On",off:"Off",unlock_room:"Unlock \n Level 12",daily_reward:"Daily Reward",daily:"Daily",day:"Day ",free_coin:"Free Coin",outfit:"Outfit",comingsoon:"COMING SOON",hard_level:"Hard Level",watch_ads:"Watch Video",secret_pin:"Secret Pin",claim:"Claim",claim_x5:"Claim X5",100:"100",chapter:"Chapter",only_play:"Play",task_title:"Task",in_progress:"IN PROGRESS",completed:"COMPLETED",go:"GO",task:"Task",play_other:"Play",ok:"Ok",new_clue_note:"You've got a new clue"},JA:{play:"\u59cb\u3081\u308b",level:"\u30ec\u30d9\u30eb ",continue:"\u30bf\u30c3\u30d7\u3057\u3066\u7d9a\u884c\u3057\u307e\u3059",replay:"\u30bf\u30c3\u30d7\u3057\u3066\u518d\u751f",skip:"\u30b9\u30ad\u30c3\u30d7",skip_other:"\u30b9\u30ad\u30c3\u30d7...",win:"\u52dd\u5229",lose:"\u5931\u6557",setting_title:"\u8a2d\u5b9a",on:"\u5165",off:"\u5207",unlock_room:"\u30ec\u30d9\n\u30eb12",daily_reward:"\u6bce\u65e5\u306e\u5831\u916c",daily:"\u6bce\u65e5",day:"\u65e5\u76ee",free_coin:"\u30d5\u30ea\u30fc\u30b3\u30a4\u30f3",outfit:"\u670d\u88c5",comingsoon:"\u8fd1\u65e5\u516c\u958b",hard_level:"\u30cf\u30fc\u30c9\u30ec\u30d9\u30eb",watch_ads:"\u30d3\u30c7\u30aa\u3092\u898b\u308b",secret_pin:"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30d4\u30f3",claim:"\u8acb\u6c42",claim_x5:"\u8acb\u6c42 X5",100:"100",chapter:"\u7ae0",only_play:"",task_title:"\u30bf\u30b9\u30af",in_progress:"\u9032\u884c\u4e2d",completed:"\u5b8c\u4e86\u3057\u307e\u3057\u305f",go:"\u884c\u304f",task:"\u30bf\u30b9\u30af",play_other:"\u904a\u3076",ok:"\u308f\u304b\u308a\u307e\u3057\u305f",new_clue_note:"\u65b0\u3057\u3044\u624b\u304c\u304b\u308a\u304c\u898b\u3064\u304b\u3063\u305f"},ID:{play:"Awal",level:"Tingkat ",continue:"Ketuk untuk melanjutkan",replay:"Ketuk untuk memutar ulang",skip:"MELEWATI",skip_other:"Melewati...",win:"KEMENANGA",lose:"KAMU KALAH",setting_title:"PENGATURAN",on:"An",off:"Aus",unlock_room:"Buka\n Tingkat 12",daily_reward:"Hadiah Harian",daily:"Sehari-hari",day:"Hari ",free_coin:"koin gratis",outfit:"pakaian",watch_ads:"Menonton Video",secret_pin:"Pin Rahasia",comingsoon:"SEGERA HADIR",hard_level:"Tingkat Keras",claim:"Ambil",claim_x5:"Ambil X5",100:"100",chapter:"Bab",only_play:"",task_title:"Tugas",in_progress:"SEDANG BERLANGSUNG",completed:"LENGKAP",go:"PERGI",task:"Tugas",play_other:"Bermain",ok:"Oke",new_clue_note:"Anda mendapat petunjuk baru"},DE:{play:"BER\xdcHRE UM ZU SPIELEN",level:"EBENE ",continue:"Tippen Sie, um fortzufahren",replay:"TIPP ZUM WIEDERHOLEN",skip:"\xdcBERSPRINGEN",skip_other:"\xdcberspringen...",win:"HERZLICHEN GL\xdcCKWUNSCH",lose:"DU VERLIERST",setting_title:"EINSTELLUNG",on:"HIDUP",off:"MATI",unlock_room:"EBENE 12",daily_reward:"T\xe4gliche Belohnung",daily:"T\xe4glich",day:"Tag ",free_coin:"Kostenlose M\xfcnze",outfit:"Outfit",comingsoon:"DEMN\xc4CHST",watch_ads:"Schau Video",hard_level:"Schweres Level",secret_pin:"Geheimer Pin",claim:"Holen",claim_x5:"Holen X5",100:"100",chapter:"Kapitel",only_play:"",task_title:"Aufgabe",in_progress:"IM GANGE",completed:"VOLLENDET",go:"GEHEN",task:"Aufgabe",play_other:"Spielen",ok:"Ok",new_clue_note:"Sie haben einen neuen Hinweis"}},quest:{EN:(n={},n[c.COLLECT_COINS]="Collect Coins",n[c.SAVE_THE_DOG]="Save The Collide Dog",n[c.DEFEAT_ENEMIES]="Defeat ",n[c.CUSTOM]="",n),JA:(i={},i[c.COLLECT_COINS]="\u30b3\u30a4\u30f3\u3092\u96c6\u3081\u308b",i[c.SAVE_THE_DOG]="\u30b3\u30ea\u30fc\u72ac\u3092\u6551\u3063\u3066\u304f\u3060\u3055\u3044",i[c.DEFEAT_ENEMIES]="\u6557\u5317 ",i[c.CUSTOM]="",i),ID:(r={},r[c.COLLECT_COINS]="Kumpulkan Koin",r[c.SAVE_THE_DOG]="Selamatkan Anjing Collie",r[c.DEFEAT_ENEMIES]="Mengalahkan ",r[c.CUSTOM]="",r),DE:(a={},a[c.COLLECT_COINS]="M\xfcnzen sammeln",a[c.SAVE_THE_DOG]="Rette den Collie-Hund",a[c.DEFEAT_ENEMIES]="Verlust ",a[c.CUSTOM]="",a)}},o.aio_lang_cfg_key_arr=Object.keys(o.aio_lang_cfg.label.EN),o.number_of_aio_lang=Object.keys(o.aio_lang_cfg.label).length,o.aio_quest_cfg_key_arr=Object.keys(o.aio_lang_cfg.quest.EN),o.number_of_aio_quest=Object.keys(o.aio_lang_cfg.quest).length,function(t){function e(t){return o.aio_lang_cfg.label[s.default.instance.tlang][t]}function n(){return"JA"===s.default.instance.tlang}t.get_lang_text_at_key=function(t,e){return o.aio_lang_cfg.label[t][e]},t.get_current_lang_text_at_key=e,t.is_current_off_font=n,t.fast_change_current_lang_text=function(t,o){t.string=e(o),t.enableBold=t.useSystemFont=n()},t.change_current_lang_text=function(t,o,n){t.string=e(o),n&&(null!=n.size&&(t.fontSize=n.size),null!=n.height&&(t.lineHeight=n.height),null!=n.bold&&(t.enableBold=n.bold),null!=n.height&&(t.enableItalic=n.italic),null!=n.height&&(t.useSystemFont=n.off_font))},t.get_quest_text_at_key=function(t,e){return o.aio_lang_cfg.quest[t][e]}}(o.AIOLang||(o.AIOLang={})),cc._RF.pop()},{"../../MainScene":"MainScene"}],AIOLanguage:[function(t,e,o){"use strict";cc._RF.push(e,"44b348RxClInoxB1/DHCu4r","AIOLanguage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AIOLanguage=void 0;var a,c=t("../../MainScene"),s=t("../Extended/MultiLangsOption"),l=t("./AIOLangConfig"),p=cc._decorator,u=p.ccclass,f=p.property,d=p.menu;(function(t){t[t.LABEL=0]="LABEL",t[t.SPRITE=1]="SPRITE",t[t.SPINE=2]="SPINE"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=cc.v2(),e}return i(e,t),e.prototype.execute=function(t){this.enable_option&&t&&t.setPosition(this.position)},r([f({visible:function(){return this.enable_option}})],e.prototype,"position",void 0),r([u("AIOLanguageOptionHelper")],e)}(function(){function t(){this.enable_option=!1}return r([f()],t.prototype,"enable_option",void 0),r([u("AIOLangOptionHelper")],t)}()),_=function(){function t(){this._name="EN",this.base=new h,this._target=null}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preview_this",{get:function(){return!1},set:function(t){t&&this.settup()},enumerable:!1,configurable:!0}),t.prototype._base_setter=function(){this._target&&this.base.execute(this._target.node)},t.prototype.settup=function(){this._base_setter(),this._settup()},r([f(cc.String)],t.prototype,"_name",void 0),r([f()],t.prototype,"name",null),r([f({type:h})],t.prototype,"base",void 0),r([f()],t.prototype,"preview_this",null),r([u("AIOLanguageOption")],t)}(),y=(function(){function t(){this.off_font=!1,this.size=0,this.height=0,this.bold=!1,this.italic=!1}t.prototype.init=function(t,e,o){this.height=o,this.size=e,this.off_font=t},t.prototype.settup=function(t,e){t&&(t.string=e,t.fontSize=this.size,t.lineHeight=this.height,t.enableBold=this.bold,t.enableItalic=this.italic,t.useSystemFont=this.off_font)},r([f({readonly:!0})],t.prototype,"off_font",void 0),r([f({displayName:"Font size"})],t.prototype,"size",void 0),r([f({displayName:"Line height"})],t.prototype,"height",void 0),r([f()],t.prototype,"bold",void 0),r([f()],t.prototype,"italic",void 0),t=r([u("AIOLabelLangOptionHelper")],t)}(),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target=null,e._key="play",e.prefix="",e.surfix="",e.option=new s.LabelOptions,e}var o;return i(e,t),o=e,e.create=function(t,e){var n=new o;return n._target=t,n._name=e,n.option.init({bold:"JA"===e,italic:!1,size:t.fontSize,height:t.lineHeight,off_font:"JA"===e}),n},e.prototype.set_key=function(t){this._key=t},Object.defineProperty(e.prototype,"preview_text",{get:function(){return this.prefix+l.AIOLang.get_lang_text_at_key(this._name,this._key)+this.surfix},enumerable:!1,configurable:!0}),e.prototype._settup=function(){this.option.settup(this._target,this.preview_text)},r([f({override:!0})],e.prototype,"_target",void 0),r([f(cc.String)],e.prototype,"_key",void 0),r([f()],e.prototype,"prefix",void 0),r([f()],e.prototype,"surfix",void 0),r([f()],e.prototype,"preview_text",null),r([f(s.LabelOptions)],e.prototype,"option",void 0),o=r([u("AIOLabelLanguageOption")],e)}(_)),g=function(){function t(){this.color=cc.Color.WHITE,this.size=cc.size(0,0)}return Object.defineProperty(t.prototype,"opacity",{get:function(){return this.color.a},enumerable:!1,configurable:!0}),t.prototype.settup=function(t){t.node.color=this.color,t.node.opacity=this.opacity},r([f(cc.Color)],t.prototype,"color",void 0),r([f()],t.prototype,"opacity",null),r([f()],t.prototype,"size",void 0),r([u("AIOSpriteLangOptionHelper")],t)}(),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._key=null,e.option=new g,e}var o;return i(e,t),o=e,e.create=function(t,e){var n=new o;return n._name=e,n._target=t,n},Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(t){this._key=t,this.option.size=t.getRect().size},enumerable:!1,configurable:!0}),e.prototype._settup=function(){this._target.spriteFrame=this._key,this.option.settup(this._target)},r([f(cc.SpriteFrame)],e.prototype,"_key",void 0),r([f({type:cc.SpriteFrame})],e.prototype,"key",null),r([f(g)],e.prototype,"option",void 0),o=r([u("AIOSpriteLanguageOption")],e)}(_),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=a.LABEL,e._key="",e._option=[],e}return i(e,t),Object.defineProperty(e.prototype,"keys",{get:function(){return l.aio_lang_cfg_key_arr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(t){if(this._key=t,null!=l.AIOLang.get_lang_text_at_key("EN",t))for(var e=0,o=this.option;e<o.length;e++)o[e].set_key(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"option",{get:function(){return this._option.length<=0&&this._setup_option(),this._option},enumerable:!1,configurable:!0}),e.prototype._setup_option=function(){var t=this.getComponent(cc.RenderComponent);if(t instanceof cc.Sprite)for(var e in this._option=[],this._type=a.SPRITE,l.aio_lang_cfg.label)this._option.push(v.create(t,e));else if(t instanceof cc.Label)for(var e in this._option=[],this._type=a.LABEL,l.aio_lang_cfg.label)this._option.push(y.create(t,e))},e.prototype.onEnable=function(){for(var t=0,e=this._option;t<e.length;t++){var o=e[t];if(c.default.instance.language===o._name)return void o.settup()}},r([f({type:cc.Enum(a)})],e.prototype,"_type",void 0),r([f({type:[cc.String],visible:function(){return this._type===a.LABEL}})],e.prototype,"keys",null),r([f()],e.prototype,"_key",void 0),r([f({displayName:"KEY >>>>>>>>>>",visible:function(){return this._type===a.LABEL}})],e.prototype,"key",null),r([f(_)],e.prototype,"_option",void 0),r([f({type:_,visible:function(){return!!this._option}})],e.prototype,"option",null),r([u,d("Language/AIO-Lang")],e)}(cc.Component);o.AIOLanguage=b,cc._RF.pop()},{"../../MainScene":"MainScene","../Extended/MultiLangsOption":"MultiLangsOption","./AIOLangConfig":"AIOLangConfig"}],APDGameData:[function(t,e,o){"use strict";cc._RF.push(e,"6c2d65ge51N+5snVNgbhPAj","APDGameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.APDGameData=void 0;var n=function(){function t(){}return t.prototype.instance_init=function(){console.log("INIT SINGLETON DATA..."),this.init_data(),console.log("FINISH INIT DATA",this)},t.prototype.load_data=function(t,e,o){this.set_data(t,this.get_value(this.get_key(t),e,o))},t.prototype.get_value=function(t,e,o){return""===e[t]||null===e[t]||void 0===e[t]?o:e[t]},t}();o.APDGameData=n,cc._RF.pop()},{}],ASpawner:[function(t,e,o){"use strict";cc._RF.push(e,"fd510PJnDxI8akpZwyFBrfP","ASpawner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ASpawner=o.SOTargetScaler=o.SORandomScaler=o.ASpawnerOptions=o.ESpawnerOptions=void 0;var a,c=t("../../base/utils/MathUtil"),s=t("../Helper/Global"),l=t("./SpawnerRect"),p=cc._decorator,u=p.ccclass,f=p.property,d=p.requireComponent,h=p.executeInEditMode;(function(t){t[t.NONE=0]="NONE",t[t.RANDOM_SCALER=1]="RANDOM_SCALER",t[t.TARGET_SCALER=2]="TARGET_SCALER"})(a=o.ESpawnerOptions||(o.ESpawnerOptions={}));var _=function(){function t(){}return r([u("ASpawnerOptions")],t)}();o.ASpawnerOptions=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.from=0,e.to=0,e}return i(e,t),e.prototype.execute=function(t){var e=c.randomRange(this.from,this.to,2);s.PTS.logger("[SORandom Scaler] Adding Scale amount: "+e),t.scaleX+=e,t.scaleY+=e},r([f({tooltip:""})],e.prototype,"from",void 0),r([f({tooltip:""})],e.prototype,"to",void 0),r([u("SORandomScaler")],e)}(_);o.SORandomScaler=y;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaler=cc.v2(1,1),e}return i(e,t),e.prototype.execute=function(t){t.scaleX=this.scaler.x,t.scaleY=this.scaler.y},r([f()],e.prototype,"scaler",void 0),r([u("SOTargetScaler")],e)}(_);o.SOTargetScaler=g;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sample=null,e._sample_node=null,e._targetParent_=null,e._options=0,e.optionValue=null,e._editor_only=!0,e.node_pools=[],e._ret_sample=null,e}return i(e,t),Object.defineProperty(e.prototype,"sample",{get:function(){return this._sample},set:function(t){this._sample=t,t&&(this._sample_node=null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sample_node",{get:function(){return this._sample_node},set:function(t){this._sample_node=t,t&&(this._sample=null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sample_clone",{get:function(){return this._sample||this._sample_node||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rect",{get:function(){return this.getComponent(l.SpawnerRect)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetParent",{get:function(){return this._targetParent_?this._targetParent_:this.node},set:function(t){this._targetParent_=t||this.node},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(t){switch(this._options=t,t){case a.NONE:this.cleanOptionValue();break;case a.RANDOM_SCALER:this.optionValue=new y;break;case a.TARGET_SCALER:this.optionValue=new g}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editor_only",{get:function(){return this._editor_only},set:function(t){this._editor_only=t,t||(this.node_pools=[])},enumerable:!1,configurable:!0}),e.prototype.cleanOptionValue=function(){cc.js.clear(this.optionValue),this.optionValue=null},Object.defineProperty(e.prototype,"magicSpawn",{get:function(){return!1},set:function(t){t&&(this.spawnMechanic(),this._after_spawn())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clean_up",{get:function(){return!1},set:function(t){if(t){for(var e=0,o=this.node_pools;e<o.length;e++)o[e].destroy();this.node_pools=[]}},enumerable:!1,configurable:!0}),e.prototype._after_spawn=function(){this._sample_node&&(this._sample_node.destroy(),this._sample_node=this._ret_sample)},e.prototype.spawn=function(){if(this.sample_clone){this._ret_sample=cc.instantiate(this.sample_clone);var t=this.rect.shape,e=c.randomRange(t.x,t.width),o=c.randomRange(t.y,t.height);if(this._ret_sample.setPosition(e,o),this.optionValue&&this.optionValue.execute(this._ret_sample),this.editor_only&&this.node_pools.push(this._ret_sample),this.node.addChild(this._ret_sample),this._targetParent_!=this.node){var n=this._ret_sample.convertToWorldSpaceAR(cc.v3());this._ret_sample.setParent(this._targetParent_),this._ret_sample.setPosition(this._targetParent_.convertToNodeSpaceAR(n))}}},e.prototype.onLoad=function(){this.editor_only&&this.destroy()},r([f(cc.Prefab)],e.prototype,"_sample",void 0),r([f({type:cc.Prefab,visible:function(){return!this.sample_node}})],e.prototype,"sample",null),r([f(cc.Node)],e.prototype,"_sample_node",void 0),r([f({type:cc.Node,displayName:"Sample",visible:function(){return!this.sample}})],e.prototype,"sample_node",null),r([f(l.SpawnerRect)],e.prototype,"rect",null),r([f(cc.Node)],e.prototype,"_targetParent_",void 0),r([f({type:cc.Node,tooltip:"The target 'Parent' of these 'Sample'. The default is this Node.",visible:function(){return!!this.sample}})],e.prototype,"targetParent",null),r([f({type:cc.Enum(a)})],e.prototype,"_options",void 0),r([f({type:cc.Enum(a),visible:function(){return!!this.sample}})],e.prototype,"options",null),r([f({type:_,visible:function(){return!!this.optionValue}})],e.prototype,"optionValue",void 0),r([f()],e.prototype,"_editor_only",void 0),r([f()],e.prototype,"editor_only",null),r([f()],e.prototype,"magicSpawn",null),r([f({visible:function(){return this._editor_only&&this.node_pools.length>0}})],e.prototype,"clean_up",null),r([f([cc.Node])],e.prototype,"node_pools",void 0),r([u,d(l.SpawnerRect),h()],e)}(cc.Component);o.ASpawner=v,cc._RF.pop()},{"../../base/utils/MathUtil":"MathUtil","../Helper/Global":"Global","./SpawnerRect":"SpawnerRect"}],ActiveBox:[function(t,e,o){"use strict";cc._RF.push(e,"7db68c+jzVO2bWlPO6OJ3A6","ActiveBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.requireComponent,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.once=!0,e.listEvents=[],e}return i(e,t),e.prototype.start=function(){this.node.opacity=0},e.prototype.onCollisionEnter=function(t){cc.log("ActiveBox "+t.node.name),t.node===this.targetNode&&(cc.Component.EventHandler.emitEvents(this.listEvents),this.once&&(this.node.active=!1))},r([l(cc.Node)],e.prototype,"targetNode",void 0),r([l(cc.Boolean)],e.prototype,"once",void 0),r([l([cc.Component.EventHandler])],e.prototype,"listEvents",void 0),r([s,a(cc.BoxCollider)],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ActiveFun:[function(t,e,o){"use strict";cc._RF.push(e,"2ca293bvCBCyJyFHvJJqHxD","ActiveFun");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"28273v0gFZBtJL9nAz3j17h","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MathUtil"),i=function(){function t(){}return t.shuffle=function(t){var e,o,n;for(n=t.length;n;n--)e=Math.floor(Math.random()*n),o=t[n-1],t[n-1]=t[e],t[e]=o},t.maxOf=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=t[0],n=1;n<t.length;n++)e(t[n],o)&&(o=t[n]);return o},t.getShuffleArray=function(t){for(var e,o,n=t.length;0!==n;)o=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[o],t[o]=e;return t},t.removeElement=function(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)},t.removeElements=function(t,e){e.forEach(function(e){this.removeElement(t,e)}.bind(this))},t.moveElementFromTo=function(t,e,o){var n=t.length;n<2||e<0||o<0||e>n-1||o>n-1||e===o||t.splice(o,0,t.splice(e,1)[0])},t.swapElement=function(t,e,o){if(e!==o){var n=t[e];t[e]=t[o],t[o]=n}},t.swapRandomElement=function(t){var e=t.length;if(!(e<2))for(var o=0;o<e;o++){var n=void 0;do{n=Math.floor(Math.random()*e)}while(o===n);this.swapElement(t,o,n)}},t.prototype.count=function(t,e){var o=0;return t.forEach(function(t){e(t)&&o++}),o},t.prototype.sortAscending_CardUIArray=function(t){t.sort(function(t,e){return t.id-e.id})},t.prototype.sortGroup_CardUIArray=function(e){t.shuffle(e)},t.prototype.indexOfMax=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=0,n=1;n<t.length;n++)e(t[n],t[o])&&(o=n);return o},t.prototype.firstIndexOf=function(t,e){for(var o=0;o<t.length;o++)if(e(t[o]))return o;return-1},t.prototype.lastIndexOf=function(t,e){for(var o=t.length-1;o>=0;o--)if(e(t[o]))return o;return-1},t.sumOf=function(t){return t.reduce(function(t,e){return t+e})},t.isStringInNoUpperLowerDistinguish=function(t,e){for(var o=t.toLowerCase(),n=0;n<e.length;n++)e[n]=e[n].toLowerCase();return e.indexOf(o)>=0},t.getRandomTwoSwapIndex=function(t){var e=n.default.randomInt(t),o=n.default.randomInt(t);return e===o&&((o+=1)===t&&(o-=2),o=o>=0?o:0),{first:e,sec:o}},t.findMaxLessThan=function(t,e,o){void 0===o&&(o=1);for(var n=t.length-1;n>0;n--)if(t[n]*o<=e)return n;return-1},t.getClone2DArray=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o].slice(0));return e},t.getClone1DArray=function(t){return[].concat(t)},t.get2DArrayOf1D=function(t,e){for(var o=[],n=Math.floor(t.length/e),i=0;i<n;i++){for(var r=[],a=i*e,c=a+e,s=a;s<c;s++)r.push(t[s]);o.push(r)}return o},t.concatNoDuplicate=function(t,e){for(var o=[].concat(t),n=0;n<e.length;n++)o.indexOf(e[n])<0&&o.push(e[n]);return o},t}();o.default=i,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioInformation:[function(t,e,o){"use strict";cc._RF.push(e,"96e1bCbrHFFcKRZTgDnyH3z","AudioInformation");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioInformation=void 0;var i=t("../../MainScene"),r=t("../../config/AudioPlayId"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(){function t(){this.name=r.AudioPlayId.none,this.volume=1,this.loop=!1,this._audio=null}return t.prototype.play=function(){this.name!==r.AudioPlayId.none&&(this._audio=i.default.instance.audioPlayer.playAudio(this.name,this.loop,this.volume))},t.prototype.stop=function(){this._audio&&i.default.instance.audioPlayer.stopAudioPlay(this._audio)},n([s({type:cc.Enum(r.AudioPlayId)})],t.prototype,"name",void 0),n([s({min:0,visible:function(){return this.name!==r.AudioPlayId.none}})],t.prototype,"volume",void 0),n([s({visible:function(){return this.name!==r.AudioPlayId.none}})],t.prototype,"loop",void 0),n([c("AudioInformation")],t)}();o.AudioInformation=l,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"4fd31cuiKBAkI896NGa51Ca","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../plugins/fb/FBInstantData"),i=function(){function t(){}return Object.defineProperty(t,"RealMusicVolume",{get:function(){return t._MusicEnable?t._MusicVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RealEffectVolume",{get:function(){return t._EffectEnable?t._EffectVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicVolume",{get:function(){return t._MusicVolume},set:function(e){t._MusicVolume=e,t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectVolume",{get:function(){return t._EffectVolume},set:function(e){t._EffectVolume=e,t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectEnable",{get:function(){return n.FBInstantData.getData(["EffectEnable"],function(e){t._EffectEnable=e.EffectEnable},null),t._EffectEnable},set:function(e){cc.log("EffectEnable: "+e),t._EffectEnable=e,n.FBInstantData.setData({EffectEnable:t._EffectEnable});var o=e?t._EffectVolume:0;t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicEnable",{get:function(){return n.FBInstantData.getData(["MusicEnable"],function(e){t._MusicEnable=e.MusicEnable},null),t._MusicEnable},set:function(e){cc.log("MusicEnable: "+e),t._MusicEnable=e,n.FBInstantData.setData({MusicEnable:t._MusicEnable});var o=e?t._MusicVolume:0;t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(o)})},enumerable:!1,configurable:!0}),t.add=function(e){t.arrAudioPlayer.push(e)},t.remove=function(e){var o=t.arrAudioPlayer.indexOf(e);-1!==o&&t.arrAudioPlayer.splice(o,1)},t._MusicVolume=1,t._EffectVolume=1,t._MusicEnable=!0,t._EffectEnable=!0,t.arrAudioPlayer=[],t}();o.default=i,cc._RF.pop()},{"../../plugins/fb/FBInstantData":"FBInstantData"}],AudioPlayId:[function(t,e,o){"use strict";cc._RF.push(e,"64605gIrJdCDoFRiN/cHV+6","AudioPlayId"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlayId=void 0,function(t){t[t.none=0]="none",t[t.music_background=1]="music_background",t[t.music_lose_level=2]="music_lose_level",t[t.music_win_level=3]="music_win_level",t[t.effect_lava_collect=100]="effect_lava_collect",t[t.effect_water_collide=102]="effect_water_collide",t[t.effect_gems=103]="effect_gems",t[t.effect_coin_collect=104]="effect_coin_collect",t[t.effect_fire_active=105]="effect_fire_active",t[t.effect_stick_block=106]="effect_stick_block",t[t.effect_stick_move=107]="effect_stick_move",t[t.effect_boomb_active=108]="effect_boomb_active",t[t.effect_bonus_star=109]="effect_bonus_star",t[t.effect_scissor_cut=110]="effect_scissor_cut",t[t.effect_click=111]="effect_click",t[t.effect_coin_grab=112]="effect_coin_grab",t[t.effect_coin_fly=113]="effect_coin_fly",t[t.effect_walking_on_floor=114]="effect_walking_on_floor",t[t.effect_running_on_floor=115]="effect_running_on_floor",t[t.effect_key_in_lock=116]="effect_key_in_lock",t[t.effect_open_some=117]="effect_open_some",t[t.effect_take_photo=118]="effect_take_photo",t[t.effect_matchbox_active=119]="effect_matchbox_active",t[t.effect_clue_new=120]="effect_clue_new",t[t.effect_stone_gate=121]="effect_stone_gate",t[t.effect_typing_clues=122]="effect_typing_clues",t[t.effect_smash_glass=123]="effect_smash_glass",t[t.main_say_alright=300]="main_say_alright",t[t.main_say_are_y_injured=301]="main_say_are_y_injured",t[t.main_say_can_y_help_me=302]="main_say_can_y_help_me",t[t.main_say_excellent=303]="main_say_excellent",t[t.main_say_folow_me=304]="main_say_folow_me",t[t.main_say_hury_up=305]="main_say_hury_up",t[t.main_say_i_think_i_hear_someone=306]="main_say_i_think_i_hear_someone",t[t.main_say_Ive_seen_any_think=307]="main_say_Ive_seen_any_think",t[t.main_say_may_i_see_it=308]="main_say_may_i_see_it",t[t.main_say_my_legs=309]="main_say_my_legs",t[t.main_say_see_it=310]="main_say_see_it",t[t.main_say_shall_we_go=311]="main_say_shall_we_go",t[t.main_say_were_need_help=312]="main_say_were_need_help",t[t.main_say_what=313]="main_say_what",t[t.main_say_what_do_y_want=314]="main_say_what_do_y_want",t[t.main_say_what_will_y_do=315]="main_say_what_will_y_do",t[t.main_say_y_shouldnt_be_here=316]="main_say_y_shouldnt_be_here",t[t.main_say_yah_yah=317]="main_say_yah_yah",t[t.main_say_you_shouldnt_do_that=318]="main_say_you_shouldnt_do_that",t[t.main_cold=350]="main_cold",t[t.main_cough=351]="main_cough",t[t.main_cough_2=352]="main_cough_2",t[t.main_hmmm=353]="main_hmmm",t[t.main_hurt=354]="main_hurt",t[t.main_ouch=355]="main_ouch",t[t.main_scared=356]="main_scared",t[t.main_thinking=357]="main_thinking",t[t.main_yoohoo=358]="main_yoohoo",t[t.phantom_say=400]="phantom_say",t[t.phantom_big_smile=401]="phantom_big_smile",t[t.phantom_idle=402]="phantom_idle",t[t.phantom_lose=403]="phantom_lose",t[t.werewolf_idle=410]="werewolf_idle",t[t.werewolf_lose=411]="werewolf_lose",t[t.dog_idle=420]="dog_idle",t[t.dog_sad=421]="dog_sad",t[t.dog_sad2=422]="dog_sad2",t[t.dog_barking=423]="dog_barking",t[t.scientist_idle=440]="scientist_idle",t[t.scientist_lose=441]="scientist_lose",t[t.background_intro=500]="background_intro",t[t.sound_open_intro=501]="sound_open_intro",t[t.sound_phantom_fly=502]="sound_phantom_fly",t[t.sound_phantom_hohoho=503]="sound_phantom_hohoho",t[t.grandma_say=504]="grandma_say",t[t.grandma_scared=505]="grandma_scared",t[t.sound_wind=506]="sound_wind",t[t.sound_smoke_bomb=507]="sound_smoke_bomb",t[t.grandma_say_ahhh=508]="grandma_say_ahhh",t[t.delete=999]="delete"}(o.AudioPlayId||(o.AudioPlayId={})),cc._RF.pop()},{}],AudioPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"9bfc9UVsnVBHbXGh3Z4oKcE","AudioPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlay=o.AudioObject=void 0;var a=t("./AudioManager"),c=t("../../config/AudioPlayId"),s=t("../../MainScene"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.inspector,d=function(){function t(){this.name=c.AudioPlayId.none,this.audioClip=null,this.isMusic=!1}return r([u({type:cc.Enum(c.AudioPlayId)})],t.prototype,"name",void 0),r([u({type:cc.AudioClip})],t.prototype,"audioClip",void 0),r([u(cc.Boolean)],t.prototype,"isMusic",void 0),r([p("AudioObject")],t)}();o.AudioObject=d;var h=function(t,e,o){this.audioId=t,this.volume=e,this.isMusic=o};o.AudioPlay=h;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayAudioObj=[],e.maps=null,e.arrayMusic=[],e.arrayEffect=[],e}return i(e,t),Object.defineProperty(e.prototype,"resort",{set:function(t){t&&this.arrayAudioObj.sort(function(t,e){return t.name.valueOf()-e.name.valueOf()})},enumerable:!1,configurable:!0}),e.prototype.playAudio=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=1);var n,i=this.getAudioObject(t);if(!i)return cc.error("playAudio: "+t),null;if(i.isMusic){var r=cc.audioEngine.play(i.audioClip,e,o*a.default.RealMusicVolume);n=new h(r,o,!0),this.arrayMusic.push(n)}else r=cc.audioEngine.play(i.audioClip,e,o*a.default.RealEffectVolume),n=new h(r,o,!1),this.arrayEffect.push(n);return cc.log("Played audio: "+t),n},e.prototype.stopAudioPlay=function(t,e){var o;if(t)if(t.isMusic)-1!==(o=this.arrayMusic.indexOf(t))&&(cc.audioEngine.stop(t.audioId),this.arrayMusic.splice(o,1));else if(-1!==(o=this.arrayEffect.indexOf(t))){if(e){var n=this;cc.tween({a:t.volume}).to(.5,{a:0},{progress:function(e,o,i,r){i=e+(o-e)*r,n.setAudioPlayVolume(t,i)}}).call(function(){cc.audioEngine.stop(t.audioId)}).start()}else cc.audioEngine.stop(t.audioId);this.arrayEffect.splice(o,1)}},e.prototype.setAudioPlayVolume=function(t,e){t.volume=e,t.isMusic?cc.audioEngine.setVolume(t.audioId,e*a.default.RealMusicVolume):cc.audioEngine.setVolume(t.audioId,e*a.default.RealEffectVolume)},e.prototype.setVolume=function(t){this.setMusicVolume(t),this.setEffectVolume(t)},e.prototype.setMusicVolume=function(t){this.arrayMusic.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.setEffectVolume=function(t){this.arrayEffect.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.stopAllAudio=function(){this.stopAllEffect(),this.stopAllMusic()},e.prototype.stopAllMusic=function(){this.arrayMusic.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayMusic=[]},e.prototype.stopAllEffect=function(){this.arrayEffect.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayEffect=[]},e.prototype.getAudioObject=function(t){return this.maps||this.initMaps(),this.maps.get(t)},e.prototype.initMaps=function(){var t=this;this.maps=new Map,this.arrayAudioObj.forEach(function(e){t.maps.set(e.name,e)})},e.playArrAudioObj=function(t){var e=[];return t.forEach(function(t){t.sound&&e.push(s.default.instance.audioPlayer.playAudio(t.sound,t.loop,t.volume))}),e},e.stopArrAudioObj=function(t){t.forEach(function(t){s.default.instance.audioPlayer.stopAudioPlay(t)})},e.prototype.onLoad=function(){a.default.add(this)},e.prototype.onDestroy=function(){a.default.remove(this),this.stopAllAudio()},r([u()],e.prototype,"resort",null),r([u([d])],e.prototype,"arrayAudioObj",void 0),r([p,f("packages://audio-player-sort/inspector/index.js")],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","./AudioManager":"AudioManager"}],BackgroundLoader:[function(t,e,o){"use strict";cc._RF.push(e,"a964bAjM8hIm7cETX000x4q","BackgroundLoader"),Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundLoader=void 0;var n=function(){function t(){}return t.removeTask=function(t){var e=this.tasks.indexOf(t);-1!=e&&this.tasks.splice(e,1),console.log("completed. Remain: "+this.tasks.length)},t.addTask=function(t){var e=this;if(this.tasks.length>0){var o=this.tasks[this.tasks.length-1];o._completeCallback=function(){e.removeTask(o),t._callback()}}else t._callback();t._completeCallback=function(){e.removeTask(t)},this.tasks.push(t)},t.tasks=[],t}();o.BackgroundLoader=n,cc._RF.pop()},{}],BallGO:[function(t,e,o){"use strict";cc._RF.push(e,"b6f643zHWJPnJAuKqDMKFWJ","BallGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BallGO=void 0;var a=t("../../config/TagObject"),c=t("../../level/LevelDataController"),s=t("./DeathGO"),l=t("./LiquidGO"),p=t("./ObjectGO"),u=cc._decorator.ccclass,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.enterCollision=function(t){if(!this.is_done){var e=t.getComponent(p.ObjectGO);return e instanceof l.LiquidGO&&e.check_type(a.TagConfig.LAVA)?(this.active_collection_fx(cc.instance(c.LevelDataController).node),cc.instance(c.LevelDataController).countCoinDestroyed++,void(this.on_burn?this.on_burn():this.do_outside(t.node))):e instanceof s.DeathGO&&e.check_type(a.TagConfig.BOMB)?(this.active_collection_fx(t.node),void this.do_outside(t.node)):void 0}},r([u],e)}(p.ObjectGO);o.BallGO=f,cc._RF.pop()},{"../../config/TagObject":"TagObject","../../level/LevelDataController":"LevelDataController","./DeathGO":"DeathGO","./LiquidGO":"LiquidGO","./ObjectGO":"ObjectGO"}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"d2743cPFrhBHYqiAhT9tQzk","Ball");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../level/MapLevel"),c=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),l=t("../../config/TagObject"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.available=!0,e.fx=null,e.sprite=null,e.offPhysics=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"gems")},e.prototype.start=function(){o.transformCount=0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t){if(this.available&&t.node.group===c.GroupConfig.COLLIDER)if(this.getComponent(cc.RigidBody).destroy(),this.fx.active=!0,this.fx.setPosition(this.sprite.node.getPosition()),t.node.name==l.TagConfig.BOMB){var e=t.node.getComponent(l.default).tag2;if(e==l.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==l.TagConfig.NONE)return void(this.sprite.node.active=!1)}else this.sprite.node.active=!1},e.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&a.default.instance.isPlaying},e.transformCount=0,r([f(cc.Node)],e.prototype,"fx",void 0),r([f(cc.Sprite)],e.prototype,"sprite",void 0),r([f()],e.prototype,"offPhysics",void 0),o=r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"fe7d21qbyVDDayHyj4vq4II","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){t.clamp();for(var e=[],o=0;o<t.sigBytes;o+=3)for(var n=(t.words[o>>>2]>>>24-o%4*8&255)<<16|(t.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t.words[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;i<4&&o+.75*i<t.sigBytes;i++)e.push(this._map.charAt(n>>>6*(3-i)&63));var r=this._map.charAt(64);if(r)for(;e.length%4;)e.push(r);return e.join("")},t.parse=function(t){var e=t.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var n=this._map.charAt(64);if(n){var i=t.indexOf(n);-1!==i&&(e=i)}return this.parseLoop(t,e,this._reverseMap)},t.parseLoop=function(t,e,o){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var c=o[t.charCodeAt(a-1)]<<a%4*2,s=o[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=(c|s)<<24-r%4*8,r++}return new n.WordArray(i,r)},t._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._reverseMap=void 0,t}();o.Base64=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],BaseSpawner:[function(t,e,o){"use strict";cc._RF.push(e,"f65b96a9JlIC6/PzrFYBzL5","BaseSpawner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseSpawner=void 0;var a=t("./ASpawner"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spawnNum=1,e}return i(e,t),e.prototype.spawnMechanic=function(){for(var t=0;t<this.spawnNum;t++)this.spawn()},r([l({min:1,type:cc.Integer})],e.prototype,"spawnNum",void 0),r([s,p("TSEditor/Spawner/Base")],e)}(a.ASpawner);o.BaseSpawner=u,cc._RF.pop()},{"./ASpawner":"ASpawner"}],Base:[function(t,e,o){"use strict";cc._RF.push(e,"6e617383w5PTrGEqN772dO6","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BgWinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"a3f28xOzKpO5KOC17iRm5bB","BgWinPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.requireComponent),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._opacity=150,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this._opacity=this.node.opacity},e.prototype.start=function(){this.deActive()},e.prototype.active=function(){this.getComponent(cc.Sprite).enabled=!0},e.prototype.fade_out=function(t,e){var o=this;void 0===t&&(t=.5),void 0===e&&(e=!0),this.active(),this.node.opacity=this._opacity,cc.tween(this.node).to(t,{opacity:0}).call(function(){e&&o.deActive()}).start()},e.prototype.fade_in=function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=!0),e&&this.active(),this.node.opacity=0,cc.tween(this.node).to(t,{opacity:this._opacity}).start(),t},e.prototype.deActive=function(){this.node.opacity=0,this.getComponent(cc.Sprite).enabled=!1},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.node)},e._instance=null,o=r([c,s(cc.Sprite)],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BigBang:[function(t,e,o){"use strict";cc._RF.push(e,"4b544/S0+VBi7Mf5oLI8B72","BigBang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../MainScene"),c=t("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeAttack=.5,e.hitAttack=null,e.bumPrefab=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.hitAttack.removeComponent(cc.CircleCollider),t.node.destroy()},this.timeAttack),this.showBumEffect()},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=1,this.node.getParent().addChild(t),a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_boomb_active,!1,1.5),cc.tween(t).delay(2).call(function(){t.destroy()}).start()},r([p(cc.Float)],e.prototype,"timeAttack",void 0),r([p(cc.Node)],e.prototype,"hitAttack",void 0),r([p(cc.Prefab)],e.prototype,"bumPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],BigStone:[function(t,e,o){"use strict";cc._RF.push(e,"ae47diI/DNKZ6oYDkVlYShG","BigStone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"big_stone")},e.prototype.onCollisionEnter=function(t){t.node.group===a.GroupConfig.BERRIE||(t.node.group,a.GroupConfig.ROCK)},r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BlockCipherModeAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"215dcJ9eM1NZ5FV34H+5WBP","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var n=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this._cipher=t,this._iv=e},t}();o.BlockCipherModeAlgorithm=n,cc._RF.pop()},{}],BlockCipherMode:[function(t,e,o){"use strict";cc._RF.push(e,"2ccb35VwFBIlZEfT5t0TZkz","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var n=t("./BlockCipherModeAlgorithm"),i=function(){function t(){}return t.createEncryptor=function(t,e){return new(0,this.Encryptor)(t,e)},t.createDecryptor=function(t,e){return new(0,this.Decryptor)(t,e)},t.Encryptor=n.BlockCipherModeAlgorithm,t.Decryptor=n.BlockCipherModeAlgorithm,t}();o.BlockCipherMode=i,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(t,e,o){"use strict";cc._RF.push(e,"5c4e1pBgXZCvKCvVYX8KbUO","BlockCipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var r=t("./Cipher"),a=t("../mode/CBC"),c=t("../pad/PKCS7"),s=function(t){function e(e,o,n){return t.call(this,e,o,Object.assign({blockSize:4,mode:a.CBC,padding:c.PKCS7},n))||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var e;this._xformMode===this.constructor._ENC_XFORM_MODE?e=this.cfg.mode.createEncryptor:(e=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===e?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=e.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=e)},e.prototype._doProcessBlock=function(t,e){this._mode.processBlock(t,e)},e.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var t;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),t=this._process(!0)}else t=this._process(!0),this.cfg.padding.unpad(t);return t},e}(r.Cipher);o.BlockCipher=s,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],Bomb:[function(t,e,o){"use strict";cc._RF.push(e,"27a9fLgW7hIIrOK0rr5oTkV","Bomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigBangPrefab=null,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"bomb")},e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.CHARACTER&&t.node.group!==a.GroupConfig.BERRIE&&t.node.group!==a.GroupConfig.ROCK||this.attack()},e.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var t=cc.instantiate(this.bigBangPrefab),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.node.destroy()},r([p(cc.Prefab)],e.prototype,"bigBangPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BoxCheckOut:[function(t,e,o){"use strict";cc._RF.push(e,"b4853ZFRJdBAZaesNtEQEjR","BoxCheckOut");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BoxCheckOut=void 0;var a=t("../../base/ColliderCallback"),c=t("../drop/ObjectGO"),s=cc._decorator,l=s.ccclass,p=(s.property,s.requireComponent),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.getComponent(a.default).setColliderCallback(this.enterCollision.bind(this))},e.prototype.enterCollision=function(t){for(var e=0,o=t.getComponents(c.ObjectGO);e<o.length;e++)o[e].do_outside()},r([l,p(a.default)],e)}(cc.Component);o.BoxCheckOut=u,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../drop/ObjectGO":"ObjectGO"}],BufferedBlockAlgorithmConfig:[function(t,e,o){"use strict";cc._RF.push(e,"bcd7aXTUztHaIlBMuneitvv","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"4389exlQERFmIkVyMSSB/Ub","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var n=t("../lib/WordArray"),i=t("../enc/Utf8"),r=function(){function t(t){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},t),this._data=new n.WordArray,this._nDataBytes=0}return t.prototype.reset=function(){this._data=new n.WordArray,this._nDataBytes=0},t.prototype._append=function(t){"string"==typeof t&&(t=i.Utf8.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var e,o=4*this.cfg.blockSize,i=this._data.sigBytes/o,r=(i=t?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0))*this.cfg.blockSize,a=Math.min(4*r,this._data.sigBytes);if(r){for(var c=0;c<r;c+=this.cfg.blockSize)this._doProcessBlock(this._data.words,c);e=this._data.words.splice(0,r),this._data.sigBytes-=a}return new n.WordArray(e,a)},t.prototype.clone=function(){var t=this.constructor();for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t._data=this._data.clone(),t},t}();o.BufferedBlockAlgorithm=r,cc._RF.pop()},{"../enc/Utf8":"Utf8","../lib/WordArray":"WordArray"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"ce76b+UskFF5pu2I3GghrjS","Bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;t.node.group===a.GroupConfig.CHARACTER&&(this.scheduleOnce(function(){e.node.opacity=0,cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.destroy()},.2))},e.velocityHit=500,r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],ButtonActive:[function(t,e,o){"use strict";cc._RF.push(e,"3b1c8B5ioNCjbQb6w+1FUpy","ButtonActive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=null,e.deactive=null,e}return i(e,t),e.prototype.activeBtn=function(){this.active.active=!0,this.deactive.active=!1},e.prototype.deactiveBtn=function(){this.active.active=!1,this.deactive.active=!0},r([s(cc.Node)],e.prototype,"active",void 0),r([s(cc.Node)],e.prototype,"deactive",void 0),r([c,l("Helper/ButtonActive")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],CBCDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"f9d4fl6l0ZOfKWQbNvYaQ8m","CBCDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=t.slice(e,e+this._cipher.cfg.blockSize);this._cipher.decryptBlock(t,e),this.xorBlock(t,e,this._cipher.cfg.blockSize),this._prevBlock=o},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"3156akD5EtMw61Y5xYGHwVX","CBCEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(t,e,this._cipher.cfg.blockSize),this._cipher.encryptBlock(t,e),this._prevBlock=t.slice(e,e+this._cipher.cfg.blockSize)},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(t,e,o){"use strict";cc._RF.push(e,"397bcXouhFJRIwYe7GnQ3+D","CBC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var r=t("./BlockCipherMode"),a=t("./CBCEncryptor"),c=t("./CBCDecryptor"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=a.CBCEncryptor,e.Decryptor=c.CBCDecryptor,e}(r.BlockCipherMode);o.CBC=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CCComponent:[function(t,e,o){"use strict";cc._RF.push(e,"040682xdnZLTqpS264ZnkiF","CCComponent");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Global"),r=function(){function t(){}return t.prototype.count_component=function(t,e){var o=0;t instanceof cc.Scene||(o+=t.getComponents(e).length);for(var n=0,i=t.children;n<i.length;n++){var r=i[n];o+=this.count_component(r,e)}return o},t.prototype.get_non_null_component=function(t,e){var o=(t instanceof cc.Node?t:t.node).getComponent(e);return o||o.addComponent(e)},t.prototype.get_root_node=function(t){var e=t.parent;return e?this.get_root_node(e):t},t.prototype.get_component_implemented=function(t,e){for(var o=(t instanceof cc.Node?t:t.node)._components,n=Object.keys(e),r=0,a=o;r<a.length;r++){var c=a[r],s=Object.keys(c).concat(Object.keys(c.constructor.prototype));if(i.PTS.utils.must_includes_array(n,s))return c}return null},t.prototype.get_components_implemented=function(t,e){for(var o=[],n=(t instanceof cc.Node?t:t.node)._components,r=Object.keys(e),a=0,c=n;a<c.length;a++){var s=c[a],l=Object.keys(s).concat(Object.keys(s.constructor.prototype));i.PTS.utils.must_includes_array(r,l)&&o.push(s)}return o},t.prototype.settup_button=function(t,e,o,n,i){void 0===i&&(i="");var r=e.getComponent(o);if(r&&Object.getOwnPropertyNames(r.constructor.prototype).includes(n)){var a=new cc.Component.EventHandler;a.target=e,a.component="string"==typeof o?o:cc.js.getClassName(r),console.log("COMPONENT: "+a.component),a.handler=n,a.customEventData=i,t.clickEvents.push(a)}},t.prototype.clean_up_button=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0,n=t;o<n.length;o++){var i=n[o];i.clickEvents=[]}},t.prototype.get_possible_component=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0,i=e;n<i.length;n++){var r=i[n],a=t.getComponent(r);if(a)return a}return null},t.prototype.get_possible_component_in_child=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=this.get_possible_component.apply(this,n([t],e));if(i)return i;for(var r=t instanceof cc.Component?t.node:t,a=0,c=r.children;a<c.length;a++){var s=c[a];if(i=this.get_possible_component_in_child.apply(this,n([s],e)))return i}return null},t.prototype.get_component_in_parent=function(t,e){if(t instanceof cc.Component)var o=t.node;else o=t;var n=o.getComponent(e);return n||(o.parent?parent.getComponent(e):n)},t.prototype.get_component_in_parents=function(t,e){if(t instanceof cc.Component)var o=t.node;else o=t;var n=o.getComponent(e);if(n)return n;var i=o.parent;return i?this.get_component_in_parents(i,e):null},t.prototype.get_component_in_childs=function(t,e){var o=null,n=null;if(n=(o=t instanceof cc.Component?t.node:t).getComponent(e))return n;for(var i=0,r=o.children;i<r.length;i++){var a=r[i];if(n=this.get_component_in_childs(a,e))return n}return n},t.prototype.get_component_in_child=function(t,e){if(t instanceof cc.Component)var o=t.node;else o=t;var n=null;if(n=o.getComponent(e))return n;for(var i=0,r=o.children;i<r.length;i++){var a=r[i];if(a&&n&&(n=a.getComponent(e)))return n}return n},t.prototype.get_components_in_child=function(t,e,o){if(void 0===o&&(o=[]),t instanceof cc.Component)var n=t.node;else n=t;for(var i=0,r=n.getComponents(e);i<r.length;i++){var a=r[i];o.push(a)}for(var c=0,s=n.children;c<s.length;c++)a=s[c],o=this.get_components_in_child(a,e,o);return o},t}();i.PTS.component=new r,cc._RF.pop()},{"./Global":"Global"}],CCDecorators:[function(t,e,o){"use strict";cc._RF.push(e,"abfc2zNDJxGCKfhN2DwSbbo","CCDecorators");var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,o){return o.writable=!1,o}function r(t,e,o){return o.value=function(){console.error('The "'+e+'" method of '+t+" must be overridden!!")},o}Object.defineProperty(o,"__esModule",{value:!0}),o.force_override=o.readonly=void 0,o.readonly=i,o.force_override=r,cc._decorator=e.exports=n(n({},cc._decorator),{force_override:r,readonly:i,mark_singleton:function(t){var e=t.prototype.onLoad;return t.prototype.onLoad=function(){e&&e.apply(this),t.__pts_instance__=this},t.__get_pts_instance__=function(){return t.__pts_instance__||(this.prototype instanceof cc.Component?t.__pts_instance__=cc.director.getScene().getComponentInChildren(t):(t.__pts_instance__=new t,t.__pts_instance__.instance_init&&t.__pts_instance__.instance_init())),t.__pts_instance__},t}}),cc._RF.pop()},{}],CCFunctions:[function(t,e){"use strict";cc._RF.push(e,"1390705BPBB77TNFyVbZQPt","CCFunctions"),cc.instance=function(t){return t.__get_pts_instance__?t.__get_pts_instance__():(console.error("SINGLETON: Class '"+cc.js.getClassName(t)+"' does not marked as singleton (USING @mark_singleton DECORATOR)"),null)},cc.release_instance=function(t){cc.instance(t)&&(t.__get_pts_instance__=function(){return null})},cc.have_instance=function(t){var e=cc.instance(t);return null!=e&&null!=e},cc._RF.pop()},{}],CCMTween:[function(t,e,o){"use strict";cc._RF.push(e,"ea293QTKJ1IyaY22R87FEEc","CCMTween"),Object.defineProperty(o,"__esModule",{value:!0}),o.ptweens=void 0;var n=cc._decorator,i=(n.ccclass,n.property,n.menu,function(){function t(){this.uuid="",this.id="",this._root=null,this._duration=0,this._current_t=0,this._mechanic=null}return t.prototype.init=function(t){this._root=t,cc.director.getScheduler().enableForTarget(this)},t.prototype.to=function(t,e){var o=this;return this._current_t=0,this._duration=t,this._mechanic=function(t){o._current_t+=t;var n=o._root.position,i=e.convertToWorldSpaceAR(cc.v3()),r=o._root.parent.convertToNodeSpaceAR(i),a=n.lerp(r,t);o._root.setPosition(a)},this},t.prototype.start=function(){return cc.director.getScheduler().schedule(this.update,this,0),this},t.prototype.update=function(t){this._current_t>=this._duration?cc.director.getScheduler().unschedule(this.update,this):this._mechanic&&this._mechanic(t)},t}());o.ptweens=function(t){var e=new i;return e.init(t),e},cc._RF.pop()},{}],CCNode:[function(t,e,o){"use strict";cc._RF.push(e,"e28a7bHl/FD7Y6/9VIY4I7K","CCNode"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.get_local_position=function(t,e){if(e instanceof cc.Node){var o=e.convertToWorldSpaceAR(cc.v3());return t.parent.convertToNodeSpaceAR(o)}return e.is_world_pos?t.parent.convertToNodeSpaceAR(e.position):e.position},t.prototype.set_position=function(t,e){t.setPosition(this.get_local_position(t,e))},t.prototype.remove_all_physic=function(t,e){void 0===e&&(e="all");var o=t instanceof cc.Node?t:t.node;switch(e){case"all":o.removeComponent(cc.Collider),o.removeComponent(cc.RigidBody);break;case"all_without_rigid":o.removeComponent(cc.Collider)}},t.prototype.search_node=function(t,e){if(t.name===e)return t;for(var o=0,n=t.children;o<n.length;o++){var i=n[o],r=this.search_node(i,e);if(r)return r}return null},t.prototype.get_component_in_search_node=function(t,e,o){var n=this.search_node(t,e);return n?n.getComponent(o):null},t}();n.PTS.node=new i,cc._RF.pop()},{"./Global":"Global"}],CCPrefab:[function(t,e,o){"use strict";cc._RF.push(e,"2deab8R5cJP1Lq5FLyDi+3s","CCPrefab"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.find_component=function(t,e){var o=cc.instantiate(t),i=n.PTS.component.get_component_in_child(o,e);return o.destroy(),i},t}();n.PTS.prefab=new i,cc._RF.pop()},{"./Global":"Global"}],CampFire:[function(t,e,o){"use strict";cc._RF.push(e,"9a5058eOI5F9Zi0Yfr8JGFU","CampFire");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../MainScene"),c=t("../../config/AudioPlayId"),s=t("../../config/GlobalSignals"),l=t("../../config/GroupConfig"),p=t("../../level/MapLevel"),u=cc._decorator,f=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.percent=null,e.fire=null,e.fxFireCollided=null,e.isPlayed=!1,e.rate=0,e}return i(e,t),e.prototype.onEnable=function(){this.percent.string="0%",this.rate=0},e.prototype.onCollisionEnter=function(t){if(t.node.group===l.GroupConfig.ROCK){if(t.node.active=!1,this.rate+=10,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",!this.isPlayed){this.playAnimation("Rocks",!1);var e=this.skeleton.findAnimation("Rocks").duration;this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestBuilding&&s.GlobalSignals.questPassSignal.dispatch()},e)}this.isPlayed=!0,a.default.instance.audioPlayer.playAudio(c.AudioPlayId.rock_drop,!1,.5)}if(t.node.group===l.GroupConfig.WOOD&&(t.node.active=!1,a.default.instance.audioPlayer.playAudio(c.AudioPlayId.wood_drop,!1,.5),this.rate+=20,this.rate<100?this.percent.string=this.rate+"%":this.percent.string="100%",this.isPlayed||(this.playAnimation("Woods",!1),e=this.skeleton.findAnimation("Woods").duration,this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestBuilding&&s.GlobalSignals.questPassSignal.dispatch()},e)),this.isPlayed=!0),t.node.group===l.GroupConfig.MATCHBOX&&(t.node.active=!1,this.fire.active=!0,a.default.instance.audioPlayer.playAudio(c.AudioPlayId.fire_active),this.scheduleOnce(function(){p.default.instance.isPlaying&&p.default.instance.isQuestBuilding&&s.GlobalSignals.questPassSignal.dispatch()},.3)),t.node.group===l.GroupConfig.COAL){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.coal_drop,!1,.2);var o=1/p.default.instance.total*100;return this.rate+=o,this.percent.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.showFxFireCollided(t.node),t.node.active=!1,void(this.rate>=100&&p.default.instance.isPlaying&&(this.fire.active=!0,a.default.instance.audioPlayer.playAudio(c.AudioPlayId.fire_active),s.GlobalSignals.questPassSignal.dispatch()))}},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.showFxFireCollided=function(t){var e=cc.instantiate(this.fxFireCollided);e.position=t.position,e.parent=t.getParent()},r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([d(cc.Label)],e.prototype,"percent",void 0),r([d(cc.Node)],e.prototype,"fire",void 0),r([d(cc.Prefab)],e.prototype,"fxFireCollided",void 0),r([f],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel"}],CaseSound:[function(t,e,o){"use strict";cc._RF.push(e,"4108f2zlhtIwI2ZMOo/PzHL","CaseSound"),Object.defineProperty(o,"__esModule",{value:!0}),o.CaseSound=void 0,function(t){t.NORMAL="normal",t.EATBREAD="eatbread",t.FULLCOININLIBBEY="fullcoininlibbey",t.GETLIFEBOUY="getlifebouy",t.WINTHIRTY="winthirty",t.WINPANIC="winpanic",t.WINPUZZLE="winpuzzle",t.WINDOG="windog"}(o.CaseSound||(o.CaseSound={})),cc._RF.pop()},{}],Character:[function(t,e,o){"use strict";cc._RF.push(e,"028fayw1+FMb5Lyi+B6DgJG","Character");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("./MoveCtrl"),s=t("./ColliderSearch"),l=t("./ColliderGround"),p=t("../../config/TagObject"),u=t("../../config/GroupConfig"),f=t("../../config/PhysicsConfig"),d=t("../../skin/SlotsSpineDuplicate"),h=cc._decorator,_=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.stun=null,e.hit=null,e.idleAnim="Idle",e.runAnim="Run",e.walkAnim="Walk",e.attackAnim="Attack",e.dieAnim="Die",e.dieFireAnim="Burned",e.dieIceAnim="Ice",e.rootCollider=null,e.groundCollider=null,e.headCollider=null,e.bodyCollider=null,e.attackCollider=null,e.handCollider=null,e.elementHand=null,e.searchCollider=null,e.ignoreFluids=[],e.slotDuplicate=null,e.attackDistance=0,e.currentSkin="",e.deadCallback=null,e.isGround=!0,e.isDirty=!1,e._isAlive=!0,e.isRunning=!1,e.moveCtrl=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"isAlive",{get:function(){return this._isAlive},set:function(t){var e=this;this._isAlive=t,this._isAlive||(cc.log(this.node.name+" isAlive = false"),this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{e.rootCollider.active=!1}catch(t){cc.warn(t)}},.2))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.slotDuplicate=this.node.getComponent(d.default),this.searchCollider&&(this.searchCollider.node.active=!0,this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this))),this.hit){var t=this.hit.getComponent(p.default);t&&(this.tagHit=t.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.handCollider&&this.handCollider.setColliderCallback(this.onHandCollider.bind(this)),this.moveCtrl=this.getComponent(c.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,this.playAnimation(this.idleAnim,!0),this.stun&&(this.stun.node.active=!1),f.PhysicsConfig.initPhysicConfig(this.node,"character")},e.prototype.setDeadCallback=function(t){this.deadCallback=t},e.prototype.checkIgnoreFluid=function(t){return-1!=this.ignoreFluids.indexOf(t)},e.prototype.addToIgnoreSearchCollier=function(t){this.searchCollider&&this.searchCollider.addToIgnore(t)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this.slotDuplicate&&this.slotDuplicate.next_anim(t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this.slotDuplicate&&this.slotDuplicate.addAnimation(t,e,o),this},e.prototype.changeSkin=function(t){this.currentSkin=t,this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose()},e.prototype.getCurrentSkin=function(){return this.currentSkin},e.prototype.getHandCollider=function(){return this.handCollider?this.handCollider:null},e.prototype.runToTarget=function(t){this.moveToTarget(t,this.runAnim)},e.prototype.walkToTarget=function(t){this.moveToTarget(t,this.walkAnim)},e.prototype.moveToTarget=function(t,e){var n=!0;if(t){var i=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),r=t.getComponent(cc.BoxCollider),a=r?r.offset.x+r.size.width/2:0;if(Math.abs(this.node.position.x-i.x)<this.attackDistance+a)return;n=this.node.position.x<i.x}else n=this.node.scaleX===o.SCALE_RIGHT;n?this.moveRight(e):this.moveLeft(e)},e.prototype.rotateFaceToTarget=function(t){var e=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));this.node.position.x<e.x?this.node.scaleX=o.SCALE_RIGHT:this.node.scaleX=o.SCALE_LEFT},e.prototype.moveLeft=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveRight=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},e.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},e.prototype.onBodyCollider=function(){},e.prototype.onHeadCollider=function(){},e.prototype.onAttackCollider=function(){},e.prototype.onSearchCollider=function(){},e.prototype.onHandCollider=function(){},e.prototype.onGroundCollisionEnter=function(t){cc.log("onGroundCollisionEnter: "+t),this.isGround=t,this.attackCollider.node.active=t,this.searchCollider&&(this.searchCollider.node.active=t)},e.prototype.disablePhysicsBody=function(){var t=this.node.getComponent(cc.PhysicsCollider);t&&(t.enabled=!1,t.node.group=u.GroupConfig.DEAD,t.enabled=!0)},e.SCALE_RIGHT=1,e.SCALE_LEFT=-1,r([y(sp.Skeleton)],e.prototype,"skeleton",void 0),r([y(sp.Skeleton)],e.prototype,"stun",void 0),r([y(cc.Node)],e.prototype,"hit",void 0),r([y(cc.String)],e.prototype,"idleAnim",void 0),r([y(cc.String)],e.prototype,"runAnim",void 0),r([y(cc.String)],e.prototype,"walkAnim",void 0),r([y(cc.String)],e.prototype,"attackAnim",void 0),r([y(cc.String)],e.prototype,"dieAnim",void 0),r([y(cc.String)],e.prototype,"dieFireAnim",void 0),r([y(cc.String)],e.prototype,"dieIceAnim",void 0),r([y(cc.Node)],e.prototype,"rootCollider",void 0),r([y(l.default)],e.prototype,"groundCollider",void 0),r([y(a.default)],e.prototype,"headCollider",void 0),r([y(a.default)],e.prototype,"bodyCollider",void 0),r([y(a.default)],e.prototype,"attackCollider",void 0),r([y(a.default)],e.prototype,"handCollider",void 0),r([y(cc.Node)],e.prototype,"elementHand",void 0),r([y(s.default)],e.prototype,"searchCollider",void 0),r([y([cc.String])],e.prototype,"ignoreFluids",void 0),o=r([_],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../skin/SlotsSpineDuplicate":"SlotsSpineDuplicate","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],CheckLose:[function(t,e,o){"use strict";cc._RF.push(e,"be25fs0gadGqZgk9yYV+13G","CheckLose");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./config/AudioPlayId"),c=t("./config/GlobalSignals"),s=t("./config/GroupConfig"),l=t("./config/TagObject"),p=t("./level/MapLevel"),u=t("./objects/character/Mom/Mom"),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fxSmokeOver=null,e.rate=0,e.checkDone=!1,e.count=0,e.totalInContainer=0,e}return i(e,t),e.prototype.start=function(){p.default.instance.container&&(p.default.instance.isQuestCollectWater||p.default.instance.isQuestCollectSmoke)&&(this.totalInContainer=p.default.instance.container.total)},e.prototype.onCollisionEnter=function(t){if(t.node.group!==s.GroupConfig.ITEM&&t.node.group!==s.GroupConfig.MATCHBOX){if(t.node.group===s.GroupConfig.GEMS){if(t.node.name==l.TagConfig.COIN){if(o=p.default.instance.totalGems){var e=1/o*100;this.rate+=e,this.rate>=20&&p.default.instance.isPlaying&&c.GlobalSignals.questFailSignal.dispatch()}return}var o;if(t.node.name==l.TagConfig.CANDY)return void((o=p.default.instance.totalGems)&&(e=1/o*100,this.rate+=e,this.rate>=10&&p.default.instance.isPlaying&&c.GlobalSignals.questFailSignal.dispatch()))}if(t.node.group!==s.GroupConfig.WATER){if(t.node.group!==s.GroupConfig.SMOKE);else if(p.default.instance.container&&p.default.instance.isQuestCollectSmoke){var n=1/this.totalInContainer*100;if(this.rate+=n,this.rate>=10&&p.default.instance.isPlaying){var i=cc.instantiate(this.fxSmokeOver);this.node.addChild(i,1,"fx1"),c.GlobalSignals.questFailSignal.dispatch()}}}else if(p.default.instance.container&&p.default.instance.isQuestCollectWater){var r=1/this.totalInContainer*100;this.rate+=r,this.rate>=10&&p.default.instance.isPlaying&&c.GlobalSignals.questFailSignal.dispatch()}else this.count++,this.count>=10&&p.default.instance.isPlaying&&(u.default.instance.soundLose=a.AudioPlayId.mom_crying,c.GlobalSignals.questFailSignal.dispatch())}else this.scheduleOnce(function(){c.GlobalSignals.questFailSignal.dispatch()},.3)},r([h(cc.Prefab)],e.prototype,"fxSmokeOver",void 0),r([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./config/AudioPlayId":"AudioPlayId","./config/GlobalSignals":"GlobalSignals","./config/GroupConfig":"GroupConfig","./config/TagObject":"TagObject","./level/MapLevel":"MapLevel","./objects/character/Mom/Mom":"Mom"}],CheckWinIntro:[function(t,e,o){"use strict";cc._RF.push(e,"01668tMjPtAjaNxY6YUsyHO","CheckWinIntro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../ResUtil"),s=t("../config/GlobalSignals"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.mapLevel=null,e.ringTop=null,e.animLock=null,e}return i(e,t),e.prototype.onEnable=function(){this._onPassIntro=this.onPassIntro.bind(this),s.GlobalSignals.questPassIntro.add(this._onPassIntro)},e.prototype.onPassIntro=function(){this.ringTop.active=!1,this.mapLevel.active=!1,this.animLock.play(),this.animLock.defaultClip.duration,c.ResUtil.loadLevelById(a.GameData.currentLevelNormal+1)},e.prototype.onDisable=function(){s.GlobalSignals.questPassIntro.remove(this._onPassIntro)},r([u(cc.Node)],e.prototype,"bgNode",void 0),r([u(cc.Node)],e.prototype,"mapLevel",void 0),r([u(cc.Node)],e.prototype,"ringTop",void 0),r([u(cc.Animation)],e.prototype,"animLock",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals"}],CheckWinPuzzles:[function(t,e,o){"use strict";cc._RF.push(e,"c0cfdkLtMZFBIBjDt9H8LSc","CheckWinPuzzles");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../GameData"),s=t("../MainScene"),l=t("../PlayScreen"),p=t("../base/ColliderCallback"),u=t("../config/GameState"),f=t("../config/GlobalSignals"),d=t("../config/GroupConfig"),h=t("../config/TagObject"),_=t("../level/MapLevel"),y=t("../objects/more/ItemPuzzle"),g=t("./PuzzlesPopup"),v=cc._decorator,b=v.ccclass,m=v.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxCheck=null,e.popupPuzzle=null,e.itemPuzzle=null,e.isPlay=!0,e.popup=null,e}return i(e,t),e.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this))},e.prototype.onHitCollider=function(t){var e=this;if(t.node.group!=d.GroupConfig.ITEM||_.default.instance.isPlaying||(t.node.active=!1),t.node.group==d.GroupConfig.ITEM&&_.default.instance.isPlaying){if(t.node.name==h.TagConfig.MONEY_BAG)return t.node.active=!1,void f.GlobalSignals.questPassSignal.dispatch();var o=Math.abs(t.node.angle%360);t.node.angle=o;var n;if(n=o<180?0:360,this.isPlay){this.isPlay=!1,this.itemPuzzle.node.removeComponent(cc.RigidBody),this.itemPuzzle.node.removeComponent(cc.PhysicsCircleCollider),this.itemPuzzle.node.removeComponent(cc.BoxCollider),this.itemPuzzle.node.zIndex=1,this.popup=cc.instantiate(this.popupPuzzle),this.popup.parent=s.default.instance.node.parent,this.popup.children[1].active=!1;var i=this.popup.getComponent(g.default),r=a(c.GameData.arrayItem[c.GameData.currentItem].puzzles);r.push(this.itemPuzzle.puzzles),r.sort(),_.default.instance.gameState==u.GameState.PLAYING&&cc.tween(this.itemPuzzle.node).to(1.2,{position:cc.v3(0,0,0),angle:n,scale:1.9},{easing:"circOut"}).call(function(){i.getComponent(g.default).init(r,c.GameData.currentItem+1,function(){l.default.instance.showWinPopup(),c.GameData.addRoomItem(e.itemPuzzle.puzzles)},e.itemPuzzle.puzzles),f.GlobalSignals.questPassSignal.dispatch(),e.itemPuzzle.node.active=!1,e.popup.children[1].active=!0}).start()}}},e.prototype.onDisable=function(){this.popup&&this.popup.destroy()},r([m(p.default)],e.prototype,"boxCheck",void 0),r([m(cc.Prefab)],e.prototype,"popupPuzzle",void 0),r([m(y.default)],e.prototype,"itemPuzzle",void 0),r([b],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../base/ColliderCallback":"ColliderCallback","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/GroupConfig":"GroupConfig","../config/TagObject":"TagObject","../level/MapLevel":"MapLevel","../objects/more/ItemPuzzle":"ItemPuzzle","./PuzzlesPopup":"PuzzlesPopup"}],Checker:[function(t,e,o){"use strict";cc._RF.push(e,"f9998HpSFRJAbJiYErLpNx8","Checker"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.prefab_contain_component=function(t,e,o){var i=cc.instantiate(t),r=o.search_comp_in_childs&&o.search_comp_in_childs?n.PTS.component.get_component_in_childs(i,e):i.getComponent(e);return i.destroy(),!!r||(n.PTS.logger(o.error_msg),!1)},t}();n.PTS.checker=new i,cc._RF.pop()},{"./Global":"Global"}],ChestPopupReward:[function(t,e,o){"use strict";cc._RF.push(e,"de5a5UgFPZEW7VvynlN+cRH","ChestPopupReward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ChestPopupReward=void 0;var a=t("./TS/Helper/Global"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward_notify=null,e.chest_popup=null,e.claim_btn=null,e.reward_label=null,e._reward_amount=0,e._claim_btn_cb=null,e}var o;return i(e,t),o=e,e.prototype.settup=function(t,e){this.reward_notify.active=!t,this.node.active=e},e.prototype.popup_reward=function(t,e){var n=this;this.node.opacity=255,this.node.active=!0,this.claim_btn.interactable=!1,this.claim_btn.node.scale=0,this._reward_amount=t,this._claim_btn_cb=e,this.reward_label.string="+ "+t,this.chest_popup.setAnimation(0,"Open",!1),this.chest_popup.addAnimation(0,"Idle",!0),this.scheduleOnce(function(){cc.tween(n.claim_btn.node).to(.5,{scale:.5}).call(function(){a.PTS.component.settup_button(n.claim_btn,n.node,o,"claim_BTN"),n.claim_btn.interactable=!0}).start()},1.5)},e.prototype.claim_BTN=function(){var t=this;this.reward_notify.active=!1,null!=this._claim_btn_cb&&(this._claim_btn_cb(),this._claim_btn_cb=null),cc.tween(this.node).to(.25,{opacity:0}).call(function(){t.node.active=!1}).start()},r([l(cc.Node)],e.prototype,"reward_notify",void 0),r([l(sp.Skeleton)],e.prototype,"chest_popup",void 0),r([l(cc.Button)],e.prototype,"claim_btn",void 0),r([l(cc.Label)],e.prototype,"reward_label",void 0),o=r([s,p("PD Scripts/Chest Reward")],e)}(cc.Component);o.ChestPopupReward=u,cc._RF.pop()},{"./TS/Helper/Global":"Global"}],CinematicCamera:[function(t,e,o){"use strict";cc._RF.push(e,"cdbe6XixUZOQ5DdSJ401PCl","CinematicCamera");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CinematicCamera=void 0;var a=t("../TS/Helper/Global"),c=cc._decorator,s=c.ccclass,l=c.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tween=[],e._camera=null,e._root_pos=cc.v3(),e._root_zoom_ratio=1,e._sync_target=null,e._syncer_opt=null,e._syncer=function(){if(e._sync_target){if(e._syncer_opt){if(e._syncer_opt.excluded_X&&e._syncer_opt.excluded_Y)return void e.stopSyncTarget();if(e._syncer_opt.excluded_X)return void(e.node.y=a.PTS.node.get_local_position(e.node,e._sync_target).y);if(e._syncer_opt.excluded_Y)return void(e.node.x=a.PTS.node.get_local_position(e.node,e._sync_target).x)}e.node.setPosition(a.PTS.node.get_local_position(e.node,e._sync_target))}else e.stopSyncTarget()},e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._camera=this.getComponent(cc.Camera),this._root_pos=this.node.position,this._root_zoom_ratio=this._camera.zoomRatio,o._instance=this},e.prototype.focusTo=function(t,e,o){void 0===e&&(e=1),void 0===o&&(o=.75),console.log("DO FOCUS");var n=a.PTS.node.get_local_position(this.node,t);return this._tween.push(cc.tween(this.node).to(o,{position:n}).start()),this._tween.push(cc.tween(this._camera).to(o,{zoomRatio:e}).start()),o},e.prototype.moveFromTo=function(t,e,o){if(void 0===o&&(o=.75),t instanceof cc.Vec3)var n={position:t,zoom_ratio:this._camera.zoomRatio,is_world_pos:!1};else n=t;if(e instanceof cc.Vec3)var i={position:e,zoom_ratio:this._camera.zoomRatio,is_world_pos:!1};else i=e;var r=i.is_world_pos?this.node.parent.convertToNodeSpaceAR(i.position):i.position;n.is_world_pos&&this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n.position)),this._camera.zoomRatio=n.zoom_ratio,this._tween.push(cc.tween(this.node).to(o,{position:r}).start()),this._tween.push(cc.tween(this._camera).to(o,{zoomRatio:i.zoom_ratio}).start())},e.prototype.onDisable=function(){for(var t=0,e=this._tween;t<e.length;t++)e[t].stop()},e.prototype.reset=function(){console.log("Reset CinematicCamera"),this.stopSyncTarget(),this.node.position=this._root_pos,this._camera.zoomRatio=this._root_zoom_ratio},e.prototype.setSyncTarget=function(t,e){void 0===e&&(e=null),this._syncer_opt=e,this._sync_target=t,this.schedule(this._syncer)},e.prototype.stopSyncTarget=function(){this.unschedule(this._syncer)},e._instance=null,o=r([s,l(cc.Camera)],e)}(cc.Component);o.CinematicCamera=p,cc._RF.pop()},{"../TS/Helper/Global":"Global"}],CipherParamsInterface:[function(t,e,o){"use strict";cc._RF.push(e,"c75daeSX3JNJ6BVRuAL5QQB","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(t,e,o){"use strict";cc._RF.push(e,"04f98j4UgVD3rdnqkB3IuGk","CipherParams");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var r=function(t){function e(e){var o=t.call(this)||this;return o.ciphertext=e.ciphertext,o.key=e.key,o.iv=e.iv,o.salt=e.salt,o.algorithm=e.algorithm,o.mode=e.mode,o.padding=e.padding,o.blockSize=e.blockSize,o.formatter=e.formatter,o}return i(e,t),e.prototype.extend=function(t){return void 0!==t.ciphertext&&(this.ciphertext=t.ciphertext),void 0!==t.key&&(this.key=t.key),void 0!==t.iv&&(this.iv=t.iv),void 0!==t.salt&&(this.salt=t.salt),void 0!==t.algorithm&&(this.algorithm=t.algorithm),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.padding&&(this.padding=t.padding),void 0!==t.blockSize&&(this.blockSize=t.blockSize),void 0!==t.formatter&&(this.formatter=t.formatter),this},e.prototype.toString=function(t){if(t)return t.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},e}(t("../lib/Base").Base);o.CipherParams=r,cc._RF.pop()},{"../lib/Base":"Base"}],Cipher:[function(t,e,o){"use strict";cc._RF.push(e,"0822aDCGLVF/oR5hzoNBCgx","Cipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var r=t("./BufferedBlockAlgorithm"),a=t("./SerializableCipher"),c=t("./PasswordBasedCipher"),s=function(t){function e(e,o,n){var i=t.call(this,Object.assign({blockSize:1},n))||this;return i._xformMode=e,i._key=o,i.reset(),i}return i(e,t),e.createEncryptor=function(t,e){return new this(this._ENC_XFORM_MODE,t,e)},e.createDecryptor=function(t,e){return new this(this._DEC_XFORM_MODE,t,e)},e._createHelper=function(t){return{encrypt:function(e,o,n){return"string"==typeof o?c.PasswordBasedCipher.encrypt(t,e,o,n):a.SerializableCipher.encrypt(t,e,o,n)},decrypt:function(e,o,n){return"string"==typeof o?c.PasswordBasedCipher.decrypt(t,e,o,n):a.SerializableCipher.decrypt(t,e,o,n)}}},e.prototype.process=function(t){return this._append(t),this._process()},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e._ENC_XFORM_MODE=1,e._DEC_XFORM_MODE=2,e.keySize=4,e.ivSize=4,e}(r.BufferedBlockAlgorithm);o.Cipher=s,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],CoalGO:[function(t,e,o){"use strict";cc._RF.push(e,"3485dVD3sxIQ5S1inEwMaKn","CoalGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=t("../../config/TagObject"),l=t("../../level/MapLevel"),p=cc._decorator,u=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"coal")},e.prototype.onCollisionEnter=function(t){if(t.node.group!==a.GroupConfig.COLLIDER);else if(t.node.name==s.TagConfig.BOMB){var e=t.node.getComponent(s.default).tag2;if(e==s.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}if(e==s.TagConfig.NONE)return this.node.active=!1,void l.default.instance.countCoalDestroyed++}},r([u],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],CollidableTarget:[function(t,e,o){"use strict";cc._RF.push(e,"b9fa66QH4RIFZ+PD3fU2+xG","CollidableTarget");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ColliderCallback:[function(t,e,o){"use strict";cc._RF.push(e,"972fagnS5RCV7DBQ88ri4Nf","ColliderCallback");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderEnterCb=null,e.colliderExitCb=null,e._active=!0,e}return i(e,t),e.prototype.setColliderCallback=function(t,e){void 0===e&&(e=null),this.colliderEnterCb=t,this.colliderExitCb=e},e.prototype.onCollisionEnter=function(t,e){this._active&&this.colliderEnterCb&&this.colliderEnterCb(t,e)},e.prototype.onCollisionExit=function(t,e){this._active&&this.colliderExitCb&&this.colliderExitCb(t,e)},Object.defineProperty(e.prototype,"status",{set:function(t){this._active=t},enumerable:!1,configurable:!0}),e.prototype.active=function(){this.status=!0},e.prototype.inactive=function(){this.status=!1},r([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],ColliderGround:[function(t,e,o){"use strict";cc._RF.push(e,"addec/A/HVEDbijn4GbN/Wg","ColliderGround");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../base/utils/ArrayUtil"),s=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groundConfig=[a.GroupConfig.BERRIE,a.GroupConfig.ROCK],e.arrayGround=[],e.callback=null,e.isGround=!1,e}return i(e,t),e.prototype.setGroundColliderCallback=function(t){this.callback=t},e.prototype.onCollisionEnter=function(t){this.isGround||!this.groundConfig.includes(t.node.group)||this.arrayGround.includes(t.node)||(this.arrayGround.push(t.node),this.isGround=!0,this.callback&&this.callback(!0))},e.prototype.onCollisionExit=function(t){this.groundConfig.includes(t.node.group)&&(c.default.removeElement(this.arrayGround,t.node),0===this.arrayGround.length&&(this.callback&&this.callback(!1),this.isGround=!1))},r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ColliderSearch:[function(t,e,o){"use strict";cc._RF.push(e,"fbc57yBL25Jzpq6ppx2EzJN","ColliderSearch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("../../config/GroupConfig"),s=t("../../base/utils/ArrayUtil"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.signalCollider=null,e.listIgnore=[],e.isDebug=!1,e.rootPosition=null,e.searchCallback=null,e.listColliderEnter=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this.signalCollider.node;t.getComponent(cc.Sprite).enabled=this.isDebug,this.rootPosition=t.position,this.signalCollider.setColliderCallback(this.onSignalCollider.bind(this)),this.listIgnore.push(t)},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.signalCollider.node)},e.prototype.addToIgnore=function(t){-1===this.listIgnore.indexOf(t)&&(cc.log("addToIgnore: "+t.name),this.listIgnore.push(t))},e.prototype.checkSearchTarget=function(t){return t.node.group==c.GroupConfig.CHARACTER&&-1==this.listIgnore.indexOf(t.node)},e.prototype.setColliderCallback=function(t){this.searchCallback=t},e.prototype.onCollisionEnter=function(t){this.checkSearchTarget(t)&&(-1==this.listColliderEnter.indexOf(t)&&this.listColliderEnter.push(t),cc.Tween.stopAllByTarget(this.signalCollider.node),this.pingToTarget(t))},e.prototype.onCollisionExit=function(t){this.checkSearchTarget(t)&&s.default.removeElement(this.listColliderEnter,t),this.refreshPingToTarget()},e.prototype.pingToTarget=function(t,e){var o=this;void 0===e&&(e=!0);var n=this.signalCollider.node;n.position=this.rootPosition;var i=n.getParent().convertToNodeSpaceAR(t.node.getParent().convertToWorldSpaceAR(t.node.position));i.y+=t.offset.y-t.size.height/2+20,i.x+=t.offset.x-t.size.width/2+20,cc.tween(n).to(.3,{position:i}).delay(.5).call(function(){e&&o.pingToTarget(t)}).start()},e.prototype.refreshPingToTarget=function(){cc.log("refreshPingToTarget ping ping ping..."),this.listColliderEnter.length>0&&this.pingToTarget(this.listColliderEnter[0],!1)},e.prototype.onSignalCollider=function(t){if(-1==this.listIgnore.indexOf(t.node)){var e=this.signalCollider.node;e.position=this.rootPosition,cc.Tween.stopAllByTarget(e),this.searchCallback&&this.searchCallback(t)}},r([u(a.default)],e.prototype,"signalCollider",void 0),r([u([cc.Node])],e.prototype,"listIgnore",void 0),r([u(cc.Boolean)],e.prototype,"isDebug",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ContainType:[function(t,e,o){"use strict";cc._RF.push(e,"0c2d4Z8ZQ9M8ZSfwq89T2sD","ContainType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ContainType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SINK=1]="SINK",t[t.STOVE=2]="STOVE",t[t.SHOWER=3]="SHOWER",t[t.CHIMNEY=4]="CHIMNEY"}(o.ContainType||(o.ContainType={})),cc._RF.pop()},{}],ContainerGO:[function(t,e,o){"use strict";cc._RF.push(e,"91d68nfYzxFgJcUyT0BNa6h","ContainerGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ContainerGO=void 0;var a=t("../../base/ColliderCallback"),c=t("../../config/GlobalSignals"),s=t("../../config/TagObject"),l=t("../drop/ObjectGO"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.object_type=s.TagConfig.BATTERY,e.collision_check=null,e.moving_target=null,e._onQuestFail=null,e}return i(e,t),e.prototype.onLoad=function(){this.collision_check&&this.collision_check.setColliderCallback(this.enterCollision.bind(this))},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFaill.bind(this),c.GlobalSignals.questFailSignal.add(this._onQuestFail)},e.prototype.onDisable=function(){c.GlobalSignals.questFailSignal.remove(this._onQuestFail)},e.prototype.enterCollision=function(t){var e=this,o=t.getComponent(l.ObjectGO);o&&o.check_type(this.object_type)&&!o.is_through_box()&&(o.mark_as_through_box(),o.move_to(this.moving_target,function(){o.sfx_collection.play(),o.do_complete(),e._on_complete_move_ball&&e._on_complete_move_ball(o)}))},e.prototype.onQuestFaill=function(){this.node.active=!1},r([f({type:cc.Enum(s.TagConfig)})],e.prototype,"object_type",void 0),r([f({type:a.default})],e.prototype,"collision_check",void 0),r([f({type:cc.Node})],e.prototype,"moving_target",void 0),r([u],e)}(cc.Component);o.ContainerGO=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject","../drop/ObjectGO":"ObjectGO"}],ContainerWithPlayerGO:[function(t,e,o){"use strict";cc._RF.push(e,"723b6xquFFJmoBUjYBweuvu","ContainerWithPlayerGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ContainerWithPlayerGO=void 0;var a=t("../../config/GameConfig"),c=t("../../config/TagObject"),s=t("../../level/WinLoseManager"),l=t("../character/Main/Main"),p=t("./ContainerGO"),u=cc._decorator,f=u.ccclass,d=u.property,h=u.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.end_element_scale=cc.v2(),e.is_turn_on_flash_light_after_collect_clue=!0,e._tweens=[],e._on_complete_move_ball=function(t){switch(e.object_type){case c.TagConfig.FLASH_LIGHT:e.catch_flash_light(t);break;case c.TagConfig.KEY:e.collect_clue(t,e.object_type);break;case c.TagConfig.BATTERY:e.catch_flash_light(t);break;case c.TagConfig.NOTE_BOOK:e.collect_clue(t,e.object_type);break;case c.TagConfig.CAMERA:e.move_camera_to_hand(t);break;case c.TagConfig.GRANDMA_PICTURE:e.collect_clue(t,e.object_type,.35);break;case c.TagConfig.MONEY_BAG:case c.TagConfig.GAS_MASK:case c.TagConfig.GLASSES:case c.TagConfig.SECRET_CARD:case c.TagConfig.NEWSPAPER:case c.TagConfig.DOCUMENT:e.collect_clue(t,e.object_type);break;case c.TagConfig.MATCHES:e.catch_matches(t)}},e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop()},e.prototype.catch_matches=function(t){var e=l.Main.instance.extended.torch_world_position;this.tween(t.model_node).to(.6,{scale:0,angle:t.model_node.angle-180,position:t.model_node.parent.convertToNodeSpaceAR(e)}).call(function(){return l.Main.instance.extended.turn_on_light(),cc.instance(s.WinLoseManager).invoke_win(0)}).start()},e.prototype.catch_flash_light=function(t){var e=this,o=l.Main.instance.left_hand,n=t.model_node.parent.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v3()));this.tween(t.model_node).delay(.5).to(.2,{opacity:0}).start(),this.tween(t.model_node).to(.7,{scale:.2,position:{value:n,progress:function(e,n,i,r){return n=t.model_node.parent.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v3())),e.lerp(n,r,i)}}}).call(function(){e.is_turn_on_flash_light_after_collect_clue?l.Main.instance.extended.turn_on_light():l.Main.instance.extended.turn_off_light(),cc.instance(s.WinLoseManager).invoke_win(0)}).start()},e.prototype.collect_clue=function(t,e,o,n){var i=this;void 0===o&&(o=0),void 0===n&&(n=!0);var r=.6*t.model_node.scale,p=function(){t.model_node.active=!1,cc.instance(s.WinLoseManager).invoke_win(0)};this.tween(t.model_node).parallel(cc.tween().to(1.5,{angle:0}),cc.tween().by(2,{y:t.model_node.height/2}),cc.tween().repeat(3,cc.tween().by(.3,{scale:.3}).by(.3,{scale:-.3}))).call(function(){l.Main.instance.playAnim("collect",!1),i.scheduleOnce(function(){var a=n?l.Main.instance.world_left_hand_position:l.Main.instance.world_right_hand_position,s=t.model_node.parent.convertToNodeSpaceAR(a);e!==c.TagConfig.KEY&&e!==c.TagConfig.NOTE_BOOK||i.tween(t.model_node).delay(.3).to(.2,{opacity:0}).start(),i.tween(t.model_node).to(.3,{scale:r,position:{value:s,progress:function(e,o,i,r){var a=n?l.Main.instance.world_left_hand_position:l.Main.instance.world_right_hand_position;return o=t.model_node.parent.convertToNodeSpaceAR(a),e.lerp(o,r,i)}}}).delay(o).call(p).start()},a.GameConfig.spine_mixin_timer)}).start()},e.prototype.move_camera_to_hand=function(t){console.log("START MOVING CAMERA TO HAND");var e=l.Main.instance.right_hand,o=t.model_node.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v3()));this.tween(t.model_node).to(.5,{scale:t.model_node.scale/2}).to(.2,{opacity:0}).start(),this.tween(t.model_node).to(.7,{position:{value:o,progress:function(o,n,i,r){return n=t.model_node.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v3())),o.lerp(n,r,i)}}}).call(function(){return cc.instance(s.WinLoseManager).invoke_win(0)}).start()},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},r([d()],e.prototype,"end_element_scale",void 0),r([d()],e.prototype,"is_turn_on_flash_light_after_collect_clue",void 0),r([f,h("Object/Container/Container With Player")],e)}(p.ContainerGO);o.ContainerWithPlayerGO=_,cc._RF.pop()},{"../../config/GameConfig":"GameConfig","../../config/TagObject":"TagObject","../../level/WinLoseManager":"WinLoseManager","../character/Main/Main":"Main","./ContainerGO":"ContainerGO"}],Container:[function(t,e,o){"use strict";cc._RF.push(e,"59ef18PFB1MDqUEuj1yu7mV","Container");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../MainScene"),c=t("../../base/ColliderCallback"),s=t("../../config/AudioPlayId"),l=t("../../config/GlobalSignals"),p=t("../../config/GroupConfig"),u=t("../../level/MapLevel"),f=t("./ContainType"),d=t("./SmokeGO"),h=cc._decorator,_=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.containType=f.ContainType.NONE,e.wrongNode=null,e.correctNode=null,e.centerCollider=null,e.boxCheck=null,e.effectNew=null,e.effectSmoke=null,e.effectSmokeDirty=null,e.effectDirtyMucus=null,e.total=0,e.lbProcess=null,e.bigbang=null,e.fire=null,e.rateCorrect=0,e.rateWrong=0,e.effectWrongNode=[],e}return i(e,t),e.prototype.onEnable=function(){this.boxCheck.setColliderCallback(this.onBoxCheckCollider.bind(this)),this.centerCollider.setColliderCallback(this.onCenterCollider.bind(this)),this.containType==f.ContainType.SINK&&(this.effectSmokeDirty&&this.showEffectSmokeDirty(),this.effectDirtyMucus&&this.showEffectDirtyMucus())},e.prototype.onBoxCheckCollider=function(t){if((this.containType==f.ContainType.SINK||this.containType==f.ContainType.STOVE)&&u.default.instance.isQuestCollectWater){if(t.node.group===p.GroupConfig.WATER){var e=1/this.total*100;return this.rateCorrect+=e,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",void(this.rateCorrect>=100&&u.default.instance.isPlaying&&(l.GlobalSignals.questPassSignal.dispatch(),this.wrongNode.active=!1,this.containType==f.ContainType.SINK?(a.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_change),this.offEffectWrong(),this.effectNew&&this.showEffectNew()):this.containType==f.ContainType.STOVE&&this.effectSmoke&&this.showEffectSmoke(),this.correctNode.active=!0,this.fire&&(this.fire.active=!1)))}if(t.node.group===p.GroupConfig.DIRTY){var o=1/this.total*100;return this.rateWrong+=o,void(this.rateWrong>=10&&u.default.instance.isPlaying&&(l.GlobalSignals.questFailSignal.dispatch(),this.wrongNode.active=!0,this.correctNode.active=!1))}}this.containType==f.ContainType.CHIMNEY&&u.default.instance.isQuestCollectSmoke&&t.node.group===p.GroupConfig.SMOKE&&(t.node.getComponent(d.default).force=1e4)},e.prototype.onCenterCollider=function(t){if(t.node.group!==p.GroupConfig.WATER)if(t.node.group!==p.GroupConfig.DIRTY){if(t.node.group===p.GroupConfig.ROCK&&(t.node.active=!1),this.containType==f.ContainType.CHIMNEY&&u.default.instance.isQuestCollectSmoke&&t.node.group===p.GroupConfig.SMOKE){var e=1/this.total*100;return this.rateCorrect+=e,this.lbProcess.string=this.rateCorrect<100?Math.floor(this.rateCorrect)+"%":"100%",this.rateCorrect>=100&&u.default.instance.isPlaying&&l.GlobalSignals.questPassSignal.dispatch(),void(t.node.active=!1)}if(t.node.group===p.GroupConfig.LAVA){var o=1/this.total*100;return this.rateWrong+=o,this.rateWrong>=10&&u.default.instance.isPlaying&&this.onFireStove(),void(t.node.active=!1)}}else t.node.active=!1;else t.node.active=!1},e.prototype.onFireStove=function(){var t=cc.instantiate(this.bigbang),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.wrongNode.active=!0,this.correctNode.active=!1,this.fire.active=!1},e.prototype.showEffectNew=function(){cc.instantiate(this.effectNew).parent=this.node},e.prototype.showEffectSmoke=function(){cc.instantiate(this.effectSmoke).parent=this.node},e.prototype.showEffectSmokeDirty=function(){var t=cc.instantiate(this.effectSmokeDirty);t.parent=this.node,t.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y+55)),this.effectWrongNode.push(t)},e.prototype.showEffectDirtyMucus=function(){var t=cc.instantiate(this.effectDirtyMucus);t.parent=this.node,t.setPosition(cc.v3(this.wrongNode.x,this.wrongNode.y-55)),this.effectWrongNode.push(t)},e.prototype.offEffectWrong=function(){this.effectWrongNode.forEach(function(t){t.active=!1})},r([y({type:cc.Enum(f.ContainType)})],e.prototype,"containType",void 0),r([y(cc.Node)],e.prototype,"wrongNode",void 0),r([y(cc.Node)],e.prototype,"correctNode",void 0),r([y(c.default)],e.prototype,"centerCollider",void 0),r([y(c.default)],e.prototype,"boxCheck",void 0),r([y(cc.Prefab)],e.prototype,"effectNew",void 0),r([y(cc.Prefab)],e.prototype,"effectSmoke",void 0),r([y(cc.Prefab)],e.prototype,"effectSmokeDirty",void 0),r([y(cc.Prefab)],e.prototype,"effectDirtyMucus",void 0),r([y(cc.Integer)],e.prototype,"total",void 0),r([y(cc.Label)],e.prototype,"lbProcess",void 0),r([y(cc.Prefab)],e.prototype,"bigbang",void 0),r([y(cc.Node)],e.prototype,"fire",void 0),r([_],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel","./ContainType":"ContainType","./SmokeGO":"SmokeGO"}],Couple:[function(t,e,o){"use strict";cc._RF.push(e,"b52e0zRO8dNV4IAoVBtAeSg","Couple");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../MainScene"),c=t("../../../config/GlobalSignals"),s=t("../../../config/GroupConfig"),l=t("../../../config/TagObject"),p=t("../Character"),u=cc._decorator,f=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animIdle2="idle2",e.animLose="Lose",e.animWin1="Win",e.animWin2="Win2",e.animDirty="Dirty",e.effectChangeClothes=null,e.soundIdle=null,e.soundWin=null,e.soundLose=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.skeleton.setSkin("Skin1")},e.prototype.start=function(){this.onSoundColdIdle()},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onPassIntro=this.onPassIntro.bind(this),c.GlobalSignals.questFailSignal.add(this._onQuestFail),c.GlobalSignals.questPassSignal.add(this._onQuestPass),c.GlobalSignals.questPassIntro.add(this._onPassIntro)},e.prototype.onDisable=function(){c.GlobalSignals.questPassIntro.remove(this._onPassIntro),c.GlobalSignals.questPassSignal.remove(this._onQuestPass),c.GlobalSignals.questFailSignal.remove(this._onQuestFail)},e.prototype.onSoundColdIdle=function(){},e.prototype.offSoundColdIdle=function(){a.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){a.default.instance.audioPlayer.playAudio(this.soundLose)},e.prototype.onSoundLose=function(){a.default.instance.audioPlayer.playAudio(this.soundWin)},e.prototype.onBodyCollider=function(t){t.node.group!==s.GroupConfig.DIRTY?t.node.group===s.GroupConfig.GEMS&&(t.node.name!=l.TagConfig.COIN&&t.node.name!=l.TagConfig.CANDY||(t.node.active=!1)):this.isDirty?t.node.active=!1:(this.playAnimation(this.animDirty,!0),this.isDirty=!0)},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(this.skeleton.setSkin("Skin2"),this.showEffectChangeClothes(),this.onSoundLose(),this.playAnimation(this.animWin1,!0))},e.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(this.onSoundWin(),this.playAnimation(this.animLose,!0))},e.prototype.onPassIntro=function(){var t=this;this.stopMove(),this.scheduleOnce(function(){t.playAnimation("Intro2",!0)},.65)},e.prototype.showEffectChangeClothes=function(){var t=cc.instantiate(this.effectChangeClothes);t.position=this.bodyCollider.node.position,t.parent=this.node},r([d(cc.String)],e.prototype,"animIdle2",void 0),r([d(cc.String)],e.prototype,"animLose",void 0),r([d(cc.String)],e.prototype,"animWin1",void 0),r([d(cc.String)],e.prototype,"animWin2",void 0),r([d(cc.String)],e.prototype,"animDirty",void 0),r([d(cc.Prefab)],e.prototype,"effectChangeClothes",void 0),r([f],e)}(p.default);o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../Character":"Character"}],DailyButton:[function(t,e,o){"use strict";cc._RF.push(e,"7df49ybAtNNkrPSR+NIQ5fB","DailyButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../HomeScreen"),s=t("../MainScene"),l=t("../TS/Helper/Global"),p=t("../TS/Language/AIOLangConfig"),u=t("../base/glance_Global"),f=t("../config/DailyConfig"),d=t("../config/GameConfig"),h=t("../skin/SkinShopConfig"),_=t("./RandomPinPopup"),y=cc._decorator,g=y.ccclass,v=y.property,b=y.menu,m=function(){function t(){this._target=null,this._renderer=null}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this._renderer=t?l.PTS.component.get_possible_component(t,cc.Label):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),t.prototype.changeRender=function(t){this._renderer.string=t,this._renderer.enableBold=this._renderer.useSystemFont=p.AIOLang.is_current_off_font()},r([v(cc.Node)],t.prototype,"_target",void 0),r([v(cc.Node)],t.prototype,"target",null),r([v(cc.Label)],t.prototype,"_renderer",void 0),r([v({type:cc.Label,visible:function(){return!!this._renderer}})],t.prototype,"renderer",null),r([g("DailyLabelButtonSupport")],t)}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward_root=null,e.reward=null,e.common_coin=null,e.secret_pin=null,e.light=null,e.day=new m,e.claim_today=null,e.claimed=null,e.normal_claim_button=null,e.x5_claim_button=null,e.random=null,e.coinReward=null,e}var o;return i(e,t),o=e,e.prototype.settup=function(t,e){var o=a.GameData.receivedDaily+1,n=a.GameData.isReceivedDaily;t===o?(this.claim_today.active=!0,n?(this.reward_root.active=!1,this.claimed.active=!0,this._offButton()):(this.light.node.active=!0,this._initButton(e))):t<o&&(this.reward_root.active=!1,this.claimed.active=!0),this._initUI(t,e)},e.prototype._initUI=function(t,e){var o=f.DailyConfig.getRewardData(e);switch(this.day.changeRender(p.AIOLang.get_current_lang_text_at_key("day")+t.toString()),o.type){case"coin":this.secret_pin.node.active=!1,this.coinReward=o.coin,this.reward.string="+"+o.coin;break;case"secret_skin":this.common_coin.node.active=!1,p.AIOLang.fast_change_current_lang_text(this.reward,"secret_pin")}},e.prototype._initButton=function(t){if(this.normal_claim_button&&this.x5_claim_button){var e=f.DailyConfig.getRewardData(t);l.PTS.component.clean_up_button(this.normal_claim_button,this.x5_claim_button),l.PTS.component.settup_button(this.normal_claim_button,this.node,o,"receiveReward"),"secret_skin"===e.type?this.x5_claim_button.node.active=!1:(this.x5_claim_button.node.active=!0,l.PTS.component.settup_button(this.x5_claim_button,this.node,o,"receivex5Reward"))}},e.prototype._offButton=function(){this.normal_claim_button.node.active=!1,this.x5_claim_button.node.active=!1},e.prototype.receiveReward=function(){if(this.coinReward)a.GameData.addCoin(this.coinReward),s.default.instance.fx_flying_coins.settup_full_pack(this.node,c.default.instance.uiMoney);else{var t=h.smd.get_buyable_pins_skin(),e=t[l.PTS.supporter.random_int(0,t.length-1)];_.RandomPinPopup.settup(this.random,e)}this.finish_reward()},e.prototype.receivex5Reward=function(){var t=this;this.coinReward&&(u.default.instance.setDailyBonus(this.coinReward,d.GameConfig.daily_bonus_scaler),u.default.instance.callback=function(){t.finish_reward(),s.default.instance.fx_flying_coins.settup_full_pack(t.node,c.default.instance.uiMoney)},u.default.instance.rewardEvent())},e.prototype.finish_reward=function(){this._offButton(),this.reward_root.active=!1,this.claimed.active=!0,this.claim_today.active=!0,a.GameData.setReceivedDaily(!0);var t=Date.now();a.GameData.saveDAY(t)},r([v(cc.Node)],e.prototype,"reward_root",void 0),r([v({type:cc.Label,displayName:"Reward Text"})],e.prototype,"reward",void 0),r([v(cc.Sprite)],e.prototype,"common_coin",void 0),r([v(cc.Sprite)],e.prototype,"secret_pin",void 0),r([v(cc.Sprite)],e.prototype,"light",void 0),r([v(m)],e.prototype,"day",void 0),r([v(cc.Node)],e.prototype,"claim_today",void 0),r([v(cc.Node)],e.prototype,"claimed",void 0),r([v(cc.Button)],e.prototype,"normal_claim_button",void 0),r([v(cc.Button)],e.prototype,"x5_claim_button",void 0),r([v(_.RandomPinPopup)],e.prototype,"random",void 0),o=r([g,b("Daily/Button")],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../TS/Helper/Global":"Global","../TS/Language/AIOLangConfig":"AIOLangConfig","../base/glance_Global":"glance_Global","../config/DailyConfig":"DailyConfig","../config/GameConfig":"GameConfig","../skin/SkinShopConfig":"SkinShopConfig","./RandomPinPopup":"RandomPinPopup"}],DailyConfig:[function(t,e,o){"use strict";cc._RF.push(e,"4f3b1erSg9CSbXBDlQD2llS","DailyConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.DailyConfig=void 0;var n=function(){function t(){}return t.getRewardData=function(e){var o=Math.floor(Math.abs(e)%t.NumDaysAWeek);return t.WeeklyPrize[o]},t.getRewardType=function(e){return t.getRewardData(e).type},t.NumDaysAWeek=7,t.get_type={coin:"coin",skin:"skin"},t.WeekPrize0=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin14"}],t.WeekPrize1=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin15"}],t.WeekPrize2=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin16"}],t.WeekPrize3=[{type:t.get_type.coin,coin:500,skin:""},{type:t.get_type.coin,coin:1e3,skin:""},{type:t.get_type.coin,coin:1500,skin:""},{type:t.get_type.coin,coin:2e3,skin:""},{type:t.get_type.coin,coin:2500,skin:""},{type:t.get_type.coin,coin:3e3,skin:""},{type:t.get_type.skin,coin:0,skin:"SkinShop_Pin17"}],t.WeeklyPrize=[{type:"coin",coin:100},{type:"coin",coin:200},{type:"secret_skin",coin:100},{type:"coin",coin:600},{type:"coin",coin:700},{type:"coin",coin:800},{type:"secret_skin",coin:100}],t}();o.DailyConfig=n,cc._RF.pop()},{}],Daughter:[function(t,e,o){"use strict";cc._RF.push(e,"5e870ChW59JzagZE6lhFneu","Daughter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameData"),c=t("../../../MainScene"),s=t("../../../config/CaseSound"),l=t("../../../config/GameConfig"),p=t("../../../config/GlobalSignals"),u=t("../../../config/GroupConfig"),f=t("../../../config/ItemLevelSkin"),d=t("../../../config/SkinConfig"),h=t("../../../config/TagObject"),_=t("../../../level/MapLevel"),y=t("../../more/ItemSync"),g=t("../Mom/Mom"),v=cc._decorator,b=v.ccclass,m=v.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.haveDog=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instanceD",{get:function(){return o._instanceD},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instanceD=this,t.prototype.onLoad.call(this),this.initDaughterSkin()},e.prototype.onDisable=function(){p.GlobalSignals.questPassSignal.remove(this._onQuestPass),p.GlobalSignals.questFailSignal.remove(this._onQuestFail),p.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),p.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),p.GlobalSignals.playAnimPlayerSignal.remove(this._onDirty),o._instanceD=null,this.unscheduleAllCallbacks()},e.prototype.onHandCollider=function(t){var e=this;if(t.node.group===u.GroupConfig.ITEM){if(_.default.instance.isQuestCollectSkin){var o=f.ItemSkinLevel.getSkinName(_.default.instance.itemLevelSkin);return void this.runEffectItemWin(t.node,this.headCollider.node,function(){e.addSkinDaughter(_.default.instance.itemLevelSkin,o),p.GlobalSignals.questPassSignal.dispatch()},!0)}if(_.default.instance.isQuestCollectSingleItem)switch(parseInt(t.node.name,10)){case h.TagConfig.LIFEBOUY:this.soundWin=s.CaseSound.GETLIFEBOUY;var n=t.node.addComponent(y.default);this.runEffectItemWin(t.node,this.bodyCollider.node,function(){n.targetPos=e.elementHand,p.GlobalSignals.questPassSignal.dispatch()});break;case h.TagConfig.BREAD:this.handCollider.node.active=!1,this.soundWin=s.CaseSound.EATBREAD,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinDaughter(f.ItemLevelSkin.ITEMHAND,"Foods/Bread"),p.GlobalSignals.questPassSignal.dispatch()},!0);break;default:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){p.GlobalSignals.questPassSignal.dispatch()},!0)}}},e.prototype.addSkinDaughter=function(t,e){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentSkinDaughter),r=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentHatDaughter),c=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentShoeDaughter),s=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentGloveDaughter),l=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentEarDaughter);switch(t){case f.ItemLevelSkin.HAT:r=this.skeleton.skeletonData.getRuntimeData().findSkin(e),a.GameData.addSkinBoss({key:a.GameData.KEY_DAUGHTER_HATS,array:a.GameData.myDaughterHats},d.SkinConfig.arraySkinDaughter[0].skinId,function(){}),a.GameData.setHatDaughter(e,function(){});break;case f.ItemLevelSkin.SHOE:c=this.skeleton.skeletonData.getRuntimeData().findSkin(e),a.GameData.addSkinBoss({key:a.GameData.KEY_DAUGHTER_SHOES,array:a.GameData.myDaughterShoes},d.SkinConfig.arraySkinDaughter[0].skinId,function(){}),a.GameData.setShoeDaughter(e,function(){});break;case f.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),a.GameData.addSkinBoss({key:a.GameData.KEY_DAUGHTER_SKINS,array:a.GameData.myDaughterSkins},d.SkinConfig.arraySkinDaughter[0].skinId,function(){}),a.GameData.setSkinDaughter(e,function(){});break;case f.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),a.GameData.addSkinBossOther(a.GameData.KEY_DAUGHTER_CURRENT_EAR);break;case f.ItemLevelSkin.GLOVES:s=this.skeleton.skeletonData.getRuntimeData().findSkin(e),a.GameData.addSkinBossOther(a.GameData.KEY_DAUGHTER_CURRENT_GLOVES);break;case f.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var p=new sp.spine.Skin("Temp");p.addSkin(i),r&&(p.addSkin(r),a.GameData.currentEarDaughter&&p.addSkin(l)),c&&p.addSkin(c),o&&p.addSkin(o),s&&p.addSkin(s),n&&p.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(p),this.skeleton.setSkin(p.name)},e.prototype.initDaughterSkin=function(){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var t=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentSkinDaughter),e=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentHatDaughter),o=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentShoeDaughter),n=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentGloveDaughter),i=this.skeleton.skeletonData.getRuntimeData().findSkin(a.GameData.currentEarDaughter),r=new sp.spine.Skin("Temp");r.addSkin(t),e&&r.addSkin(e),o&&r.addSkin(o),n&&(a.GameData.currentSkinDaughter!=l.GameConfig.daughter_skin_default&&a.GameData.currentSkinDaughter!=d.SkinConfig.arraySkinDaughter[0].skins[0]||r.addSkin(n)),i&&(a.GameData.currentHatDaughter!=d.SkinConfig.arrayHatDaughter[0].skins[0]&&a.GameData.currentHatDaughter||r.addSkin(i)),this.skeleton.skeletonData.getRuntimeData().skins.push(r),this.skeleton.setSkin(r.name)},e.prototype.onSoundColdIdle=function(){var t;_.default.instance.itemLevel&&(t=_.default.instance.itemLevel.getComponent(h.default)),t&&t.tag==h.TagConfig.LIFEBOUY&&_.default.instance.isQuestCollectSingleItem},e.prototype.offSoundColdIdle=function(){c.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e._instanceD=null,r([m(cc.Boolean)],e.prototype,"haveDog",void 0),o=r([b],e)}(g.default);o.default=S,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../config/CaseSound":"CaseSound","../../../config/GameConfig":"GameConfig","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/ItemSync":"ItemSync","../Mom/Mom":"Mom"}],DeathGO:[function(t,e,o){"use strict";cc._RF.push(e,"1f858xqxGhISKxC1uJbUyRF","DeathGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DeathGO=void 0;var a=t("./ObjectGO"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.enterCollision=function(){this.is_done},r([s],e)}(a.ObjectGO));o.DeathGO=l,cc._RF.pop()},{"./ObjectGO":"ObjectGO"}],DecorButton:[function(t,e,o){"use strict";cc._RF.push(e,"dd0f06Ev2pLCK05k5dsEOVL","DecorButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ResUtil"),c=t("../GameData"),s=t("../config/PuzzlesConfig"),l=t("../config/GlobalSignals"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=null,e.viewButton=null,e.upgradeButton=null,e.decorName="",e}return i(e,t),e.prototype.onEnable=function(){l.GlobalSignals.updateDecorButton.add(this.updateButton.bind(this)),this.updateButton()},e.prototype.onDisable=function(){l.GlobalSignals.updateDecorButton.remove(this.updateButton.bind(this))},e.prototype.init=function(t,e,o,n,i){var r=this;if(this.puzzleIndex=n,this.sprite=i,this.roomName=o,t>3){if(this.viewButton.active=!1,this.upgradeButton.active=!0,this.updateButton(),e>1){5==e&&(this.node.active=!1);var c="/HomePin2/Decor/"+o+"/Upgrade/"+this.decorName+"/lv"+e;a.ResUtil.loadSprite(c,function(t){var e=new cc.SpriteFrame;e.setTexture(t),r.sprite.spriteFrame=e})}}else this.count.string=t},e.prototype.upgradeSprite=function(t){var e=this,o=c.GameData.arrayItem[this.puzzleIndex].upgrade;o<5&&(t&&(cc.tween(this.sprite.node).by(.2,{scale:.1}).call(function(){cc.instantiate(e.effect).parent=e.sprite.node}).by(.2,{scale:-.1}).call(function(){var t="/HomePin2/Decor/"+e.roomName+"/Upgrade/"+e.decorName+"/lv"+o;a.ResUtil.loadSprite(t,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.sprite.spriteFrame=o})}).start(),o+=1,c.GameData.addCoin(-s.PuzzlesConfig.upgradePrice),c.GameData.setUpgadeDecor(this.puzzleIndex,o,null),l.GlobalSignals.updateDecorButton.dispatch()),5==o&&(this.node.active=!1))},e.prototype.updateButton=function(){c.GameData.playerCoin<s.PuzzlesConfig.upgradePrice?(this.upgradeButton.getComponent(cc.Button).interactable=!1,this.upgradeButton.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.upgradeButton.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.upgradeButton.getComponent(cc.Button).interactable=!0,this.upgradeButton.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.upgradeButton.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")))},e.prototype.setEffect=function(t){t&&(this.effect=t)},r([f(cc.Label)],e.prototype,"count",void 0),r([f(cc.Node)],e.prototype,"viewButton",void 0),r([f(cc.Node)],e.prototype,"upgradeButton",void 0),r([f(cc.String)],e.prototype,"decorName",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","../config/PuzzlesConfig":"PuzzlesConfig"}],DirtyGO:[function(t,e,o){"use strict";cc._RF.push(e,"86be7dhc+hBr6YJ71cx3FZ1","DirtyGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"dirty")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t){if(this.available)return t.node.group===a.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},2))):void 0},e.isTransform=!1,e.colliderBarrieCount=0,r([p(cc.Node)],e.prototype,"border",void 0),r([p(cc.Node)],e.prototype,"drop",void 0),o=r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],DogCollie:[function(t,e,o){"use strict";cc._RF.push(e,"58806ayFOJGzpAA7Dz36ejv","DogCollie");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DogCollie=void 0;var a=t("../../../config/GlobalEnum"),c=t("../../../config/TagObject"),s=t("../../../level/LevelTransition"),l=t("../../../level/WinLoseManager"),p=t("../XCharacter"),u=cc._decorator,f=u.ccclass,d=u.property,h=u.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.go_with_boss=!1,e.move_at_win=!1,e}return i(e,t),e.prototype.onSetSkeleton=function(t){this.animation=t?p.CharacterAnimations.dog_collie_default:null},e.prototype._startup_intro=function(){var e=this;switch(this.lvl_transition.type){case s.TransitionType.NONE:t.prototype._startup_intro.call(this);break;case s.TransitionType.F_POSITION:this.go_with_boss&&this.do_move(),this.lvl_transition.complete_event.add(function(){e.do_idle()});break;case s.TransitionType.CINEMATIC_CAM:t.prototype._startup_intro.call(this)}},e.prototype.onQuestPass=function(){this._state!=a.ECharacterState.WIN&&this._state!==a.ECharacterState.LOSE&&(this._state=a.ECharacterState.WIN,this.playAnim("win"),this.onSoundWin(),this.offSoundIdle())},e.prototype._on_body_collide_to_character=function(t){this.move_at_win&&t.node.name===c.TagConfig.BOSS+""&&(this._is_facing_left&&this.flip(),this.move_right())},e.prototype.stop_move_then_idle=function(){var t=this;return this._state===a.ECharacterState.MOVE&&(this.scheduleOnce(function(){t.stop_move(),t.do_idle()},.75),!0)},e.prototype.do_lose=function(t){if(void 0===t&&(t=a.ECharacterDieReason.NORMAL),!(null!=this._prev_die_reason&&this._prev_die_reason>=t)){switch(this.stop_move(),this.unscheduleAllCallbacks(),this.offSoundIdle(),console.log(this.name,"DIE",a.ECharacterDieReason[t],this._alive),t){case a.ECharacterDieReason.NORMAL:this.playAnim("lose");break;case a.ECharacterDieReason.GAS:case a.ECharacterDieReason.STUN:this.playAnim("die_rock"),this._alive=!1;break;case a.ECharacterDieReason.KILL:this.playAnim("killed",!1),this._alive=!1;break;case a.ECharacterDieReason.FIRE:this._prev_die_reason===a.ECharacterDieReason.KILL?cc.tween(this._skeleton.node).to(.1,{color:cc.color(77,76,76)}).start():this.playAnim("die_bomb",!1),this._alive=!1;break;case a.ECharacterDieReason.ICE:this.playAnim("die_ice",!1),this._alive=!1}this._prev_die_reason=t,this._state!==a.ECharacterState.LOSE&&(this._state=a.ECharacterState.LOSE,this.onSoundLose(),this.after_lose())}},e.prototype.onQuestFail=function(){this._state!==a.ECharacterState.LOSE&&this.do_lose()},e.prototype._on_hit=function(e){t.prototype._on_hit.call(this,e),this.do_lose(a.ECharacterDieReason.KILL)},e.prototype.after_lose=function(){cc.instance(l.WinLoseManager).invoke_fail()},e.prototype.onCollectGem=function(){},e.prototype.onAutoMove=function(){},e.prototype.initSkin=function(){},r([d({type:p.CharacterAnimations,override:!0,visible:function(){return!!this.animation}})],e.prototype,"animation",void 0),r([d(cc.Boolean)],e.prototype,"go_with_boss",void 0),r([d()],e.prototype,"move_at_win",void 0),r([f,h("Character/Dog Collie")],e)}(p.XCharacter);o.DogCollie=_,cc._RF.pop()},{"../../../config/GlobalEnum":"GlobalEnum","../../../config/TagObject":"TagObject","../../../level/LevelTransition":"LevelTransition","../../../level/WinLoseManager":"WinLoseManager","../XCharacter":"XCharacter"}],Dog:[function(t,e,o){"use strict";cc._RF.push(e,"3f19e8Qk9JDqLr7LacnS5JF","Dog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../config/GroupConfig"),s=t("../../../config/TagObject"),l=t("../../../config/GlobalSignals"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eatAnim="Win",e.eatAnim2="Win2",e.isEating=!1,e}return i(e,t),e.prototype.onAttackCollider=function(e,o){var n=this;this.isEating||(t.prototype.onAttackCollider.call(this,e,o),e.node.group===c.GroupConfig.ITEM&&e.node.name==s.TagConfig.MEAT&&(this.isEating=!0,this.rotateFaceToTarget(e.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim).addAnimation(this.eatAnim2,!0),this.scheduleOnce(function(){n.moveRight(n.walkAnim),l.GlobalSignals.questPassSignal.dispatch()},1),e.node.destroy()))},e.prototype.onSearchCollider=function(e){this.isEating||t.prototype.onSearchCollider.call(this,e)},e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this)},r([f(cc.String)],e.prototype,"eatAnim",void 0),r([f(cc.String)],e.prototype,"eatAnim2",void 0),r([u],e)}(a.default);o.default=d,cc._RF.pop()},{"../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],DynamicButton:[function(t,e,o){"use strict";cc._RF.push(e,"3bc78pIMrxBMpF1pnQ9sxl6","DynamicButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DynamicButton=o.DynamicButtonHelper=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.requireComponent,p=a.menu,u=function(){function t(){this._frame=null,this.size=null}return Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,t&&!this.size&&(this.size=t.getOriginalSize())},enumerable:!1,configurable:!0}),t.prototype.execute=function(t,e){void 0===e&&(e={duration:0}),t.spriteFrame=this.frame,e&&this.fade(t,e.duration)},t.prototype.fade=function(t,e){cc.tween(t.node).to(e,{width:this.size.width,height:this.size.height}).start()},r([s()],t.prototype,"_frame",void 0),r([s({type:cc.SpriteFrame})],t.prototype,"frame",null),r([s({visible:function(){return!!this.size}})],t.prototype,"size",void 0),r([c("DynamicButtonHelper")],t)}();o.DynamicButtonHelper=u;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeStats=new u,e.inactiveStats=new u,e.executeInactive=!0,e._type="activeStats",e._sprite=null,e._isDisable=!1,e}return i(e,t),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._sprite||(this._sprite=this.getComponent(cc.Sprite)),this._sprite},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._sprite=this.getComponent(cc.Sprite),this.executeInactive&&this.inactive()},e.prototype.fade=function(t,e,o,n,i){var r=this;cc.tween(this.node).to(t,{opacity:e,position:o}).call(function(){return r.status=i}).start(),this[n].fade(this._sprite,t)},e.prototype.fadeIn=function(t,e){this.fade(t,255,e,"activeStats",{status:"wakeActive"})},e.prototype.fadeOut=function(t,e,o){this.fade(t,0,e,"inactiveStats",{status:o})},Object.defineProperty(e.prototype,"status",{set:function(t){if(t)switch(t.status){case"wakeActive":this.wakeActive(t.resize);break;case"wakeInactive":this.wakeInactive(0,t.resize);break;case"inactive":this.inactive()}},enumerable:!1,configurable:!0}),e.prototype.wakeActive=function(t){void 0===t&&(t=!0);var e=t?{duration:0}:null;this.activeStats.execute(this.sprite,e),this.node.zIndex=1,this._type="activeStats"},e.prototype.wakeInactive=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),cc.tween(this.node).delay(t).to(0,{opacity:255}).start();var o=e?{duration:0}:null;this.node.zIndex=9,this.inactiveStats.execute(this.sprite,o),this._type="inactiveStats"},e.prototype.switch=function(){switch(this._type){case"activeStats":this.wakeInactive(0,!1);break;case"inactiveStats":this.wakeActive(!1)}},e.prototype.inactive=function(){this.sprite.spriteFrame=null,this.node.setContentSize(0,0)},Object.defineProperty(e.prototype,"position",{get:function(){return this.node.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisable",{get:function(){return this._isDisable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disable",{set:function(t){if(null!=t){if(t instanceof Object)return this._isDisable=t.value,void(this._isDisable?this._disable(t.deep):this._enable(t.deep));this._isDisable=t,this._isDisable?this._disable(null):this._enable(null)}},enumerable:!1,configurable:!0}),e.prototype._disable=function(t){var e=!!t&&t.offSprite;this.wakeInactive(0,e)},e.prototype._enable=function(t){var e=!!t&&t.offSprite;this.wakeActive(e)},r([s({type:u})],e.prototype,"activeStats",void 0),r([s({type:u})],e.prototype,"inactiveStats",void 0),r([s()],e.prototype,"executeInactive",void 0),r([c,l(cc.Sprite),p("Button/Dynamic")],e)}(cc.Component);o.DynamicButton=f,cc._RF.pop()},{}],DynamicSpriteLanguage:[function(t,e,o){"use strict";cc._RF.push(e,"6cedbfQRydHyrd2JyoO/p7U","DynamicSpriteLanguage"),Object.defineProperty(o,"__esModule",{value:!0}),o.DynamicSpriteLanguage=void 0;var n={data:{EN:{daily_day_7:{dir:"PinDetective/Daily/DailyDay7/en_daily_text_day_7"}},JA:{daily_day_7:{dir:"PinDetective/Daily/DailyDay7/en_daily_text_day_7"}},ID:{daily_day_7:{dir:void 0}},DE:{daily_day_7:{dir:void 0}}}},i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.getSpriteLangInfor=function(t,e){var o=null!=n[e]?n[e]:n.EN;return null!=o[t]?o[t]:n.EN[t]},t._instance=null,t}();o.DynamicSpriteLanguage=i,cc._RF.pop()},{}],EAutoWall:[function(t,e,o){"use strict";cc._RF.push(e,"fd07eRd7htAgLi6LDTyJi/3","EAutoWall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EAutoWall=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,p=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.box=null,e}return i(e,t),e.prototype.onLoad=function(){this.destroy()},e.prototype.update=function(){},r([s(cc.PhysicsBoxCollider)],e.prototype,"box",void 0),r([c,l,p("TSEditor/Auto Wall")],e)}(cc.Component);o.EAutoWall=u,cc._RF.pop()},{}],ECBDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"53721N5X5hL05JMW5vEveD7","ECBDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.decryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"33df0fiPsBKOI139kHKRo/3","ECBEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.encryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(t,e,o){"use strict";cc._RF.push(e,"e4f9dlfXlNDnbs5KDhCFA3G","ECB");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var r=t("./BlockCipherMode"),a=t("./ECBEncryptor"),c=t("./ECBDecryptor"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=a.ECBEncryptor,e.Decryptor=c.ECBDecryptor,e}(r.BlockCipherMode);o.ECB=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],EFakeCam:[function(t,e,o){"use strict";cc._RF.push(e,"d1b73D37VdL5635A8bleDki","EFakeCam");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EFakeCam=void 0,t("../../TS/Helper/Global");var a=t("../LevelTransition"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.executeInEditMode,u=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._opt=null,e.main_pos=null,e.zoom_ratio=1,e}return i(e,t),Object.defineProperty(e.prototype,"opt",{set:function(t){this._opt=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"game_size",{get:function(){return cc.size(720,1280)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.destroy()},e.prototype.update=function(){},r([l({type:a.CinematicCamTransition})],e.prototype,"_opt",void 0),r([l(cc.Node)],e.prototype,"main_pos",void 0),r([l({min:0})],e.prototype,"zoom_ratio",void 0),r([l()],e.prototype,"game_size",null),r([s,p,u("TSEditor/Fake Cam")],e)}(cc.Component);o.EFakeCam=f,cc._RF.pop()},{"../../TS/Helper/Global":"Global","../LevelTransition":"LevelTransition"}],EPDBoardDataViewer:[function(t,e,o){"use strict";cc._RF.push(e,"dc852AKL1FGk6yBTlesMQMM","EPDBoardDataViewer"),Object.defineProperty(o,"__esModule",{value:!0}),o.JsonMultiLangOptionView=void 0;o.JsonMultiLangOptionView=function(){},cc._RF.pop()},{}],Encoding:[function(t,e,o){"use strict";cc._RF.push(e,"9a7fefikc9FvrKzR1AkV9Fc","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Enemies:[function(t,e,o){"use strict";cc._RF.push(e,"c0d19Q53chFxZ8/bnKcdE1A","Enemies");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Character"),c=t("../../../config/GroupConfig"),s=t("../../../config/TagObject"),l=t("../../../level/MapLevel"),p=cc._decorator,u=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSuper=!1,e.isAttack=!1,e.superAppearAnim="Appear1",e}return i(e,t),e.prototype.start=function(){this.hit&&(this.hit.active=!1)},e.prototype.playAttack=function(t){var e=this;this.isAttack||(this.isAttack=!0,this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){e.isAlive&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e.isAttack=!1,e.stopMove(),e.searchCollider.refreshPingToTarget())}))},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(t.node.group!==c.GroupConfig.ITEM||t.node.name!=s.TagConfig.CHEST&&t.node.name!=s.TagConfig.ITEM&&t.node.name!=s.TagConfig.STICK||this.onDieNormal())},e.prototype.onBodyCollider=function(t){if(this.isAlive&&!this.checkIgnoreFluid(t.node.group))if(t.node.group!==c.GroupConfig.LAVA)if(t.node.group!==c.GroupConfig.SNOW){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==s.TagConfig.HIT){var e=t.node.getComponent(s.default).tag2;return cc.log(this.node.name+" onBodyCollider: "+t.node.group+" tag2 = "+e),void(this.tagHit==s.TagConfig.DOG?e!=s.TagConfig.DOG&&this.onDieNormal():e!=s.TagConfig.FIRE_BALL&&e!=s.TagConfig.BOSS&&e!=s.TagConfig.STICK&&e!=s.TagConfig.ITEM&&e!=s.TagConfig.TRAP&&e!=s.TagConfig.ROCK&&e!=s.TagConfig.BIG_ROCK&&e!=s.TagConfig.BULLET&&e!=s.TagConfig.POW&&e!=s.TagConfig.SAW&&e!=s.TagConfig.LAZE||this.onDieNormal())}if(t.node.name==s.TagConfig.GAS||t.node.name==s.TagConfig.BOMB)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){if(this.isAlive){if(cc.log(this.node.name+" onAttackCollider: "+t.node.name),t.node.group===c.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node)return t.node.name==s.TagConfig.BOSS||t.node.name==s.TagConfig.GIRL||t.node.name==s.TagConfig.DOG?void this.playAttack(t.node):(this.stopMove(),void this.playAnimation(this.idleAnim,!0));if(t.node.group===c.GroupConfig.ITEM&&t.node.name==s.TagConfig.HOLY_WATER){try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.destroy()}catch(e){cc.warn(e)}return this.stopMove(),void this.changeSkinToSuper()}}},e.prototype.changeSkinToSuper=function(){this.isSuper=!0,this.idleAnim+="2",this.attackAnim+="2",this.walkAnim+="2",this.runAnim+="2",this.hit.removeFromParent(),this.node.addChild(this.hit);var t=this.attackCollider.getComponent(cc.BoxCollider),e=this.hit.getComponent(cc.BoxCollider);this.hit.position=this.attackCollider.node.position,this.hit.angle=this.attackCollider.node.angle,e.offset=t.offset,e.size=t.size,this.playAnimation(this.superAppearAnim).addAnimation(this.idleAnim,!0)},e.prototype.onSearchCollider=function(t){this.isAlive&&l.default.instance.isPlaying&&!this.isAttack&&(t.node.group!==c.GroupConfig.CHARACTER||t.node==this.groundCollider.node||(t.node.name==s.TagConfig.BOSS||t.node.name==s.TagConfig.GIRL||t.node.name==s.TagConfig.GIRL_WONDER||t.node.name==s.TagConfig.DOG?this.walkToTarget(t.node):this.addToIgnoreSearchCollier(t.node)))},e.prototype.onAutoMove=function(){this.isAlive&&this.walkToTarget(null)},e.prototype.onDieFire=function(){this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1},e.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1},e.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1},r([u],e)}(a.default));o.default=f,cc._RF.pop()},{"../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character"}],EnemyPool:[function(t,e,o){"use strict";cc._RF.push(e,"33cadjMD89J55m+3Oto6Asc","EnemyPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EnemyPool=void 0;var a=t("../../../level/WinLoseManager"),c=t("../XCharacter"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pool=[],e._kill_count=0,e}return i(e,t),e.prototype.add_enemy=function(t){this._pool.push(t),this._kill_count++},e.prototype.kill_a_enemy=function(){this._kill_count--,this._kill_count<=0&&cc.instance(a.WinLoseManager).invoke_win(1)},r([p([c.XCharacter])],e.prototype,"_pool",void 0),r([l,u("Enemy/Pool")],e)}(cc.Component);o.EnemyPool=f,cc._RF.pop()},{"../../../level/WinLoseManager":"WinLoseManager","../XCharacter":"XCharacter"}],EvpKDF:[function(t,e,o){"use strict";cc._RF.push(e,"9a3b4WMLaRGGoHpkrr1WBEx","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var n=t("../lib/WordArray"),i=t("../algo/MD5"),r=function(){function t(t){this.cfg=Object.assign({keySize:4,hasher:i.MD5,iterations:1},t)}return t.prototype.compute=function(t,e){for(var o,i=new this.cfg.hasher,r=new n.WordArray;r.words.length<this.cfg.keySize;){o&&i.update(o),o=i.update(t).finalize(e),i.reset();for(var a=1;a<this.cfg.iterations;a++)o=i.finalize(o),i.reset();r.concat(o)}return r.sigBytes=4*this.cfg.keySize,r},t}();o.EvpKDF=r,cc._RF.pop()},{"../algo/MD5":"MD5","../lib/WordArray":"WordArray"}],Exporter:[function(t,e){"use strict";cc._RF.push(e,"6b9a43WAbNPeLXchxZUzH8Z","Exporter"),cc._RF.pop()},{}],FBInstantData:[function(t,e,o){"use strict";cc._RF.push(e,"09452fizKlBLom5nLmzsz3a","FBInstantData"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantData=void 0;var n=t("../../base/LocalStorageManager"),i=function(){function t(){}return t.getData=function(t,e){for(var o={},i=0;i<=t.length;i++)o[t[i]]=JSON.parse(n.LocalStorageManager.getItem(t[i]));e&&e(o)},t.setData=function(t,e){void 0===e&&(e=null),n.LocalStorageManager.setItem(Object.keys(t)[0],JSON.stringify(Object.values(t)[0])),e&&e(null)},t.getValue=function(t){var e=JSON.parse(n.LocalStorageManager.getItem(t));return null!==e||void 0!==e?e:null},t.setValue=function(t,e,o){n.LocalStorageManager.setItem(t,JSON.stringify(e)),o&&o(null)},t}();o.FBInstantData=i,cc._RF.pop()},{"../../base/LocalStorageManager":"LocalStorageManager"}],FOpacity:[function(t,e,o){"use strict";cc._RF.push(e,"8bc5eOwdfJBhrxOBh6pVzfA","FOpacity");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FOpacity=o.FOpacityHelper=void 0;var a=t("../../config/GlobalEnum"),c=t("./FastComponent"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(){function t(){this.byto=a.OByTo.BY,this.value=0,this.duration=0}return t.prototype.generate=function(t){switch(this.byto){case a.OByTo.BY:return t.by(this.duration,{opacity:this.value}),t;case a.OByTo.TO:return t.to(this.duration,{opacity:this.value}),t}},r([p({type:cc.Enum(a.OByTo)})],t.prototype,"byto",void 0),r([p()],t.prototype,"value",void 0),r([p({min:0})],t.prototype,"duration",void 0),r([l("FOpacityHelper")],t)}();o.FOpacityHelper=f;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=[],e}return i(e,t),e.prototype._mechanic=function(t){for(var e=0,o=this.options;e<o.length;e++)t=o[e].generate(t);return t},r([p(f)],e.prototype,"options",void 0),r([l,u("Fast/Opacity")],e)}(c.FastComponent);o.FOpacity=d,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum","./FastComponent":"FastComponent"}],FPosition:[function(t,e,o){"use strict";cc._RF.push(e,"5baf1QXnuhATZdPuWREFoFo","FPosition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FPosition=o.FPositionHelper=o.FPositionType=void 0;var a,c=t("../../config/GlobalEnum"),s=t("./FastComponent"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu;(function(t){t[t.SINGLE_CONSTANT=0]="SINGLE_CONSTANT",t[t.VEC3=1]="VEC3"})(a=o.FPositionType||(o.FPositionType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=0,e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){var n=cc.v3(this._data,this._data,this._data);switch(o){case c.OByTo.BY:return t.by(e,{position:n});case c.OByTo.TO:return t.to(e,{position:n})}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FPositionSingleOptions")],e)}(s.AFastBytoOptions),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=cc.v3(),e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){switch(o){case c.OByTo.BY:return t.by(e,{position:this._data});case c.OByTo.TO:return t.to(e,{position:this._data})}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FPositionVec3Options")],e)}(s.AFastBytoOptions),_=function(){function t(){this._type=a.SINGLE_CONSTANT,this.byto=c.OByTo.BY,this.option=new d,this.duration=0}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t)switch(this._type=t,t){case a.SINGLE_CONSTANT:return void(this.option=new d);case a.VEC3:return void(this.option=new h)}},enumerable:!1,configurable:!0}),t.prototype.generate=function(t){return this.option.generate(t,this.duration,this.byto)},r([u({type:cc.Enum(a)})],t.prototype,"_type",void 0),r([u({type:cc.Enum(a)})],t.prototype,"type",null),r([u({type:cc.Enum(c.OByTo)})],t.prototype,"byto",void 0),r([u(s.AFastBytoOptions)],t.prototype,"option",void 0),r([u({min:0})],t.prototype,"duration",void 0),r([p("FPositionHelper")],t)}();o.FPositionHelper=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.helpers=[],e}return i(e,t),e.prototype._mechanic=function(t){for(var e=0,o=this.helpers;e<o.length;e++)t=o[e].generate(t);return t},r([u({type:[_]})],e.prototype,"helpers",void 0),r([p,f("Fast/Position")],e)}(s.FastComponent);o.FPosition=y,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum","./FastComponent":"FastComponent"}],FRotation:[function(t,e,o){"use strict";cc._RF.push(e,"d3429uhkxRPfZN18yZ8VeZ4","FRotation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FRotation=void 0;var a,c=t("../../config/GlobalEnum"),s=t("./FastComponent"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu;(function(t){t[t.SINGLE_CONSTANT=0]="SINGLE_CONSTANT",t[t.THREE_CONSTANT=1]="THREE_CONSTANT"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=0,e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){switch(o){case c.OByTo.BY:return t.by(e,{angle:this._data}),t;case c.OByTo.TO:return t.to(e,{angle:this._data}),t}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FRotationSingle")],e)}(s.AFastBytoOptions),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=cc.v3(),e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){switch(o){case c.OByTo.BY:return t.by(e,{eulerAngles:this._data}),t;case c.OByTo.TO:return t.to(e,{eulerAngles:this._data}),t}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FRotationVec3")],e)}(s.AFastBytoOptions),_=function(){function t(){this._type=a.SINGLE_CONSTANT,this.byto=c.OByTo.BY,this.option=new d,this.duration=0}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t)switch(this._type=t,t){case a.SINGLE_CONSTANT:this.option=new d;break;case a.THREE_CONSTANT:this.option=new h}},enumerable:!1,configurable:!0}),t.prototype.generate=function(t){return this.option.generate(t,this.duration,this.byto)},r([u({type:cc.Enum(a)})],t.prototype,"_type",void 0),r([u({type:cc.Enum(a)})],t.prototype,"type",null),r([u({type:cc.Enum(c.OByTo)})],t.prototype,"byto",void 0),r([u(s.AFastBytoOptions)],t.prototype,"option",void 0),r([u({min:0})],t.prototype,"duration",void 0),r([p("FRotationOptions")],t)}(),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=[],e}return i(e,t),e.prototype._mechanic=function(t){for(var e=0,o=this.options;e<o.length;e++)t=o[e].generate(t);return t},r([u({type:[_]})],e.prototype,"options",void 0),r([p,f("Fast/Rotation")],e)}(s.FastComponent);o.FRotation=y,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum","./FastComponent":"FastComponent"}],FScaler:[function(t,e,o){"use strict";cc._RF.push(e,"b047d4AbchKmLptDu1oSCaf","FScaler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FScaler=void 0;var a,c=t("../../config/GlobalEnum"),s=t("./FastComponent"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu;(function(t){t[t.SINGLE_CONSTANT=0]="SINGLE_CONSTANT",t[t.TWO_CONSTANT=1]="TWO_CONSTANT"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=0,e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){switch(o){case c.OByTo.BY:return t.by(e,{scale:this._data}),t;case c.OByTo.TO:return t.to(e,{scale:this._data}),t}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FScalerSingleOptions")],e)}(s.AFastBytoOptions),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=cc.v2(),e}return i(e,t),Object.defineProperty(e.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.generate=function(t,e,o){switch(o){case c.OByTo.BY:return t.by(e,{scaleX:this._data.x,scaleY:this._data.y}),t;case c.OByTo.TO:return t.to(e,{scaleX:this._data.x,scaleY:this._data.y}),t}},r([u()],e.prototype,"_data",void 0),r([u()],e.prototype,"option",null),r([p("FScalerTwoOptions")],e)}(s.AFastBytoOptions),_=function(){function t(){this._type=a.SINGLE_CONSTANT,this.byto=c.OByTo.BY,this.option=new d,this.duration=0}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t)switch(this._type=t,t){case a.SINGLE_CONSTANT:this.option=new d;break;case a.TWO_CONSTANT:this.option=new h}},enumerable:!1,configurable:!0}),t.prototype.generate=function(t){return this.option.generate(t,this.duration,this.byto)},r([u({type:cc.Enum(a)})],t.prototype,"_type",void 0),r([u({type:cc.Enum(a)})],t.prototype,"type",null),r([u({type:cc.Enum(c.OByTo)})],t.prototype,"byto",void 0),r([u(s.AFastBytoOptions)],t.prototype,"option",void 0),r([u({min:0})],t.prototype,"duration",void 0),r([p("FScalerHelper")],t)}(),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=[],e}return i(e,t),e.prototype._mechanic=function(t){for(var e=0,o=this.options;e<o.length;e++)t=o[e].generate(t);return t},r([u({type:[_]})],e.prototype,"options",void 0),r([p,f("Fast/Scaler")],e)}(s.FastComponent);o.FScaler=y,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum","./FastComponent":"FastComponent"}],FSpineAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"fe8facnSkxNrpb9AsffMp1c","FSpineAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FSpineAnimation=void 0;var a=t("./FastComponent"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._skeleton=null,e._chain_anim=[],e._final_anim=[],e.loop_at_end=!0,e.time_scale=1,e.msg="",e}return i(e,t),Object.defineProperty(e.prototype,"skeleton",{get:function(){return this._skeleton},set:function(t){this._skeleton=t,t&&(this.time_scale=t.timeScale,this.chain_anim=this._chain_anim)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chain_anim",{get:function(){return this._chain_anim},set:function(t){if(this._skeleton){this._chain_anim=t;var e=this._skeleton.skeletonData.getRuntimeData().animations.map(function(t){return t.name}),o=t.filter(function(t){return!e.includes(t)});this._final_anim=t.filter(function(t){return e.includes(t)}),this.msg=o.length>0?"NO ANIMATION: ":"";for(var n=0,i=o;n<i.length;n++){var r=i[n];this.msg+=" "+r}}},enumerable:!1,configurable:!0}),e.prototype._mechanic=function(t){var e=this;return this.skeleton?t.call(function(){return e.set_anims()}):t},e.prototype.set_anims=function(){this._skeleton.timeScale=this.time_scale;var t=this._final_anim.length;if(t>=2){this._skeleton.setAnimation(0,this._final_anim[0],!1);for(var e=0;e<t;e++)e===t-1&&this.loop_at_end?this._skeleton.addAnimation(0,this._final_anim[e],!0):this._skeleton.addAnimation(0,this._final_anim[e],!1)}else this._skeleton.setAnimation(0,this._final_anim[0],this.loop_at_end)},r([l(sp.Skeleton)],e.prototype,"_skeleton",void 0),r([l({type:sp.Skeleton})],e.prototype,"skeleton",null),r([l([cc.String])],e.prototype,"_chain_anim",void 0),r([l({type:[cc.String],visible:function(){return!!this._skeleton}})],e.prototype,"chain_anim",null),r([l([cc.String])],e.prototype,"_final_anim",void 0),r([l()],e.prototype,"loop_at_end",void 0),r([l({min:0})],e.prototype,"time_scale",void 0),r([l({visible:function(){return!!this.msg},multiline:!0,readonly:!0})],e.prototype,"msg",void 0),r([s,p("Fast/Spine/Chain anims")],e)}(a.FastComponent);o.FSpineAnimation=u,cc._RF.pop()},{"./FastComponent":"FastComponent"}],FTotalParticle:[function(t,e,o){"use strict";cc._RF.push(e,"509fblJn/pGVr+1seuogrlV","FTotalParticle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FTotalParticle=void 0;var a=t("../../config/GlobalEnum"),c=t("./FastComponent"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(){function t(){this._data=0,this.byto=a.OByTo.BY,this.duration=0}return Object.defineProperty(t.prototype,"option",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),t.prototype.generate=function(t){switch(this.byto){case a.OByTo.BY:return t.to(this.duration,{totalParticles:this._data});case a.OByTo.TO:return t.by(this.duration,{totalParticles:this._data})}},r([p(cc.Integer)],t.prototype,"_data",void 0),r([p({type:cc.Integer})],t.prototype,"option",null),r([p({type:cc.Enum(a.OByTo)})],t.prototype,"byto",void 0),r([p({min:0})],t.prototype,"duration",void 0),r([l("FTotalParticleOptions")],t)}(),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=null,e.options=[],e}return i(e,t),e.prototype._mechanic=function(t){for(var e=0,o=this.options;e<o.length;e++)t=o[e].generate(t);return t},r([p(cc.ParticleSystem)],e.prototype,"particle",void 0),r([p([f])],e.prototype,"options",void 0),r([l,u("Fast/Total Particle")],e)}(c.FastComponent);o.FTotalParticle=d,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum","./FastComponent":"FastComponent"}],FXFlyingCoins:[function(t,e,o){"use strict";cc._RF.push(e,"d8a57eil1RMkqCYEOgefBY5","FXFlyingCoins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FXFlyingCoins=void 0;var a=t("../config/AudioPlayId"),c=t("../MainScene"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.coinPrefab=null,e.amount=20,e.coinPool=null,e}return i(e,t),e.prototype.onLoad=function(){this.coinPool=new cc.NodePool,this.initCoinPool()},e.prototype.initCoinPool=function(t){void 0===t&&(t=20);for(var e=0;e<this.amount;e++){var o=cc.instantiate(this.coinPrefab);this.coinPool.put(o)}},e.prototype.playAnim=function(){c.default.instance.audioPlayer.playAudio(a.AudioPlayId.effect_coin_grab);var t=15*Math.random()+10,e=this.startPoint.convertToWorldSpaceAR(cc.v2()),o=this.endPoint.convertToWorldSpaceAR(cc.v2()),n=this.node.parent.convertToNodeSpaceAR(e),i=this.node.parent.convertToNodeSpaceAR(o);this.playCoinFlyAnim(t,n,i)},e.prototype.playCoinFlyAnim=function(t,e,o,n){var i=this;void 0===n&&(n=130);var r=this.coinPool.size(),s=r>t?0:t-r;this.initCoinPool(s);var l=this.getCirclePoints(n,e,t).map(function(t){var n=i.coinPool.get();return n.setPosition(e),i.node.addChild(n),{node:n,stPos:e,mdPos:t,edPos:o,dis:t.sub(o).mag()}});l=l.sort(function(t,e){return t.dis-e.dis>0?1:t.dis-e.dis<0?-1:0});var p=0;l.forEach(function(t,e){cc.tween(t.node).to(.3,{position:cc.v3(t.mdPos)}).delay(.01*e).to(.5,{position:cc.v3(t.edPos)}).call(function(){p%5==0&&c.default.instance.audioPlayer.playAudio(a.AudioPlayId.effect_coin_fly),p++,i.coinPool.put(t.node)}).start()})},e.prototype.getCirclePoints=function(t,e,o,n){void 0===n&&(n=60);for(var i=[],r=Math.PI/180*Math.round(360/o),a=0;a<o;a++){var c=e.x+t*Math.sin(r*a),s=e.y+t*Math.cos(r*a);i.unshift(cc.v3(c+Math.random()*n,s+Math.random()*n,0))}return i},e.prototype.settup_full_pack=function(t,e,o){void 0===o&&(o=!0),this.startPoint=t,this.endPoint=e,o&&this.playAnim()},r([p(cc.Prefab)],e.prototype,"coinPrefab",void 0),r([p(cc.Integer)],e.prototype,"amount",void 0),r([l,u("FX/Flying Coins")],e)}(cc.Component);o.FXFlyingCoins=f,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],FastComponent:[function(t,e,o){"use strict";cc._RF.push(e,"d68b5PpJ81OcYFJxwcinUUl","FastComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FastComponent=o.AFastBytoOptions=o.AFastOptions=void 0;var a=t("../../config/GlobalEnum"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(){function t(){}return r([s("AFastOptions")],t)}();o.AFastOptions=p;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([s("AFastBytoOptions")],e)}(p);o.AFastBytoOptions=u;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noInterupt=!0,e.executeMode=a.OExecuteMode.OFF,e.loopTime=1,e._action=null,e._rootA=null,e._acting=!1,e}return i(e,t),e.prototype.onLoad=function(){this._action=cc.tween(this.node),this._rootA=cc.tween(this.node),this._action=this._final_action(this._action),this._generate_root(),this.executeMode===a.OExecuteMode.ON_LOAD&&this.execute()},e.prototype.onEnable=function(){this.executeMode===a.OExecuteMode.ON_ENABLE&&this.execute()},e.prototype.start=function(){this.executeMode===a.OExecuteMode.START&&this.execute()},e.prototype.executeBTN=function(){this.noInterupt&&!this._acting?(this._acting=!0,this._rootA.start()):this.noInterupt||this._action.start()},e.prototype.execute=function(t){void 0===t&&(t=!1),t?cc.tween(this.node).reverseTime(this._rootA).start():this.executeBTN()},e.prototype.stopBTN=function(){this._rootA.stop(),this._acting=!1,this._stop_mechanic()},e.prototype._stop_mechanic=function(){},e.prototype._generate_root=function(){this.loopTime<=0&&this._rootA.repeatForever(this._action),this._rootA.repeat(this.loopTime,this._action)},e.prototype._final_action=function(t){var e=this;return(t=this._mechanic(t)).call(function(){return e._acting=!1})},e.prototype.onDisable=function(){this.stopBTN()},r([l({tooltip:"If this FastComponent is current running, can not be runned again which make it overrlaping."})],e.prototype,"noInterupt",void 0),r([l({type:cc.Enum(a.OExecuteMode)})],e.prototype,"executeMode",void 0),r([l({min:0,tooltip:"Amount of the looping time of this FastComponent. '0' mean forever"})],e.prototype,"loopTime",void 0),r([s],e)}(cc.Component);o.FastComponent=f,cc._RF.pop()},{"../../config/GlobalEnum":"GlobalEnum"}],FireBall:[function(t,e,o){"use strict";cc._RF.push(e,"3b75aNqdaNIOIPzvHQpdNPY","FireBall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bumPrefab=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;if(t.node.group===a.GroupConfig.BERRIE)return this.showBumEffect(),this.node.active=!1,this.node.stopAllActions(),void this.node.destroy();t.node.group===a.GroupConfig.CHARACTER&&(this.showBumEffect(),this.scheduleOnce(function(){e.node.opacity=0,e.node.stopAllActions(),cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.destroy()},.2))},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=.66,this.node.getParent().addChild(t),cc.tween(t).delay(.8).call(function(){t.destroy()}).start()},e.velocityHit=500,r([l(cc.Prefab)],e.prototype,"bumPrefab",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],FlashTransition:[function(t,e,o){"use strict";cc._RF.push(e,"9c053C1S09B0ZMJU9ymlzaH","FlashTransition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FlashTransition=void 0;var a=t("../../ScreenManager"),c=t("../../config/GameState"),s=t("../../level/MapLevel"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._posFlash=cc.v3(),e.duration=0,e}return i(e,t),e.prototype.onLoad=function(){this._posFlash=this.node.position},e.prototype.shortFlash=function(t,e){var o=this;void 0===e&&(e=null),this.node.opacity=255,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(0,{position:this.node.position}).to(t,{opacity:0}).call(function(){o.node.active=!1,o.node.position=o._posFlash}).start(),console.log("SHROT FLASh")},e.prototype.longFlash=function(t,e,o){var n=this;void 0===e&&(e=null),this.duration=t.goToDuration+t.goBackDuration+t.delay,this.node.opacity=255,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(t.goToDuration,{opacity:255}).call(function(){e&&e(),o==a.ScreenId.HOME_SCREEN&&s.default.instance&&(s.default.instance.gameState!=c.GameState.WIN&&s.default.instance.gameState!=c.GameState.LOSE||(n.node.position=cc.Vec3.ZERO))}).delay(t.delay).to(t.goToDuration,{opacity:0}).call(function(){n.node.active=!1,n.node.position=n._posFlash}).start(),console.log("lONG FLASh")},r([p],e)}(cc.Component));o.FlashTransition=u,cc._RF.pop()},{"../../ScreenManager":"ScreenManager","../../config/GameState":"GameState","../../level/MapLevel":"MapLevel"}],FlyingCoins:[function(t,e,o){"use strict";cc._RF.push(e,"bf9dbU+4XBJsbyx0t6tqd8S","FlyingCoins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/AudioPlayId"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coins=null,e.targetPos=null,e.startPos=null,e.audio=a.AudioPlayId.effect_coin_collect,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.flyingCoins=function(){var t=this;if(this.startPos){var e=this.startPos.parent.convertToWorldSpaceAR(cc.v2());console.log(this.node.parent.convertToNodeSpaceAR(e).toString()),this.node.setPosition(this.node.parent.convertToNodeSpaceAR(e))}for(var o=this.node.getParent().convertToNodeSpaceAR(this.targetPos.getParent().convertToWorldSpaceAR(this.targetPos.position)),n=function(e){var n=e;cc.tween(i.coins.children[n]).to(.25,{scale:1},{easing:"quintOut"}).start(),cc.tween(i.coins.children[n]).delay(.1).call(function(){t.coins.children[n].active=!0}).to(.25,{position:cc.v3(i.coins.children[n].x+i.getRandomNum(-90,90),i.coins.children[n].y+i.getRandomNum(-50,50))}).delay(.25+.05*n).to(.5,{position:cc.v3(o.x+20-i.targetPos.width,o.y-20)}).call(function(){t.coins.children[n].active=!1,n===t.coins.children.length-1&&t.node.destroy()}).start()},i=this,r=0;r<this.coins.children.length;r++)n(r)},e.prototype.getRandomNum=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},e.prototype.setTarget=function(t){this.targetPos=t},e.prototype.setStart=function(t){this.startPos=t},e.prototype.settup_full_pack=function(t,e,o){void 0===o&&(o=!0),this.setTarget(e),this.setStart(t),o&&this.flyingCoins()},e._instance=null,r([l(cc.Node)],e.prototype,"coins",void 0),r([l({type:cc.Enum(a.AudioPlayId)})],e.prototype,"audio",void 0),o=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/AudioPlayId":"AudioPlayId"}],Formatter:[function(t,e,o){"use strict";cc._RF.push(e,"5d9f3i32EdJWKUr6F3ttVqY","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FrameByFrame:[function(t,e,o){"use strict";cc._RF.push(e,"37b91uSOkFFCrubu+v1hcc9","FrameByFrame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.arrayFrames=[],e.dt=.12,e.reverse=!1,e.autoPlay=!0,e.loop=!1,e.time=0,e.anim=null,e.repeatCb=null,e.animDefault="default",e}return i(e,t),e.prototype.onLoad=function(){if(this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.sprite)){var t=this.arrayFrames.length,e=Math.round(1/this.dt);this.time=t/e,this.reverse&&this.arrayFrames.reverse();var o=cc.AnimationClip.createWithSpriteFrames(this.arrayFrames,e);this.anim=this.sprite.node.addComponent(cc.Animation),this.anim.addClip(o,this.animDefault)}else cc.error("SpriteFrameBF: Please add Sprite Component")},e.prototype.onEnable=function(){this.autoPlay&&this.play()},e.prototype.onDisable=function(){this.stop()},e.prototype.play=function(t,e){var o=this;void 0===t&&(t=this.loop),void 0===e&&(e=1),this.anim&&(this.anim.stop(),this.anim.play(this.animDefault,0),e--,(t||e>0)&&(this.repeatCb=function(){o.play(t,e)},this.scheduleOnce(this.repeatCb,this.time)))},e.prototype.stop=function(){this.anim&&(this.anim.stop(),this.unschedule(this.repeatCb))},r([s(cc.Sprite)],e.prototype,"sprite",void 0),r([s([cc.SpriteFrame])],e.prototype,"arrayFrames",void 0),r([s(cc.Float)],e.prototype,"dt",void 0),r([s(cc.Boolean)],e.prototype,"reverse",void 0),r([s(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s(cc.Boolean)],e.prototype,"loop",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FxManager:[function(t,e,o){"use strict";cc._RF.push(e,"29f083hj9tP/5ZJ/azXFJMY","FxManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FxManager=void 0;var a=t("../../TS/Helper/Global"),c=t("../../config/GlobalSignals"),s=t("../../config/TagObject"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fx=null,e._is_parti_3d=!1,e._duration=0,e.pool_size=0,e.object_type=s.TagConfig.NONE,e._spawn_event=null,e._current_i=0,e._fx_pool=[],e}return i(e,t),Object.defineProperty(e.prototype,"fx",{get:function(){return this._fx},set:function(t){var e=null!=a.PTS.prefab.find_component(t,cc.ParticleSystem)?a.PTS.prefab.find_component(t,cc.ParticleSystem):a.PTS.prefab.find_component(t,cc.ParticleSystem3D);if(e)return this._fx=t,void(this._duration=e.duration)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.lazy_spawn()},e.prototype.onEnable=function(){this._spawn_event=this.do_spawn_fx.bind(this),c.GlobalSignals.spawnFxEvent.add(this._spawn_event)},e.prototype.onDisable=function(){c.GlobalSignals.spawnFxEvent.remove(this._spawn_event)},e.prototype.lazy_spawn=function(){for(var t=0;t<this.pool_size;t++){var e=cc.instantiate(this._fx);this.node.addChild(e),this._fx_pool[t]=e,e.active=!1,this._is_parti_3d?a.PTS.component.get_component_in_child(e,cc.ParticleSystem3D).stop():a.PTS.component.get_component_in_child(e,cc.ParticleSystem).stopSystem()}},e.prototype.do_spawn_fx=function(t,e){if(null!=t&&null!=e&&e==this.object_type){if(this._current_i>=this.pool_size&&(this._current_i=0),this.play_parti(this._fx_pool[this._current_i])){var o=a.PTS.node.get_local_position(this.node,t);this._fx_pool[this._current_i].setPosition(o),this._fx_pool[this._current_i].active=!0}this._current_i,this._current_i++}},e.prototype.play_parti=function(t){if(null!=t){if(this._is_parti_3d){if(!(e=a.PTS.component.get_component_in_child(t,cc.ParticleSystem3D))._isPlaying)return e.play(),!0}else{var e;if(null==(e=a.PTS.component.get_component_in_child(t,cc.ParticleSystem)))return;if(e.stopped)return e.resetSystem(),!0}return!1}},r([u(cc.Prefab)],e.prototype,"_fx",void 0),r([u({type:cc.Prefab})],e.prototype,"fx",null),r([u()],e.prototype,"_is_parti_3d",void 0),r([u()],e.prototype,"_duration",void 0),r([u({type:cc.Integer,min:0})],e.prototype,"pool_size",void 0),r([u({type:cc.Enum(s.TagConfig)})],e.prototype,"object_type",void 0),r([p],e)}(cc.Component);o.FxManager=f,cc._RF.pop()},{"../../TS/Helper/Global":"Global","../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject"}],FxUpgrade:[function(t,e,o){"use strict";cc._RF.push(e,"035a8FuXwpEGIn+ybGWvG61","FxUpgrade");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delaySparkle=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.delaySparkle.active=!0},.7)},r([s(cc.Node)],e.prototype,"delaySparkle",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GOCollider:[function(t,e,o){"use strict";cc._RF.push(e,"55c45cEVetMxKUkQwxAXrJq","GOCollider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GOCollider=void 0;var a,c=t("./ObjectGO"),s=t("./TargetGO"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu;(function(t){t[t.COMPLETER=0]="COMPLETER",t[t.OUT_SIDER=1]="OUT_SIDER"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.COMPLETER,e.do_destroy_ogo=!0,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=t.getComponent(c.ObjectGO);if(e)if(this.type===a.OUT_SIDER)e.do_outside(this.node);else{if(e instanceof s.TargetGO)return;e.do_complete(this.do_destroy_ogo)}},r([u({type:cc.Enum(a)})],e.prototype,"type",void 0),r([u({visible:function(){return this.type===a.COMPLETER}})],e.prototype,"do_destroy_ogo",void 0),r([p,f("Object/Collider")],e)}(cc.Component);o.GOCollider=d,cc._RF.pop()},{"./ObjectGO":"ObjectGO","./TargetGO":"TargetGO"}],GUIUtil:[function(t,e,o){"use strict";cc._RF.push(e,"96d7dsVwBhBvojHmMxxWpVf","GUIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.addClickListener=function(t,e,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=e,r.component=o,r.handler=n,r.customEventData=i,t.getComponent(cc.Button).clickEvents.push(r)},t.addToggleListener=function(t,e,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=e,r.component=o,r.handler=n,r.customEventData=i,t.getComponent(cc.Toggle).clickEvents.push(r)},t.getDistancePoints=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getImgBase64=function(){var t=new cc.Node;t.x=cc.visibleRect.width/2,t.y=cc.visibleRect.height/2,t.parent=cc.director.getScene();var e=t.addComponent(cc.Camera);e.backgroundColor=cc.Color.TRANSPARENT,e.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,e.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),e.targetTexture=o,e.render();var i=o.readPixels(),r=document.createElement("canvas"),a=r.getContext("2d"),c=r.width=o.width,s=r.height=o.height;r.width=o.width,r.height=o.height;for(var l=4*c,p=0;p<s;p++){for(var u=s-1-p,f=a.createImageData(c,1),d=u*c*4,h=0;h<l;h++)f.data[h]=i[d+h];a.putImageData(f,0,p)}return r.toDataURL("image/jpeg")},t}();o.default=n,cc._RF.pop()},{}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"ea29aooc1FGnJ0IG5Bu1aAz","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function t(){}return t.skin_temp="__Temp__",t.boss_skin_default="Clothes0",t.boss_hat_default="Hat0",t.boss_shoe_default="Shoes0",t.boss_scarf_default="",t.boss_ear_default="",t.boss_glove_default="",t.pin_skin_default="SkinShop_Pin0",t.daughter_skin_default="Base",t.daughter_hat_default="",t.daughter_shoe_default="",t.daughter_scarf_default="",t.daughter_ear_default="",t.daughter_glove_default="",t.coin_default=0,t.coin_level_up=100,t.coin_level_bonus=500,t.coin_watch_skin=1e3,t.daily_bonus_scaler=5,t.spine_mixin_timer=.33,t.pin_bonus_spr_dir="sprites/main/barrie/Pin Blue",t.pin_skin_root_dir="PinDetective/SkinShop/pins/",t.pin_skin_default_dir="sprites/main/barrie/home_pin_stickbarrie",t}();o.GameConfig=n,cc._RF.pop()},{}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"25501QmpYxCcZCkmxSR9tuZ","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=t("./base/LocalStorageManager"),i=t("./plugins/fb/FBInstantData"),r=t("./config/GlobalSignals"),a=t("./config/RoomConfig"),c=t("./config/GameConfig"),s=t("./config/LevelConfig"),l=t("./config/ItemLevelSkin"),p=t("./config/PuzzlesConfig"),u=t("./ResUtil"),f=t("./SubGameData/PDTaskGameData"),d=function(){function t(){}return Object.defineProperty(t,"KEY_BOSS_CURRENT_SKIN",{get:function(){return t.getKeyCurrentMainSkin("clothes")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_BOSS_SKINS",{get:function(){return t.getKeyMainSkins("clothes")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_BOSS_CURRENT_HAT",{get:function(){return t.getKeyCurrentMainSkin("hats")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_BOSS_HATS",{get:function(){return t.getKeyMainSkins("hats")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_BOSS_CURRENT_SHOE",{get:function(){return t.getKeyCurrentMainSkin("shoes")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_BOSS_SHOES",{get:function(){return t.getKeyMainSkins("shoes")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_CURRENT_PIN_SKIN",{get:function(){return t.getKeyCurrentMainSkin("pins")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"KEY_PIN_SKINS",{get:function(){return t.getKeyMainSkins("pins")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"myBossSkins",{get:function(){return t.getMainSkins("clothes")},set:function(e){t.setMainSkins("clothes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentSkinBoss",{get:function(){return t.getCurrentMainSkin("clothes")||c.GameConfig.boss_skin_default},set:function(e){t.setCurrentMainSkin("clothes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"myBossHats",{get:function(){return t.getMainSkins("hats")},set:function(e){t.setMainSkins("hats",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentHatBoss",{get:function(){return t.getCurrentMainSkin("hats")||c.GameConfig.boss_hat_default},set:function(e){t.setCurrentMainSkin("hats",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"myBossShoes",{get:function(){return t.getMainSkins("shoes")},set:function(e){t.setMainSkins("shoes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentShoeBoss",{get:function(){return t.getCurrentMainSkin("shoes")||c.GameConfig.boss_skin_default},set:function(e){t.setCurrentMainSkin("shoes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"myPinSkins",{get:function(){return t.getMainSkins("pins")},set:function(e){t.setMainSkins("pins",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentPinSkin",{get:function(){return t.getCurrentMainSkin("pins")||c.GameConfig.pin_skin_default},set:function(e){t.setCurrentMainSkin("pins",e)},enumerable:!1,configurable:!0}),t.getKeyCurrentMainSkin=function(t){return"pd_main_current_"+t},t.getKeyMainSkins=function(t){return"pd_main_"+t},t.getCurrentMainSkin=function(e){return t[t.getKeyCurrentMainSkin(e)]},t.setCurrentMainSkin=function(e,o){if(o){var n=t.getKeyCurrentMainSkin(e),r="object"==typeof o?o.skin:o;t[n]!=r&&(t[n]=r,i.FBInstantData.setValue(n,t[n]))}},t.getMainSkins=function(e){return t[t.getKeyMainSkins(e)]},t.setMainSkins=function(e,o){var n=t.getKeyMainSkins(e);t[n]=o,i.FBInstantData.setValue(n,o)},t.getMainClotheSkins=function(){return t.getMainSkins("clothes")},t.getMainHatSkins=function(){return t.getMainSkins("hats")},t.getPinSkins=function(){return t.getMainSkins("pins")},t.getMainShoes=function(){return t.getMainSkins("shoes")},t.initPlayerData=function(e){var o=this;cc.log("initPlayerData");var r=n.LocalStorageManager.getItem(t.KEY_DATA);if(r){cc.log("init Data from Local");var a=JSON.parse(r);return this.setPlayerData(a),n.LocalStorageManager.removeItem(t.KEY_DATA),i.FBInstantData.setData(a),void(e&&e())}i.FBInstantData.getData([t.KEY_LEVEL,t.KEY_LEVEL_REAL,t.KEY_CURRENT_LEVEL_PUZZLE,t.KEY_LEVEL_NORMAL,t.KEY_ROOM,t.KEY_ITEMS,t.KEY_CURRENT_ITEM,t.KEY_COIN,t.KEY_BOSS_CURRENT_SKIN,t.KEY_BOSS_SKINS,t.KEY_BOSS_CURRENT_HAT,t.KEY_BOSS_HATS,t.KEY_BOSS_CURRENT_SHOE,t.KEY_BOSS_SHOES,t.KEY_BOSS_CURRENT_SCARF,t.KEY_BOSS_CURRENT_GLOVES,t.KEY_BOSS_CURRENT_EAR,t.KEY_DAUGHTER_CURRENT_SKIN,t.KEY_DAUGHTER_SKINS,t.KEY_DAUGHTER_CURRENT_HAT,t.KEY_DAUGHTER_HATS,t.KEY_DAUGHTER_CURRENT_SHOE,t.KEY_DAUGHTER_CURRENT_SCARF,t.KEY_DAUGHTER_CURRENT_GLOVES,t.KEY_DAUGHTER_CURRENT_EAR,t.KEY_DAUGHTER_SHOES,t.KEY_CURRENT_PIN_SKIN,t.KEY_PIN_SKINS,t.KEY_SHOW_INTRO_4,t.KEY_DAILY,t.KEY_RECEIVED_DAILY,t.SAVEDAY,t.KEY_IS_RECEIVED,t.KEY_SHOW_INTRO],function(t){o.setPlayerData(t),e&&e()},function(){o.setPlayerData({}),e&&e()})},t.setPlayerData=function(e){this.currentLevelId=this.getValue(e,t.KEY_LEVEL,0),this.currentRoomId=this.getValue(e,t.KEY_ROOM,0),this.currentLevelPuzzle=this.getValue(e,t.KEY_CURRENT_LEVEL_PUZZLE,Math.floor(Math.random()*s.LevelConfig.levelsPuzzle.length)),this.previousLevelPuzzle=this.currentLevelPuzzle,this.currentLevelNormal=this.getValue(e,t.KEY_LEVEL_NORMAL,0),this.currentItem=this.getValue(e,t.KEY_CURRENT_ITEM,Math.floor(8*Math.random())),this.tempArr[this.currentItem]={puzzles:[],upgrade:1},this.arrayItem=this.getValue(e,t.KEY_ITEMS,this.tempArr),this.playerCoin=this.getValue(e,t.KEY_COIN,0),this.showIntro=this.getValue(e,t.KEY_SHOW_INTRO,!1),this.showIntroLevel4=this.getValue(e,t.KEY_SHOW_INTRO_4,!1),this.currentSkinBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SKIN,c.GameConfig.boss_skin_default),this.myBossSkins=this.getValue(e,t.KEY_BOSS_SKINS,["0"]),this.currentHatBoss=this.getValue(e,t.KEY_BOSS_CURRENT_HAT,c.GameConfig.boss_hat_default),this.myBossHats=this.getValue(e,t.KEY_BOSS_HATS,["0"]),this.currentShoeBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SHOE,c.GameConfig.boss_shoe_default),this.myBossShoes=this.getValue(e,t.KEY_BOSS_SHOES,["0"]),this.currentScarfBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SCARF,c.GameConfig.boss_scarf_default),this.currentGloveBoss=this.getValue(e,t.KEY_BOSS_CURRENT_GLOVES,c.GameConfig.boss_glove_default),this.currentEarBoss=this.getValue(e,t.KEY_BOSS_CURRENT_EAR,c.GameConfig.boss_ear_default),this.currentSkinDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SKIN,c.GameConfig.daughter_skin_default),this.myDaughterSkins=this.getValue(e,t.KEY_DAUGHTER_SKINS,[]),this.currentHatDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_HAT,c.GameConfig.daughter_hat_default),this.myDaughterHats=this.getValue(e,t.KEY_DAUGHTER_HATS,[]),this.currentShoeDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SHOE,c.GameConfig.daughter_shoe_default),this.currentScarfDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_SCARF,c.GameConfig.daughter_scarf_default),this.currentGloveDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_GLOVES,c.GameConfig.daughter_glove_default),this.currentEarDaughter=this.getValue(e,t.KEY_DAUGHTER_CURRENT_EAR,c.GameConfig.daughter_ear_default),this.myDaughterShoes=this.getValue(e,t.KEY_DAUGHTER_SHOES,[]),this.currentPinSkin=this.getValue(e,t.KEY_CURRENT_PIN_SKIN,c.GameConfig.pin_skin_default),this.myPinSkins=this.getValue(e,t.KEY_PIN_SKINS,["0"]),this.currentDaily=this.getValue(e,t.KEY_DAILY,0),this.receivedDaily=this.getValue(e,t.KEY_RECEIVED_DAILY,0),this.isReceivedDaily=this.getValue(e,t.KEY_IS_RECEIVED,!1),this.setCurrentDay(e),n.LocalStorageManager.setItem("EffectEnable",!0),n.LocalStorageManager.setItem("MusicEnable",!0),this.currentLevelReal=this.getValue(e,t.KEY_LEVEL_REAL,this.currentLevelId);var o=this.getValue(e,t.KEY_LEVEL_SIZE,100);if(this.currentLevelReal>o&&(this.currentLevelReal=o),o<s.LevelConfig.levels.length){var r={};r[t.KEY_LEVEL_SIZE]=s.LevelConfig.realLevelSize,i.FBInstantData.setData(r)}},t.saveLevelUp=function(){this.currentLevelId++,this.currentLevelReal++;var e={};e[t.KEY_LEVEL]=this.currentLevelId,e[t.KEY_LEVEL_REAL]=this.currentLevelReal,i.FBInstantData.setData(e)},t.saveLevelNormal=function(){this.currentLevelNormal++;var e={};e[t.KEY_LEVEL_NORMAL]=this.currentLevelNormal,i.FBInstantData.setData(e)},t.saveCoin=function(e,o){this.playerCoin=e,o&&r.GlobalSignals.coinUpdateSignal.dispatch();var n={};n[t.KEY_COIN]=e,i.FBInstantData.setData(n)},t.saveShowIntro=function(){this.showIntro=!0;var e={};e[t.KEY_SHOW_INTRO]=!0,i.FBInstantData.setData(e)},t.saveShowIntro4=function(){var e={};this.showIntroLevel4=!0,e[t.KEY_SHOW_INTRO_4]=!0,i.FBInstantData.setData(e)},t.addCoin=function(t,e){void 0===e&&(e=!0),this.saveCoin(this.playerCoin+t,e)},t.addRoomItem=function(e){var o=this.currentItem,n=[];if((n=this.arrayItem[o].puzzles).push(e),p.PuzzlesConfig.checkDone(n)){var r=u.ResUtil.convertArr(this.arrayItem);if((o=u.ResUtil.getRandomLeftArr(r,9))||0==o){this.arrayItem[o]={puzzles:[],upgrade:1};var c={};c[t.KEY_ITEMS]=this.arrayItem,i.FBInstantData.setData(c)}!this.checkCompleteRoom(this.arrayItem)&&this.currentRoomId<a.RoomConfig.rooms.length&&this.setCurrentItem(o,function(){})}else this.setCurrentItem(o,function(){})},t.setSkinBoss=function(e,o){if(this.currentSkinBoss!==e){this.currentSkinBoss=e;var n={};n[t.KEY_BOSS_CURRENT_SKIN]=this.currentSkinBoss,i.FBInstantData.setData(n,o)}},t.setHatBoss=function(e,o){if(this.currentHatBoss!==e){this.currentHatBoss=e;var n={};n[t.KEY_BOSS_CURRENT_HAT]=this.currentHatBoss,i.FBInstantData.setData(n,o)}},t.setShoeBoss=function(e,o){if(this.currentShoeBoss!==e){this.currentShoeBoss=e;var n={};n[t.KEY_BOSS_CURRENT_SHOE]=this.currentShoeBoss,i.FBInstantData.setData(n,o)}},t.setSkinDaughter=function(e,o){if(this.currentSkinDaughter!==e){this.currentSkinDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_SKIN]=this.currentSkinDaughter,i.FBInstantData.setData(n,o)}},t.setHatDaughter=function(e,o){if(this.currentHatDaughter!==e){this.currentHatDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_HAT]=this.currentHatDaughter,i.FBInstantData.setData(n,o)}},t.setShoeDaughter=function(e,o){if(this.currentShoeDaughter!==e){this.currentShoeDaughter=e;var n={};n[t.KEY_DAUGHTER_CURRENT_SHOE]=this.currentShoeDaughter,i.FBInstantData.setData(n,o)}},t.addSkinMain=function(e,o,n){var r=t.getKeyMainSkins(e),a=i.FBInstantData.getValue(r);a||(a=[]);var c="string"==typeof o?o:o.id.toString();a.push(c),t.getMainSkins(e).push(c),i.FBInstantData.setValue(r,a,n)},t.addSkinBoss=function(t,e,o){if(-1==t.array.indexOf(e)){switch(t.array.push(e),t.key){case this.KEY_BOSS_HATS:this.myBossHats=t.array;break;case this.KEY_BOSS_SKINS:this.myBossSkins=t.array;break;case this.KEY_BOSS_SHOES:this.myBossShoes=t.array;break;case this.KEY_DAUGHTER_HATS:this.myDaughterHats=t.array;break;case this.KEY_DAUGHTER_SKINS:this.myDaughterSkins=t.array;break;case this.KEY_DAUGHTER_SHOES:this.myDaughterShoes=t.array;break;case this.KEY_PIN_SKINS:this.myPinSkins=t.array}var n={};n[t.key]=t.array,i.FBInstantData.setData(n,o)}else cc.log("myBossSkins already contains this skinId")},t.addPinSkin=function(e,o,n){if(-1==e.array.indexOf(o)){e.array.push(o),this.myPinSkins=e.array;var r={};r[t.KEY_PIN_SKINS]=e.array,i.FBInstantData.setData(r,n)}else cc.log("myPinSkin already contains this skinId")},t.setCurrentPin=function(e,o){this.currentPinSkin=e;var n={};n[t.KEY_CURRENT_PIN_SKIN]=this.currentPinSkin,i.FBInstantData.setData(n,o)},t.addSkinBossOther=function(e){var o={};switch(e){case t.KEY_BOSS_CURRENT_SCARF:o[e]=this.currentScarfBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.SCARF);break;case t.KEY_BOSS_CURRENT_GLOVES:o[e]=this.currentGloveBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.GLOVES);break;case t.KEY_BOSS_CURRENT_EAR:o[e]=this.currentEarBoss=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.EAR);break;case t.KEY_DAUGHTER_CURRENT_SCARF:o[e]=this.currentScarfDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.SCARF);break;case t.KEY_DAUGHTER_CURRENT_GLOVES:o[e]=this.currentGloveDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.GLOVES);break;case t.KEY_DAUGHTER_CURRENT_EAR:o[e]=this.currentEarDaughter=l.ItemSkinLevel.getSkinName(l.ItemLevelSkin.EAR)}i.FBInstantData.setData(o)},t.setCurrentItem=function(e,o){this.currentItem=e;var n={};n[t.KEY_CURRENT_ITEM]=this.currentItem,i.FBInstantData.setData(n,o)},t.setCurrentLevelPuzzle=function(){var e=Math.floor(Math.random()*s.LevelConfig.levelsPuzzle.length);this.currentLevelPuzzle=e;var o={};o[t.KEY_CURRENT_LEVEL_PUZZLE]=e,i.FBInstantData.setData(o,null)},t.setUpgadeDecor=function(e,o,n){this.arrayItem[e].upgrade=o;var r={};r[t.KEY_ITEMS]=this.arrayItem,i.FBInstantData.setData(r,n)},t.setCurrentRoom=function(e,o){this.currentRoomId=e;var n={};n[t.KEY_ROOM]=this.currentRoomId,i.FBInstantData.setData(n,o)},t.clearData=function(){var e={};e[t.KEY_LEVEL]=0,e[t.KEY_ROOM]=0,e[t.KEY_ITEMS]=[],e[t.KEY_COIN]=0,i.FBInstantData.setData(e),n.LocalStorageManager.removeItem(t.KEY_DATA)},t.checkItemCollected=function(e){var o=e.itemConfig;return o.roomId-1<t.currentRoomId||o.roomId-1===t.currentRoomId&&-1!=t.arrayItem.indexOf(o.itemId)},Object.defineProperty(t,"isCreatShortcut",{get:function(){var e=n.LocalStorageManager.getItem(t.KEY_SHORTCUT);return!!e&&"true"===e},set:function(e){n.LocalStorageManager.setItem(t.KEY_SHORTCUT,e?"true":"false")},enumerable:!1,configurable:!0}),t.getValue=function(t,e,o){return""===t[e]||null===t[e]||void 0===t[e]?o:t[e]},t.saveReceivedDaily=function(){this.receivedDaily+=1;var e={};e[t.KEY_RECEIVED_DAILY]=this.receivedDaily,i.FBInstantData.setData(e)},t.saveDAY=function(e){var o={};o[t.KEY_DAILY]=e,i.FBInstantData.setData(o)},t.checkCompleteRoom=function(t){for(var e=0,o=0;o<t.length;o++)t[o]&&4==t[o].puzzles.length&&e++;return e==a.RoomConfig.rooms[this.currentRoomId].size},t.setCurrentDay=function(e){this.saveDay=this.getValue(e,t.SAVEDAY,null),this.saveDay&&(Date.now(),Date.now()-this.saveDay>=864e5&&1==this.isReceivedDaily&&(this.setReceivedDaily(!1),this.saveReceivedDaily()))},t.setReceivedDaily=function(e){var o={};this.isReceivedDaily=e,o[t.KEY_IS_RECEIVED]=this.isReceivedDaily,i.FBInstantData.setData(o)},Object.defineProperty(t,"pd_task",{get:function(){return cc.instance(f.PDTaskGameData)},enumerable:!1,configurable:!0}),t.casted_intro=!1,t.KEY_DATA="pd_data",t.KEY_SHORTCUT="pd_shortcut",t.KEY_LEVEL="pd_level",t.KEY_LEVEL_REAL="pd_level_real",t.KEY_LEVEL_SIZE="pd_level_size",t.KEY_LEVEL_NORMAL="pd_level_normal",t.KEY_CURRENT_LEVEL_PUZZLE="pd_level_puzzle",t.KEY_ROOM="pd_room",t.KEY_ITEMS="pd_items",t.KEY_CURRENT_ITEM="pd_currentDecor",t.KEY_COIN="pd_coin",t.KEY_BOSS_CURRENT_SCARF="hp_boss_current_SCARF",t.KEY_BOSS_CURRENT_EAR="hp_boss_current_EAR",t.KEY_BOSS_CURRENT_GLOVES="hp_boss_current_GLOVES",t.KEY_DAUGHTER_CURRENT_SKIN="hp_daughter_current_skin",t.KEY_DAUGHTER_SKINS="hp_daughter_skins",t.KEY_DAUGHTER_CURRENT_HAT="hp_daughter_current_hat",t.KEY_DAUGHTER_HATS="hp_daughter_hats",t.KEY_DAUGHTER_CURRENT_SHOE="hp_daughter_current_shoe",t.KEY_DAUGHTER_SHOES="hp_daughter_shoes",t.KEY_DAUGHTER_CURRENT_SCARF="hp_daughter_current_SCARF",t.KEY_DAUGHTER_CURRENT_EAR="hp_daughter_current_EAR",t.KEY_DAUGHTER_CURRENT_GLOVES="hp_daughter_current_GLOVES",t.KEY_SHOW_INTRO="Intro",t.KEY_SHOW_INTRO_4="Intro4",t.KEY_DAILY="pd_daily_reward",t.KEY_RECEIVED_DAILY="pd_received_daily",t.SAVEDAY="pd_daily_reward",t.KEY_IS_RECEIVED="pd_is_reward_daily",t.currentLevelReal=0,t.currentLevelId=0,t.currentRoomId=0,t.currentItem=0,t.currentLevelPuzzle=0,t.currentLevelNormal=0,t.previousLevelPuzzle=0,t.showIntro=!1,t.showIntroLevel4=!1,t.currentScarfBoss=c.GameConfig.boss_scarf_default,t.currentGloveBoss=c.GameConfig.boss_glove_default,t.currentEarBoss=c.GameConfig.boss_ear_default,t.myDaughterSkins=[],t.currentSkinDaughter=c.GameConfig.daughter_skin_default,t.myDaughterHats=[],t.currentHatDaughter=c.GameConfig.daughter_hat_default,t.myDaughterShoes=[],t.currentShoeDaughter=c.GameConfig.daughter_shoe_default,t.currentScarfDaughter=c.GameConfig.daughter_scarf_default,t.currentGloveDaughter=c.GameConfig.daughter_glove_default,t.currentEarDaughter=c.GameConfig.daughter_ear_default,t.arrayItem=[],t.tempArr=[],t.playerCoin=0,t.currentCoin=0,t.coinStickBonus=0,t.currentDaily=0,t.receivedDaily=0,t.saveDay=0,t.isReceivedDaily=!1,t.CURRENT_VERSION_CODE=2,t.DELTA_TIME=1/60,t.doneRoom0=!1,t.isInitData=!1,t}();o.GameData=d,d[d.getKeyMainSkins("clothes")]=[],d[d.getKeyMainSkins("pins")]=[],d[d.getKeyMainSkins("hats")]=[],d[d.getKeyMainSkins("shoes")]=[],cc._RF.pop()},{"./ResUtil":"ResUtil","./SubGameData/PDTaskGameData":"PDTaskGameData","./base/LocalStorageManager":"LocalStorageManager","./config/GameConfig":"GameConfig","./config/GlobalSignals":"GlobalSignals","./config/ItemLevelSkin":"ItemLevelSkin","./config/LevelConfig":"LevelConfig","./config/PuzzlesConfig":"PuzzlesConfig","./config/RoomConfig":"RoomConfig","./plugins/fb/FBInstantData":"FBInstantData"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"dacfbcWrcNM+o3V07171I9u","GameState"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0,function(t){t[t.BEGIN=0]="BEGIN",t[t.PLAYING=1]="PLAYING",t[t.WIN=2]="WIN",t[t.LOSE=3]="LOSE"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],GasGO:[function(t,e,o){"use strict";cc._RF.push(e,"588442xVPdBnYyvqUV0nR/N","GasGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.force=6e3,e.timeFly=0,e}return i(e,t),e.prototype.start=function(){this.timeFly=2*Math.random()},e.prototype.update=function(t){if(this.timeFly-=t,this.timeFly<=0){var e=this.force*(2*Math.random()-1),o=this.force*(2*Math.random()-1);this.body.applyForceToCenter(cc.v2(e,o),!0),this.timeFly=1}},r([s(cc.RigidBody)],e.prototype,"body",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GemsGO:[function(t,e,o){"use strict";cc._RF.push(e,"49758X5lA1HN6r8+iXJWmeX","GemsGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Vec3,c=t("../../level/MapLevel"),s=t("../../config/AudioPlayId"),l=t("../../config/GroupConfig"),p=t("../../MainScene"),u=t("../../config/PhysicsConfig"),f=t("../../config/TagObject"),d=cc._decorator,h=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"gems")},e.prototype.start=function(){o.transformCount=0,o.colliderBarrieCount=0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t,e){if(this.available){if(t.node.group===l.GroupConfig.LAVA)return this.available=!1,c.default.instance.countGemsDestroyed++,this.startTransform(),void this.node.destroy();if(t.node.group!==l.GroupConfig.COLLIDER){if(t.node.group===l.GroupConfig.BERRIE||t.node.group===l.GroupConfig.ROCK)return o.colliderBarrieCount++,6===o.colliderBarrieCount&&(p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_gems),this.scheduleOnce(function(){o.colliderBarrieCount=0},.2)),void(e.node.name==f.TagConfig.CANDY&&2===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},.2));t.node.group,l.GroupConfig.WALL}else if(t.node.name==f.TagConfig.BOMB){var n=t.node.getComponent(f.default).tag2;if(n==f.TagConfig.GROUND){var i=cc.v2(this.node.position.x,this.node.position.y);return i=cc.v2(1e5*i.x,1e5*i.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(i,!0)}if(n==f.TagConfig.NONE)return c.default.instance.countGemsDestroyForBomb++,void(this.node.active=!1)}}},e.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&c.default.instance.isPlaying},e.prototype.updatePositionToTarget=function(){if(this.node.getParent()){var t=this.node.getParent().convertToNodeSpaceAR(this.target.getParent().convertToWorldSpaceAR(this.target.position)),e=new a(t.x,t.y+20,0),o=this.node.position;Math.abs(o.x-e.x)<10&&Math.abs(o.y-e.y)<10?this.node.destroy():this.node.position=o.lerp(e,.1)}},e.prototype.moveToTarget=function(t,e){var o=this;this.scheduleOnce(function(){c.default.instance.isCollectGems&&(o.target=t,o.node.removeComponent(cc.RigidBody),o.node.removeComponent(cc.PhysicsCollider),o.schedule(o.updatePositionToTarget.bind(o)))},e)},e.transformCount=0,e.colliderBarrieCount=0,o=r([h],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],GemsPool:[function(t,e,o){"use strict";cc._RF.push(e,"420batOFCJMka+Gx/ETcTXT","GemsPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GlobalSignals"),c=t("./GemsGO"),s=t("../character/Mom/Mom"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this._collectByBoss=this.collectByBoss.bind(this),a.GlobalSignals.collectGemsSignal.add(this._collectByBoss)},e.prototype.onDisable=function(){a.GlobalSignals.collectGemsSignal.remove(this._collectByBoss)},e.prototype.collectByBoss=function(){cc.log("collectByBoss");var t=s.default.instance.node;this.node.children.forEach(function(e,o){e.getComponent(c.default).moveToTarget(t,.25+.02*o)})},r([p],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../character/Mom/Mom":"Mom","./GemsGO":"GemsGO"}],GlanceWindow:[function(t,e){"use strict";cc._RF.push(e,"01e9eEJC4JByqq905l4dyOL","GlanceWindow"),window.setWindowTopMargin=function(t){var e=document.getElementById("GameCanvas");e&&(e.style.top=t+"px",e.style.position="relative",window.topMargin=t)},window.setWindowTopMargin(50),cc.Event.EventMouse.prototype.getLjcation=function(){var t=window.topMargin;return t?cc.v2(this._x,this._y+t):cc.v2(this._x,this._y)},cc._RF.pop()},{}],GlobalEnum:[function(t,e,o){"use strict";cc._RF.push(e,"6bb2be/86FJzIMWFThHwL23","GlobalEnum"),Object.defineProperty(o,"__esModule",{value:!0}),o.ECharacterDieReason=o.ECharacterState=o.LevelGameState=o.LANG=o.OExecuteMode=o.OByTo=void 0,function(t){t[t.BY=0]="BY",t[t.TO=1]="TO"}(o.OByTo||(o.OByTo={})),function(t){t[t.OFF=0]="OFF",t[t.ON_LOAD=1]="ON_LOAD",t[t.ON_ENABLE=2]="ON_ENABLE",t[t.START=3]="START"}(o.OExecuteMode||(o.OExecuteMode={})),function(t){t[t.EN=0]="EN",t[t.JA=1]="JA",t[t.ID=2]="ID",t[t.DE=3]="DE"}(o.LANG||(o.LANG={})),function(t){t[t.PLAYING=0]="PLAYING",t[t.LOSE=1]="LOSE",t[t.WIN=2]="WIN"}(o.LevelGameState||(o.LevelGameState={})),function(t){t[t.NONE=0]="NONE",t[t.IDLE=1]="IDLE",t[t.WIN=2]="WIN",t[t.LOSE=3]="LOSE",t[t.MOVE=4]="MOVE",t[t.FALLING=5]="FALLING",t[t.ATTACK=6]="ATTACK",t[t.SLIDE=7]="SLIDE",t[t.AFRAID=8]="AFRAID",t[t.COLLECT=9]="COLLECT"}(o.ECharacterState||(o.ECharacterState={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.GAS=1]="GAS",t[t.STUN=2]="STUN",t[t.KILL=3]="KILL",t[t.FIRE=4]="FIRE",t[t.ICE=5]="ICE"}(o.ECharacterDieReason||(o.ECharacterDieReason={})),cc._RF.pop()},{}],GlobalSignals:[function(t,e,o){"use strict";cc._RF.push(e,"d7e33gGPwZO5rCuV5Ept4/A","GlobalSignals"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalSignals=void 0;var n=t("../base/Signal"),i=function(){function t(){}return t.coinUpdateSignal=new n.Signal,t.coinCurrentUpdateSignal=new n.Signal,t.coinCurrentx5Update=new n.Signal,t.collectGemsSignal=new n.Signal,t.autoMoveSignal=new n.Signal,t.questFailSignal=new n.Signal,t.questPassSignal=new n.Signal,t.questPassIntro=new n.Signal,t.playAnimPlayerSignal=new n.Signal,t.castleUpgradeSignal=new n.Signal,t.changeSkinBossSignal=new n.Signal,t.refreshShopSignal=new n.Signal,t.updateDecorButton=new n.Signal,t.successStep=new n.Signal,t.removeStep=new n.Signal,t.updateToggleSound=new n.Signal,t.updateItemLight=new n.Signal,t.startLevel=new n.Signal,t.switchFlashlightEvent=new n.Signal,t.closeTask=new n.Signal,t.closeBoard=new n.Signal,t.spawnFxEvent=new n.Signal,t.stopTogether=new n.Signal,t}();o.GlobalSignals=i,cc._RF.pop()},{"../base/Signal":"Signal"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"3d1d9vBOutAO6Y8BH3Gjpyr","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.PTS=void 0,o.PTS={creator:{}},cc._RF.pop()},{}],GroupConfig:[function(t,e,o){"use strict";cc._RF.push(e,"fa95d9uKKlENZRSJSsK4VfL","GroupConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GroupConfig=void 0;var n=function(){function t(){}return t.DEFAULT="default",t.LAVA="lava",t.BERRIE="berrie",t.GEMS="gems",t.TOUCH="touch",t.CHARACTER="character",t.WATER="water",t.DIRTY="dirty",t.SNOW="snow",t.ROCK="rock",t.ITEM="item",t.COLLIDER="collider",t.SMOKE="smoke",t.COAL="coal",t.DEAD="dead",t.WOOD="wood",t.MATCHBOX="MatchBox",t.BALL="Ball",t.WALL="wall",t.GROUND="ground",t.NULL="only_one",t}();o.GroupConfig=n,cc._RF.pop()},{}],Guide:[function(t,e,o){"use strict";cc._RF.push(e,"59e4eFOo2pOKo0g8Z7snpfq","Guide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../hand/Hand"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handPriorityArr=[],e.stepNumber=1,e.stepNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.activeStep(),a.GlobalSignals.removeStep.add(this.removeStep.bind(this)),a.GlobalSignals.successStep.add(this.successStep.bind(this))},e.prototype.activeStep=function(){if(this.handPriorityArr.length)for(var t=0;t<this.handPriorityArr.length;t++){var e=this.handPriorityArr[t];e.name=(t+1).toString(),0==t?(e.getComponent(c.Hand).setActiveHand(),this.stepNode=e):e.active=!1}},e.prototype.successStep=function(){var t=this.stepNode.getComponent(c.Hand).getActiveStickOnHand();this.stepNode.active=t,this.stepNode.active||(this.removeStep(),this.stepNumber++)},e.prototype.removeStep=function(){this.handPriorityArr.shift(),this.activeStep()},e.prototype.onDisable=function(){a.GlobalSignals.removeStep.remove(this.removeStep.bind(this)),a.GlobalSignals.successStep.remove(this.successStep.bind(this))},r([p([cc.Node])],e.prototype,"handPriorityArr",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../hand/Hand":"Hand"}],Hand:[function(t,e,o){"use strict";cc._RF.push(e,"6a4b81IUr9IupU9KOMqBRPL","Hand");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Hand=void 0;var a=t("../objects/barrier/StickHold"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickHold=null,e}return i(e,t),e.prototype.setActiveHand=function(){this.stickHold&&(this.node.active=this.stickHold.getComponent(a.default)._active)},e.prototype.getActiveStickOnHand=function(){return this.stickHold.getComponent(a.default)._active},r([l(cc.Node)],e.prototype,"stickHold",void 0),r([s],e)}(cc.Component);o.Hand=p,cc._RF.pop()},{"../objects/barrier/StickHold":"StickHold"}],Hasher:[function(t,e,o){"use strict";cc._RF.push(e,"1ce7bQAEo5GwqN1P8O2GU7b","Hasher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var r=function(t){function e(e){var o=t.call(this,Object.assign({blockSize:16},e))||this;return o.reset(),o}return i(e,t),e._createHelper=function(t){return function(e,o){return new t(o).finalize(e)}},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e}(t("../lib/BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=r,cc._RF.pop()},{"../lib/BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],Hex:[function(t,e,o){"use strict";cc._RF.push(e,"c6ade/e3RxN56M3AatxdO1q","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push((n>>>4).toString(16)),e.push((15&n).toString(16))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i+=2)o[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new n.WordArray(o,e/2)},t}();o.Hex=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],HomeScreen:[function(t,e,o){"use strict";cc._RF.push(e,"573e4h+CpRNaq7XKhg4C1Rb","HomeScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MainScene"),c=t("./config/AudioPlayId"),s=t("./GameData"),l=t("./ResUtil"),p=t("./room/MyRoom"),u=t("./base/SetLabelLanguage"),f=t("./base/glance_Global"),d=t("./level/MapLevel"),h=t("./config/GameState"),_=cc._decorator,y=_.ccclass,g=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.roomRoot=null,e.uiRoot=null,e.topUI=null,e.botUI=null,e.blockInput=null,e.btnRoom=null,e.uiMoney=null,e.firstInitStartGame=!0,e.visibleRoomId=-1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onEnable=function(){cc.log("HomeScreen onEnable"),0!==this.roomRoot.childrenCount||s.GameData.doneRoom0||this.loadCurrentRoom(),s.GameData.currentRoomId<1?this.btnRoom.active=!0:this.btnRoom.active=!1,!s.GameData.isReceivedDaily&&d.default.instance&&d.default.instance.gameState!=h.GameState.WIN&&a.default.instance.showDailyPopup()},e.prototype.onDisable=function(){},e.prototype.activeHomeUI=function(){cc.log("activeHomeUI"),this.uiRoot.active=!0,this.levelLabel.string=u.ChangeLanguage.getText("level")+s.GameData.currentLevelId},e.prototype.initOpenItem=function(t,e){var o=this;this.uiRoot.active=!1,this.roomRoot.removeAllChildren(),this.loadCurrentRoom(function(){var n=o.roomRoot.children[0].getComponent(p.default);n&&n.openItem(t,e)})},e.prototype.loadCurrentRoom=function(t){var e=this;void 0===t&&(t=null),this.loadRoom(s.GameData.currentRoomId,function(){t&&t(),e.firstInitStartGame&&(e.firstInitStartGame=!1)})},e.prototype.loadRoom=function(t,e){var o=this;void 0===e&&(e=null),a.default.instance.showLoading(),l.ResUtil.loadRoomById(t,function(n){a.default.instance.hideLoading(),o.roomRoot.childrenCount>0&&o.roomRoot.removeAllChildren();var i=cc.instantiate(n);o.visibleRoomId=t,o.roomRoot.addChild(i),e&&e()})},e.prototype.playGame=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),null!=a.default.instance.loadLevelCallback?(a.default.instance.showLoading(),a.default.instance.loadLevelCallback=function(){a.default.instance.showGamePlayScreen(),a.default.instance.hideLoading()}):a.default.instance.showGamePlayScreen(),f.default.instance.sendEventLevel(s.GameData.currentLevelId),f.default.instance.sendEventReplay(s.GameData.currentLevelId)},e.prototype.onClickSetting=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showSettingPopup()},e.prototype.onClickSelectRoom=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showSelectRoomPopup()},e.prototype.onClickOutfit=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showSkinPopup()},e.prototype.onClickDaily=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showDailyPopup()},e.prototype.onClickTask=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showTaskPopup()},e.prototype.onClickDetectiveBoard=function(){a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),a.default.instance.showDetectiveBoard()},e.prototype.hideUI=function(){this.topUI.y+=200,this.botUI.y-=400,this.roomRoot.children[0].getComponent(p.default).openPopupItems()},e.prototype.showUI=function(){cc.tween(this.topUI).by(.3,{position:cc.v3(0,-200,0)}).start(),cc.tween(this.botUI).by(.3,{position:cc.v3(0,400,0)}).start(),this.roomRoot.children[0].getComponent(p.default).closePopupItems()},e._instance=null,r([g(cc.Label)],e.prototype,"levelLabel",void 0),r([g(cc.Node)],e.prototype,"roomRoot",void 0),r([g(cc.Node)],e.prototype,"uiRoot",void 0),r([g(cc.Node)],e.prototype,"topUI",void 0),r([g(cc.Node)],e.prototype,"botUI",void 0),r([g(cc.Node)],e.prototype,"blockInput",void 0),r([g(cc.Node)],e.prototype,"btnRoom",void 0),r([g(cc.Node)],e.prototype,"uiMoney",void 0),o=r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"./GameData":"GameData","./MainScene":"MainScene","./ResUtil":"ResUtil","./base/SetLabelLanguage":"SetLabelLanguage","./base/glance_Global":"glance_Global","./config/AudioPlayId":"AudioPlayId","./config/GameState":"GameState","./level/MapLevel":"MapLevel","./room/MyRoom":"MyRoom"}],ICharacterCollider:[function(t,e,o){"use strict";cc._RF.push(e,"155836eOTtDl5t03fvj3xTX","ICharacterCollider"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IColliderCallback:[function(t,e,o){"use strict";cc._RF.push(e,"fa0f1UFj5pO357hog00QVpC","IColliderCallback"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IconQuest:[function(t,e,o){"use strict";cc._RF.push(e,"2a68fO1KYZNaruNiQMRMCHc","IconQuest");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IconQuest=void 0;var i=t("../config/QuestType"),r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.questType=i.QuestType.COLLECT_GEMS,this.icon=null}return n([c({type:cc.Enum(i.QuestType)})],t.prototype,"questType",void 0),n([c(cc.SpriteFrame)],t.prototype,"icon",void 0),n([a("IconQuest")],t)}();o.IconQuest=s,cc._RF.pop()},{"../config/QuestType":"QuestType"}],IntroController:[function(t,e,o){"use strict";cc._RF.push(e,"fe878txHCxOPKpXHLg6Es57","IntroController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameData"),c=t("./HomeScreen"),s=t("./MainScene"),l=t("./PlayScreen"),p=t("./ResUtil"),u=t("./config/AudioPlayId"),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mother=null,e.isFinish=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Animation).on("finished",this.onFinishedIntro,this),p.ResUtil.loadRoomById(1)},e.prototype.onDisable=function(){this.node.getComponent(cc.Animation).off("finished",this.onFinishedIntro,this)},e.prototype.PlaySoundIntro=function(){},e.prototype.PlayCoupleScene1=function(){},e.prototype.PlayMotherScene1=function(){},e.prototype.PlayCoupleScene2=function(){},e.prototype.PlayMotherScene2=function(){},e.prototype.onFinishedIntro=function(){this.isFinish||(a.GameData.saveShowIntro(),s.default.instance.onBackgroundMusic(),s.default.instance.showGamePlayScreen(),this.node.destroy())},e.prototype.walkAnim=function(){this.mother.addAnimation(0,"Walk2",!0)},e.prototype.standAnim=function(){var t=this,e=this.mother.findAnimation("Pot_Win3").duration;this.mother.addAnimation(0,"Pot_Win3",!1),this.scheduleOnce(function(){t.mother.addAnimation(0,"Pot_Win4",!1)},e)},e.prototype.loadRoom=function(){var t=this;l.default.instance.gotoHomeScreen(),a.GameData.doneRoom0=!0,this.scheduleOnce(function(){c.default.instance.loadRoom(1,null),t.node.destroy()},.6)},e.prototype.onSoundBackgroundIntro=function(){this.audioBackgroundIntro=s.default.instance.audioPlayer.playAudio(u.AudioPlayId.background_intro,!1,.6)},e.prototype.onSoundOpenIntro=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.sound_open_intro)},e.prototype.onSoundPhantomFly=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.sound_phantom_fly)},e.prototype.onSoundPhantomHoHoHo=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.sound_phantom_hohoho)},e.prototype.onSoundPhantomSay=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.phantom_say)},e.prototype.onSoundPhantomBigSmile=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.phantom_big_smile)},e.prototype.onSoundGrandmaScared=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.grandma_scared)},e.prototype.onSoundGrandmaSay=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.grandma_say)},e.prototype.onSoundGrandmaAhhh=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.grandma_say_ahhh)},e.prototype.onSoundWind=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.sound_wind)},e.prototype.onSoundSmokeBomb=function(){s.default.instance.audioPlayer.playAudio(u.AudioPlayId.sound_smoke_bomb)},r([h(sp.Skeleton)],e.prototype,"mother",void 0),r([h(cc.Boolean)],e.prototype,"isFinish",void 0),r([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./PlayScreen":"PlayScreen","./ResUtil":"ResUtil","./config/AudioPlayId":"AudioPlayId"}],ItemChest:[function(t,e,o){"use strict";cc._RF.push(e,"681e1NSsvhH4pIVVIjWga3a","ItemChest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/GlobalSignals"),s=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.dieAnim="Fire",e.openAnim="Animation",e.gemsPrefab=null,e.firePrefab2=null,e.collider=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"chest")},e.prototype.start=function(){this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1);var e=this.skeleton.findAnimation(this.openAnim).duration;this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){var e=cc.instantiate(t.gemsPrefab);e.position=cc.Vec3.ZERO,t.node.addChild(e)},e)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab2){var t=cc.instantiate(this.firePrefab2);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.destroy()}).start()}else cc.warn("firePrefab is null")},r([f(sp.Skeleton)],e.prototype,"skeleton",void 0),r([f(cc.String)],e.prototype,"dieAnim",void 0),r([f(cc.String)],e.prototype,"openAnim",void 0),r([f(cc.Prefab)],e.prototype,"gemsPrefab",void 0),r([f(cc.Prefab)],e.prototype,"firePrefab2",void 0),r([f(s.default)],e.prototype,"collider",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemLevelSkin:[function(t,e,o){"use strict";var n;cc._RF.push(e,"2c233GpqRtFHaMf7UIzItnq","ItemLevelSkin"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemSkinLevel=o.ItemLevelSkin=void 0,function(t){t[t.NONE=0]="NONE",t[t.HAT=1]="HAT",t[t.SHIRT=2]="SHIRT",t[t.SHOE=3]="SHOE",t[t.EAR=4]="EAR",t[t.SCARF=5]="SCARF",t[t.GLOVES=6]="GLOVES",t[t.OTHER=7]="OTHER",t[t.ITEMHAND=8]="ITEMHAND"}(n=o.ItemLevelSkin||(o.ItemLevelSkin={}));var i=function(){function t(){}return t.getSkinName=function(t){switch(t){case n.HAT:return"Hat_Red";case n.SHIRT:return"Clothes1";case n.SHOE:return"Boots";case n.EAR:return"Chuptai";case n.SCARF:return"Scarf";case n.GLOVES:return"Gloves";case n.ITEMHAND:return"ItemHand"}return""},t}();o.ItemSkinLevel=i,cc._RF.pop()},{}],ItemLevelType:[function(t,e,o){"use strict";cc._RF.push(e,"f0ee2efa2pFcL7q2XTCGemM","ItemLevelType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemLevelType=void 0,function(t){t[t.NONE=0]="NONE",t[t.HAT=1]="HAT",t[t.SHIRT=2]="SHIRT",t[t.SHOE=3]="SHOE",t[t.GLOVE=4]="GLOVE",t[t.OTHER=5]="OTHER"}(o.ItemLevelType||(o.ItemLevelType={})),cc._RF.pop()},{}],ItemLevel:[function(t,e,o){"use strict";cc._RF.push(e,"bfbfbVQx7lJfrq/RpThfojS","ItemLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GlobalSignals"),c=t("../../config/GroupConfig"),s=t("../../config/PhysicsConfig"),l=t("../../config/TagObject"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemDefault=null,e.isDestroy=!1,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.onCollisionEnter=function(t){if(t.node.group===c.GroupConfig.COLLIDER&&t.node.name==l.TagConfig.BOMB){var e=t.node.getComponent(l.default).tag2;if(e==l.TagConfig.GROUND){var o=cc.v2(this.node.position.x,this.node.position.y);return o=cc.v2(1e5*o.x,1e5*o.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(o,!0)}return e==l.TagConfig.NONE?(this.node.removeFromParent(),this.isDestroy=!0,void this.scheduleOnce(function(){a.GlobalSignals.questFailSignal.dispatch()},.3)):void 0}},r([f(cc.Prefab)],e.prototype,"itemDefault",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject"}],ItemLoot:[function(t,e,o){"use strict";cc._RF.push(e,"1fd7e2dGtBKjYNZzFe+WWuR","ItemLoot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemConfig=void 0;var a=t("../../config/GroupConfig"),c=t("../../config/GlobalSignals"),s=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(){function t(){this.skin="",this.roomId=1,this.itemId=1,this.part=1}return r([f(cc.Integer)],t.prototype,"roomId",void 0),r([f(cc.Integer)],t.prototype,"itemId",void 0),r([f(cc.Integer)],t.prototype,"part",void 0),r([u("ItemConfig")],t)}();o.ItemConfig=d;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.dieAnim="Die",e.openAnim="animation",e.collider=null,e.itemConfig=null,e.chestPrefab=null,e.flashPrefab=null,e.firePrefab=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.start=function(){this.itemConfig.skin=this.skeleton.defaultSkin,this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){t.showFlashEffect()},.2)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab){var t=cc.instantiate(this.firePrefab);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.destroy()}).start()}else cc.warn("firePrefab is null")},e.prototype.showFlashEffect=function(){if(this.flashPrefab){var t=cc.instantiate(this.flashPrefab);t.setPosition(0,70),this.node.addChild(t)}else cc.warn("flashPrefab is null")},r([f(cc.Sprite)],e.prototype,"sprite",void 0),r([f(cc.String)],e.prototype,"dieAnim",void 0),r([f(cc.String)],e.prototype,"openAnim",void 0),r([f(s.default)],e.prototype,"collider",void 0),r([f(d)],e.prototype,"itemConfig",void 0),r([f(cc.Prefab)],e.prototype,"chestPrefab",void 0),r([f(cc.Prefab)],e.prototype,"flashPrefab",void 0),r([f(cc.Prefab)],e.prototype,"firePrefab",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemPuzzle:[function(t,e,o){"use strict";cc._RF.push(e,"45ca0Xw5OFLnoclTw0wE2d4","ItemPuzzle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/GlobalSignals"),s=t("../../config/PhysicsConfig"),l=t("../../config/PuzzlesConfig"),p=t("../../GameData"),u=t("../../config/TagObject"),f=t("../../level/MapLevel"),d=t("../../config/GameState"),h=t("../../ResUtil"),_=cc._decorator,y=_.ccclass,g=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.moneyBag=null,e.isAlive=!0,e.puzzles=null,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){this.isAlive&&t.node.group===a.GroupConfig.COLLIDER&&t.node.getComponent(u.default)&&t.node.getComponent(u.default).tag2==u.TagConfig.HIT&&(this.isAlive=!1,f.default.instance.gameState==d.GameState.PLAYING&&c.GlobalSignals.questFailSignal.dispatch(),this.node.destroy())},e.prototype.getPuzzles=function(){var t,e=this;t=h.ResUtil.getRandomLeftArr(p.GameData.arrayItem[p.GameData.currentItem].puzzles,4);var o="/HomePin2/Puzzle/Decor"+p.GameData.currentRoomId+"/"+Object.values(l.PuzzlesConfig.puzzlesArray[p.GameData.currentItem])[t];h.ResUtil.loadSprite(o,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.sprite.spriteFrame=o}),this.puzzles=t},r([g(cc.Sprite)],e.prototype,"sprite",void 0),r([g(cc.Prefab)],e.prototype,"moneyBag",void 0),r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../GameData":"GameData","../../ResUtil":"ResUtil","../../config/GameState":"GameState","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/PuzzlesConfig":"PuzzlesConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],ItemSync:[function(t,e,o){"use strict";cc._RF.push(e,"353fc98Tp9BUrhFDj/jMv2a","ItemSync");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetPos=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){if(this.targetPos){var t=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),e=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.node.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n))}},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],KDF:[function(t,e,o){"use strict";cc._RF.push(e,"843f5Wu4ulP/IdE+I9A+8Y8","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Language:[function(t,e,o){"use strict";cc._RF.push(e,"9736bGfi2dIdqs+pKGU3cJz","Language"),Object.defineProperty(o,"__esModule",{value:!0}),o.TextLanguage=void 0,o.TextLanguage={EN:{play:"Tap to play",level:"LEVEL ",continue:"Tap to continue",replay:"TAP TO REPLAY",skip:"Skip",skipIntro:"Skip >>>",win:"CONGRATULATION",lose:"YOU LOSE",settingTitle:"Setting",on:"On",off:"Off",unlockRoom:"Unlock\n Level 4",dailyReward:"Daily Reward",daily:"Daily",day:"Day ",freecoin:"Free Coin",outfit:"Outfit",puzzleTitle:"PUZZLE",puzzleTip:"Find puzzles. Complete room",puzzleGuide:"Find puzzles.\nComplete room",comingsoon:"COMING SOON",wallpaper:"Wallpaper",picture:"Picture",carpet:"Carpet","dinner table":"Dinner Table",pumpkin:"Pumpkins",heater:"Heater",chair:"Chair",light:"Light",window:"Window",loading:"Loading: ",watchads:"Watch Video",secretPin:"Secret Pin"},JA:{play:"\u59cb\u3081\u308b",level:"\u30ec\u30d9\u30eb ",continue:"\u30bf\u30c3\u30d7\u3057\u3066\u7d9a\u884c\u3057\u307e\u3059",replay:"\u30bf\u30c3\u30d7\u3057\u3066\u518d\u751f",skip:"\u30b9\u30ad\u30c3\u30d7",skipIntro:"\u30b9\u30ad\u30c3\u30d7 >>>",win:"\u52dd\u5229",lose:"\u5931\u6557",settingTitle:"\u8a2d\u5b9a",on:"\u5165",off:"\u5207",unlockRoom:"\u30ec\u30d9\u30eb4",dailyReward:"\u6bce\u65e5\u306e\u5831\u916c",daily:"\u6bce\u65e5",day:"\u65e5\u76ee",freecoin:"\u30d5\u30ea\u30fc\u30b3\u30a4\u30f3",outfit:"\u670d\u88c5",puzzleTitle:"\u30d1\u30ba\u30eb",puzzleTip:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b8c\u5168\u306a\u90e8\u5c4b",puzzleGuide:"\u30d1\u30ba\u30eb\u3092\u898b\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u5b8c\u5168\u306a\u90e8\u5c4b",comingsoon:"\u8fd1\u65e5\u516c\u958b",wallpaper:"\u58c1\u7d19",picture:"\u5199\u771f",carpet:"\u30ab\u30fc\u30da\u30c3\u30c8","dinner table":"\u5915\u98df\u306e\u30c6\u30fc\u30d6\u30eb",pumpkin:"\u30ab\u30dc\u30c1\u30e3",heater:"\u30d2\u30fc\u30bf",chair:"\u6905\u5b50",light:"\u30e9\u30a4\u30c8",window:"\u7a93",loading:"\u8aad\u307f\u8fbc\u307f\u4e2d: ",watchads:"Watch Video",secretPin:"Secret Pin"},ID:{play:"Awal",level:"Tingkat ",continue:"Ketuk untuk melanjutkan",replay:"Ketuk untuk memutar ulang",skip:"LEWAT",skipIntro:"Melewati >>>",win:"KEMENANGA",lose:"KAMU KALAH",settingTitle:"PENGATURAN",on:"An",off:"Aus",unlockRoom:"Buka\n level 4",dailyReward:"Hadiah Harian",daily:"Sehari-hari",day:"hari ",freecoin:"koin gratis",outfit:"pakaian",puzzleTitle:"TEKA-TEKI",puzzleTip:"Temukan teka-teki.\nKamar lengkap",puzzleGuide:"Temukan teka-teki.\nKamar lengkap",comingsoon:"SEGERA HADIR",wallpaper:"Kertas Dinding",picture:"Gambar",carpet:"Karpet","dinner table":"Meja makan malam",pumpkin:"Labu",heater:"Pemanas",chair:"Kursi",light:"Lampu",window:"Jendela",loading:"Memuat: ",watchads:"Watch Video",secretPin:"Secret Pin"},DE:{play:"BER\xdcHRE UM ZU SPIELEN",level:"EBENE ",continue:"Tippen Sie, um fortzufahren",replay:"TIPP ZUM WIEDERHOLEN",skip:"\xdcBERSPRINGEN",skipIntro:"\xfcberspringen >>>",win:"HERZLICHEN GL\xdcCKWUNSCH",lose:"DU VERLIERST",settingTitle:"EINSTELLUNG",on:"HIDUP",off:"MATI",unlockRoom:"Level 4",dailyReward:"T\xe4gliche Belohnung",daily:"T\xe4glich",day:"Tag ",freecoin:"Kostenlose M\xfcnze",outfit:"Outfit",puzzleTitle:"PUZZLE",puzzleTip:"Finde R\xe4tsel.\n Kompletter Raum",puzzleGuide:"Finde R\xe4tsel.\n Kompletter Raum",comingsoon:"DEMN\xc4CHST",wallpaper:"Hintergrund",picture:"Bild",carpet:"Teppich","dinner table":"Esstisch",pumpkin:"K\xfcrbisse",heater:"Heizung",chair:"Stuhl",light:"Licht",window:"Fenster",loading:"Wird geladen: ",watchads:"Watch Video",secretPin:"Secret Pin"}},cc._RF.pop()},{}],Latin1:[function(t,e,o){"use strict";cc._RF.push(e,"f6b0bnk3FNLBKHcYiu5V4Kz","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push(String.fromCharCode(n))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i++)o[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new n.WordArray(o,e)},t}();o.Latin1=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],LavaGO:[function(t,e,o){"use strict";cc._RF.push(e,"6e16a5QKp9Ak4alKXaGXEJE","LavaGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/TagObject"),s=t("../../level/MapLevel"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"lava")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=s.default.instance.rockContainer,e=cc.instantiate(this.rockPrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.destroy()},e.prototype.onCollisionEnter=function(t){if(this.available)return t.node.group===a.GroupConfig.WATER||t.node.group==a.GroupConfig.ROCK&&t.node.name==c.TagConfig.CHARCOAL?(this.available=!1,void this.transformToRock()):t.node.group===a.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},2))):void 0},e.colliderBarrieCount=0,r([f(cc.Node)],e.prototype,"border",void 0),r([f(cc.Node)],e.prototype,"drop",void 0),r([f(cc.Prefab)],e.prototype,"rockPrefab",void 0),o=r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],LevelConfig:[function(t,e,o){"use strict";cc._RF.push(e,"2052avx87lG+Zk86UhkNUHw","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0;var n=function(){function t(){}return t.levels=["Level-1","Level-2","Level-3","Level-4","Level-5","Level-6","Level-7","Level-8","Level-9","Level-10","Level-11","Level-12","Level-13","Level-14","Level-15","Level-16","Level-17","Level-18","Level-19","Level-20","Level-21","Level-22","Level-23","Level-24","Level-25","Level-26","Level-27","Level-28","Level-29","Level-30","Level-31","Level-32","Level-33","Level-34","Level-35","Level-36","Level-37","Level-38","Level-39","Level-40","Level-41","Level-42","Level-43","Level-44","Level-45","Level-46","Level-47","Level-48","Level-49","Level-50"],t.levelsPuzzle=["Level-Puzzle1","Level-Puzzle2","Level-Puzzle3","Level-Puzzle4","Level-Puzzle5","Level-Puzzle6","Level-Puzzle7","Level-Puzzle8","Level-Puzzle9","Level-Puzzle10"],t.realLevelSize=t.levels.length,t}();o.LevelConfig=n,cc._RF.pop()},{}],LevelCutSceneController:[function(t,e,o){"use strict";cc._RF.push(e,"cd6b22ZYP5KJY4lmKPVk7Zu","LevelCutSceneController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelCutSceneController=void 0;var a=t("../config/AudioPlayId"),c=t("../MainScene"),s=cc._decorator,l=s.ccclass,p=(s.property,s.menu),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._on_finish=function(){},e}return i(e,t),e.prototype.onLoad=function(){this.on("finished",this.onFinish,this)},e.prototype.onDisable=function(){this.off("finished",this.onFinish,this)},e.prototype.onFinish=function(){this._on_finish(),this.node.destroy()},e.prototype.invoke=function(t){this._on_finish=t,this.play()},e.prototype.onSoundKeyUnLock=function(){c.default.instance.audioPlayer.playAudio(a.AudioPlayId.effect_key_in_lock)},e.prototype.onSoundOpenDoor=function(){c.default.instance.audioPlayer.playAudio(a.AudioPlayId.effect_open_some)},r([l,p("Level/Cut Scene Controller")],e)}(cc.Animation);o.LevelCutSceneController=u,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],LevelCutScene:[function(t,e,o){"use strict";cc._RF.push(e,"c325f3rpvdOFIm2Ojfd0waa","LevelCutScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelCutScene=void 0;var a=t("../GameData"),c=t("../TS/Helper/Global"),s=t("../objects/character/Main/Main"),l=t("./LevelCutSceneController"),p=cc._decorator,u=p.ccclass,f=p.property,d=p.executeInEditMode,h=p.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._main=null,e._intro=null,e}return i(e,t),Object.defineProperty(e.prototype,"intro",{get:function(){return this._intro},set:function(t){c.PTS.checker.prefab_contain_component(t,l.LevelCutSceneController,{error_msg:"The target Prefab: "+t.name+" does not contain the Component 'LevelCutSceneController'"})&&(this._intro=t)},enumerable:!1,configurable:!0}),e.prototype.play=function(t){if(a.GameData.casted_intro)t();else{var e=cc.instantiate(this._intro),o=e.getComponent(l.LevelCutSceneController);this.node.addChild(e),e.setPosition(0,0,0),o.invoke(t)}},e.prototype.onLoad=function(){},r([f(s.Main)],e.prototype,"_main",void 0),r([f(cc.Prefab)],e.prototype,"_intro",void 0),r([f({type:cc.Prefab})],e.prototype,"intro",null),r([u,d,h("Level/Cut Scene")],e)}(cc.Component);o.LevelCutScene=_,cc._RF.pop()},{"../GameData":"GameData","../TS/Helper/Global":"Global","../objects/character/Main/Main":"Main","./LevelCutSceneController":"LevelCutSceneController"}],LevelDataController:[function(t,e,o){"use strict";cc._RF.push(e,"21453CxddZJ/6o+e94dClVu","LevelDataController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelDataController=o.ELDWinLevelOptions=o.ELDStartLevelOptions=void 0;var a,c,s=t("../MainScene"),l=t("../SubGameData/PDBoardGameData"),p=t("../SubGameData/PDTaskGameData"),u=t("../TS/Helper/Global"),f=t("../config/AudioPlayId"),d=t("../objects/container/ContainerGO"),h=t("../objects/drop/TargetGO"),_=cc._decorator,y=_.ccclass,g=_.property,v=_.menu,b=_.mark_singleton;(function(t){t[t.NONE=0]="NONE",t[t.SHOW_TASK_POPUP=1]="SHOW_TASK_POPUP"})(a=o.ELDStartLevelOptions||(o.ELDStartLevelOptions={})),function(t){t[t.NONE=0]="NONE",t[t.DONE_TASK_POPUP=1]="DONE_TASK_POPUP",t[t.COLLECT_CLUE=2]="COLLECT_CLUE"}(c=o.ELDWinLevelOptions||(o.ELDWinLevelOptions={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.e_start_option=a.NONE,e.e_win_option=c.NONE,e.replace_target=null,e._replace_with=null,e._countCoinDestroyed=3,e._countWaterDestroyed=1,e._countWaterCollide=1,e._countLavaCollide=1,e}return i(e,t),Object.defineProperty(e.prototype,"start_option",{get:function(){return this.e_start_option},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"replace_with",{get:function(){return this._replace_with},set:function(t){t?u.PTS.checker.prefab_contain_component(t,h.TargetGO,{error_msg:"[LevelDataController] Error: This target prefab does not contain component: TargetGO"})&&(this._replace_with=t):this._replace_with=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"win_option",{get:function(){return this.e_win_option},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level_mark_uuid",{get:function(){return this.node.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countCoinDestroyed",{get:function(){return this._countCoinDestroyed},set:function(t){this._countCoinDestroyed=t,4===this._countCoinDestroyed&&(s.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_lava_collect,!1,.7),this._countCoinDestroyed=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countWaterDestroyed",{get:function(){return this._countWaterDestroyed},set:function(t){this._countWaterDestroyed=t,2===this._countWaterDestroyed&&(s.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_lava_collect,!1,.7),this._countWaterDestroyed=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countWaterCollide",{get:function(){return this._countWaterCollide},set:function(t){this._countWaterCollide=t,3===this._countWaterCollide&&(s.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_water_collide,!1,.7),this._countWaterCollide=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countLavaCollide",{get:function(){return this._countLavaCollide},set:function(t){this._countLavaCollide=t,5===this._countLavaCollide&&(s.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_lava_collect,!1,.7),this._countLavaCollide=0)},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){if(this.e_win_option!=c.COLLECT_CLUE)return this._replace_with=null,void(this.replace_target=null);this.replace_clue()},e.prototype.replace_clue=function(){if(this.replace_target&&this.replace_with&&cc.instance(l.PDBoardGameData).is_this_lvl_marked(this.level_mark_uuid)){var t=this.node.getComponentInChildren(d.ContainerGO);if(!t)return;var e=cc.instantiate(this.replace_with);this.replace_target.node.parent.addChild(e),u.PTS.node.set_position(e,this.replace_target.node),t.object_type=e.getComponent(h.TargetGO).type,this.replace_target.node.destroy()}},e.prototype.onDisable=function(){this.e_start_option=a.NONE,this.e_win_option=c.NONE},e.prototype.showtaskble=function(){return!cc.instance(p.PDTaskGameData).is_marked_this_lvl(this.level_mark_uuid)},r([g({type:cc.Enum(a),displayName:"Start Option"})],e.prototype,"e_start_option",void 0),r([g({displayName:"Win Option",type:cc.Enum(c)})],e.prototype,"e_win_option",void 0),r([g({type:h.TargetGO,visible:function(){return this.e_win_option===c.COLLECT_CLUE}})],e.prototype,"replace_target",void 0),r([g(cc.Prefab)],e.prototype,"_replace_with",void 0),r([g({type:cc.Prefab,visible:function(){return this.e_win_option===c.COLLECT_CLUE}})],e.prototype,"replace_with",null),r([y,v("Level/Data Controller"),b],e)}(cc.Component);o.LevelDataController=m,cc._RF.pop()},{"../MainScene":"MainScene","../SubGameData/PDBoardGameData":"PDBoardGameData","../SubGameData/PDTaskGameData":"PDTaskGameData","../TS/Helper/Global":"Global","../config/AudioPlayId":"AudioPlayId","../objects/container/ContainerGO":"ContainerGO","../objects/drop/TargetGO":"TargetGO"}],LevelTransition:[function(t,e,o){"use strict";cc._RF.push(e,"7f9f8kD8FZD7JKcq5OdkUKt","LevelTransition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelTransition=o.CinematicCamTransition=o.TransitionType=void 0;var a,c=t("../MainScene"),s=t("../PlayScreen"),l=t("../TS/Extended/MultiLangsOption"),p=t("../TS/Helper/Global"),u=t("../base/Signal"),f=t("../base/TouchManager"),d=t("../config/AudioPlayId"),h=t("../objects/character/Main/Main"),_=t("./CinematicCamera"),y=t("./LevelHome/EFakeCam"),g=t("./LevelHome/TheGate"),v=cc._decorator,b=v.ccclass,m=v.property,S=v.executeInEditMode,C=v.menu;(function(t){t[t.NONE=0]="NONE",t[t.F_POSITION=1]="F_POSITION",t[t.CINEMATIC_CAM=2]="CINEMATIC_CAM"})(a=o.TransitionType||(o.TransitionType={}));var O=function(){function t(){}return t.prototype.execute=function(t,e){this.mechanic(t,e)},r([b("LevelTransitionhelper")],t)}(),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.mechanic=function(t,e){return e(),cc.tween(t)},r([b("NoneOption")],e)}(O),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg_map=null,e.pin_map=null,e.length=300,e.duration=1,e}return i(e,t),e.prototype.mechanic=function(t,e){var o=this;t.do_move(),this.pin_map.opacity=0,this.pin_map.active=!1;var n=this.bg_map.position.x-this.length;return this.bg_map.x=n,cc.tween(this.bg_map).by(this.duration,{x:this.length}).call(function(){o.pin_map.active=!0,cc.tween(o.pin_map).to(.25,{opacity:255}).start(),e()}).start()},r([m(cc.Node)],e.prototype,"bg_map",void 0),r([m(cc.Node)],e.prototype,"pin_map",void 0),r([m({})],e.prototype,"length",void 0),r([m({min:0})],e.prototype,"duration",void 0),r([b("FPositionOption")],e)}(O),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fake_camera=null,e._entrance_gate=null,e.start_cam=cc.v2(),e.main_start_position=cc.v3(),e.start_zoom=1,e.main_slide=!1,e.duration=2,e}return i(e,t),Object.defineProperty(e.prototype,"fake_cam",{get:function(){return this._fake_camera},set:function(t){this._fake_camera=t,this._fake_camera.opt=this,this.start_cam=cc.v2(t.node.position),this.start_zoom=t.zoom_ratio},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entrance_gate",{get:function(){return this._entrance_gate},set:function(t){t&&t.is_entrance&&(this._entrance_gate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view_start_cam",{get:function(){return this.start_cam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view_main_stat",{get:function(){return this.main_start_position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view_start_zoom",{get:function(){return this.start_zoom},enumerable:!1,configurable:!0}),e.prototype.mechanic=function(t,e){var o=this,n=t.node.position;return _.CinematicCamera.instance.node.setPosition(this.start_cam),_.CinematicCamera.instance.camera.zoomRatio=this.start_zoom,p.PTS.node.set_position(t.node,{position:this.main_start_position,is_world_pos:!1}),this.main_slide?(c.default.instance.audioPlayer.playAudio(d.AudioPlayId.main_ouch),_.CinematicCamera.instance.setSyncTarget(t.node,{excluded_X:!1,excluded_Y:!0}),t.do_slide(function(){_.CinematicCamera.instance.stopSyncTarget(),_.CinematicCamera.instance.focusTo({position:cc.v3(),is_world_pos:!1},1,o.duration),t.extended.reset_light_status(),t.tween_moving_to({position:n,is_world_pos:!1},o.duration,function(){o._entrance_gate.do_gate(),e()})}),cc.tween(_.CinematicCamera.instance.node)):(_.CinematicCamera.instance.focusTo({position:cc.v3(),is_world_pos:!1},1,this.duration),t.tween_moving_to({position:n,is_world_pos:!1},this.duration,function(){o._entrance_gate.do_gate(),e()}),cc.tween(_.CinematicCamera.instance.camera).to(this.duration,{zoomRatio:1}).start(),cc.tween(_.CinematicCamera.instance.node).to(this.duration,{position:cc.v3()}))},r([m(y.EFakeCam)],e.prototype,"_fake_camera",void 0),r([m(y.EFakeCam)],e.prototype,"fake_cam",null),r([m(g.TheGate)],e.prototype,"_entrance_gate",void 0),r([m(g.TheGate)],e.prototype,"entrance_gate",null),r([m({visible:function(){return!this._fake_camera}})],e.prototype,"start_cam",void 0),r([m({visible:function(){return!this._fake_camera}})],e.prototype,"main_start_position",void 0),r([m({visible:function(){return!!this._fake_camera},displayName:"Start Cam"})],e.prototype,"view_start_cam",null),r([m({visible:function(){return!!this._fake_camera},displayName:"Main Start Position"})],e.prototype,"view_main_stat",null),r([m({min:0,visible:function(){return!this._fake_camera}})],e.prototype,"start_zoom",void 0),r([m({visible:function(){return!!this._fake_camera},displayName:"Start Zoom"})],e.prototype,"view_start_zoom",null),r([m()],e.prototype,"main_slide",void 0),r([m({min:0})],e.prototype,"duration",void 0),r([b("CinematicCam")],e)}(O);o.CinematicCamTransition=R;var A=function(){function t(){this.frame=null,this.lvl_option=new l.MultiQuestOptions}return t.prototype.settup=function(){var t=this.lvl_option.get_text(c.default.instance.language);s.default.instance.set_level_ui_information(this.frame,t)},r([m(cc.SpriteFrame)],t.prototype,"frame",void 0),r([m({type:l.MultiQuestOptions})],t.prototype,"lvl_option",void 0),r([b("LevelUIInformationHelper")],t)}(),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lvl_ui_option=new A,e._main=null,e._type=a.F_POSITION,e.helper=new k,e.complete_event=new u.Signal,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){switch(this._type=t,t){case a.NONE:this.helper=new P;break;case a.F_POSITION:this.helper=new k;break;case a.CINEMATIC_CAM:this.helper=new R}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_update_character",{get:function(){return this._main||(this._main=p.PTS.component.get_component_in_childs(this.node,h.Main),Editor.log("[LevelTransition] Success set LevelTransition for Main")),!1},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){_.CinematicCamera.instance.reset()},e.prototype.play=function(){var t=this;s.default.instance.ui_controller.hide(0),this.lvl_ui_option.settup(),f.default.instance.pause(),this.helper.execute(this._main,function(){s.default.instance.ui_controller.showup(),t.complete_event.dispatch(),f.default.instance.resume()})},e.prototype.onDisable=function(){this.complete_event.removeAll(),delete this.complete_event},r([m(A)],e.prototype,"lvl_ui_option",void 0),r([m({type:h.Main,visible:function(){return null==this._main||null==this._main}})],e.prototype,"_main",void 0),r([m({type:cc.Enum(a)})],e.prototype,"_type",void 0),r([m({type:cc.Enum(a),visible:function(){return!!this._main}})],e.prototype,"type",null),r([m(O)],e.prototype,"helper",void 0),r([m()],e.prototype,"_update_character",null),r([b,S,C("Level/Transition")],e)}(cc.Component);o.LevelTransition=E,cc._RF.pop()},{"../MainScene":"MainScene","../PlayScreen":"PlayScreen","../TS/Extended/MultiLangsOption":"MultiLangsOption","../TS/Helper/Global":"Global","../base/Signal":"Signal","../base/TouchManager":"TouchManager","../config/AudioPlayId":"AudioPlayId","../objects/character/Main/Main":"Main","./CinematicCamera":"CinematicCamera","./LevelHome/EFakeCam":"EFakeCam","./LevelHome/TheGate":"TheGate"}],LevelUIController:[function(t,e,o){"use strict";cc._RF.push(e,"d4b54bhakVCI7TWg+MaUQB4","LevelUIController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelUIController=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,p=function(){function t(){this.ui_button=null,this._position_var=cc.v3(),this.final_show_pos=cc.v3(),this.final_hide_pos=cc.v3(),this._tween=null}return Object.defineProperty(t.prototype,"position_var",{get:function(){return this._position_var},set:function(t){this._position_var=t,this.final_show_pos=this.ui_button.position,this.final_hide_pos=cc.v3(this.ui_button.position).subtract(t)},enumerable:!1,configurable:!0}),t.prototype.showup=function(t){this.action(t,this.final_show_pos,!1)},t.prototype.hide=function(t){this.action(t,this.final_hide_pos,!0)},t.prototype.action=function(t,e,o){var n=this;this._tween&&this._tween.stop(),this._tween=cc.tween(this.ui_button).to(t,{position:e}).call(function(){o&&(n.ui_button.opacity=0)}).start(),o||(this.ui_button.opacity=255)},t.prototype.showup_fullpack=function(t){this.ui_button.setPosition(this.final_hide_pos),this.showup(t)},r([s({type:cc.Node})],t.prototype,"ui_button",void 0),r([s()],t.prototype,"_position_var",void 0),r([s({visible:function(){return!!this.ui_button}})],t.prototype,"position_var",null),r([s({readonly:!0})],t.prototype,"final_show_pos",void 0),r([s({readonly:!0})],t.prototype,"final_hide_pos",void 0),r([c("LevelUIButtonsHelper")],t)}(),u=function(){function t(){this.ui_buttons=[]}return t.prototype.showup=function(t){for(var e=0,o=this.ui_buttons;e<o.length;e++)o[e].showup(t)},t.prototype.hide=function(t){for(var e=0,o=this.ui_buttons;e<o.length;e++)o[e].hide(t)},t.prototype.showup_fullpack=function(t){for(var e=0,o=this.ui_buttons;e<o.length;e++)o[e].showup_fullpack(t)},r([s([p])],t.prototype,"ui_buttons",void 0),r([c("LevelUIButtons")],t)}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_buttons=new u,e}return i(e,t),e.prototype.onLoad=function(){this.ui_buttons.hide(.2)},e.prototype.showup=function(t,e){var o=this;void 0===t&&(t=.5),void 0===e&&(e=0),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){return o.ui_buttons.showup(t)},e)},e.prototype.hide=function(t,e){var o=this;void 0===t&&(t=.5),void 0===e&&(e=0),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){return o.ui_buttons.hide(t)},e)},e.prototype.showup_fullpack=function(t,e){var o=this;void 0===t&&(t=.5),void 0===e&&(e=0),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){return o.ui_buttons.showup_fullpack(t)},e)},r([s(u)],e.prototype,"ui_buttons",void 0),r([c,l("UI/Level/Controller")],e)}(cc.Component);o.LevelUIController=f,cc._RF.pop()},{}],LevelUIIntromation:[function(t,e,o){"use strict";cc._RF.push(e,"ada1f0FyetDYKK37jR3Jadn","LevelUIIntromation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelUIInformation=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.lvl_index_surfix="lvl ",e.lvl_index=null,e.lvl_quest=null,e}return i(e,t),e.prototype.settup_data=function(t,e,o){this.lvl_index.string=this.lvl_index_surfix+t+":",this.sprite.spriteFrame=e,this.lvl_quest.string=o},r([s(cc.Sprite)],e.prototype,"sprite",void 0),r([s()],e.prototype,"lvl_index_surfix",void 0),r([s(cc.Label)],e.prototype,"lvl_index",void 0),r([s(cc.Label)],e.prototype,"lvl_quest",void 0),r([c,l],e)}(cc.Component);o.LevelUIInformation=p,cc._RF.pop()},{}],Libbey:[function(t,e,o){"use strict";cc._RF.push(e,"3271dea2Y5DobJBwkIFvPJs","Libbey");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("../../config/CaseSound"),s=t("../../config/GlobalSignals"),l=t("../../config/GroupConfig"),p=t("../../config/TagObject"),u=t("../../level/MapLevel"),f=t("../character/Mom/Mom"),d=t("../character/Theif/Theif"),h=cc._decorator,_=h.ccclass,y=h.property,g=(h.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.libbeyCollider=null,e.targetPos=null,e.lbProcess=null,e.frontLibbey=null,e.rate=0,e.rateLose=0,e.totalGems=0,e.isTheif=!1,e.checkDone=!1,e.theif=null,e._active=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.libbeyCollider&&!this.isTheif?this.libbeyCollider.setColliderCallback(this.onLibbeyCollider.bind(this)):(this.libbeyCollider.setColliderCallback(this.onLibbeyLoseCollider.bind(this)),this.theif=u.default.instance.arrTheif[0].getComponent(d.default))},e.prototype.onLibbeyCollider=function(t){if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectWater)if(t.node.group===l.GroupConfig.WATER){var e=1/this.totalGems*100;this.rate+=e,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questPassSignal.dispatch()},.5),this.checkDone=!0)}else t.node.group===l.GroupConfig.DIRTY&&(this.rateLose+=1/this.totalGems*100,this.rateLose>=5&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questFailSignal.dispatch()},.5),this.checkDone=!0));else if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems&&t.node.group===l.GroupConfig.GEMS&&(t.node.name==p.TagConfig.CANDY||t.node.name==p.TagConfig.COIN)){if(this.totalGems){var o=1/this.totalGems*100;this.rate+=o,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%"}this.rate>=100&&u.default.instance.isPlaying&&(f.default.instance.soundWin=c.CaseSound.FULLCOININLIBBEY,s.GlobalSignals.questPassSignal.dispatch())}},e.prototype.onLibbeyLoseCollider=function(t){var e=this;if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectGems&&t.node.group===l.GroupConfig.GEMS&&(t.node.name==p.TagConfig.CANDY||t.node.name==p.TagConfig.COIN)){if(t.node.destroy(),this.totalGems){var o=1/this.totalGems*100;this.rate+=o}this.rate>=10&&!this.checkDone&&(this.scheduleOnce(function(){s.GlobalSignals.questFailSignal.dispatch(),e.theif.isAlive,e.node.active=!1},2),this.checkDone=!0)}},e.prototype.setActive=function(t){this._active=t,this.node.active=this._active},e.prototype.update=function(){if(this.targetPos){var t=this.targetPos.convertToWorldSpaceAR(cc.v2(0,0)),e=this.targetPos.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.node.angle=180*o/3.14;var n=this.targetPos.convertToWorldSpaceAR(cc.Vec3.ZERO);this.node.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey&&(this.frontLibbey.setPosition(this.node.parent.convertToNodeSpaceAR(n)),this.frontLibbey.angle=this.node.angle)}},e._instance=null,r([y(a.default)],e.prototype,"libbeyCollider",void 0),r([y(cc.Node)],e.prototype,"targetPos",void 0),r([y(cc.Label)],e.prototype,"lbProcess",void 0),r([y(cc.Node)],e.prototype,"frontLibbey",void 0),r([y(cc.Integer)],e.prototype,"totalGems",void 0),r([y(cc.Boolean)],e.prototype,"isTheif",void 0),o=r([_],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/CaseSound":"CaseSound","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../character/Mom/Mom":"Mom","../character/Theif/Theif":"Theif"}],LinkListDynamicButton:[function(t,e,o){"use strict";cc._RF.push(e,"caa5egXpSNH04x6+qMytc7K","LinkListDynamicButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LinkListDynamicButton=void 0;var a=t("../TS/Helper/Global"),c=t("./DynamicButton"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.buttons=[],e.wake=!0,e._current=0,e._clicking=!1,e._length=0,e}return i(e,t),e.prototype.onLoad=function(){this._selfValid()},e.prototype.start=function(){this._initButtons()},e.prototype._selfValid=function(){this.buttons=a.PTS.utils.no_null_array(this.buttons),this._length=this.buttons.length},e.prototype._initButtons=function(){if(1==this._length){var t=this.buttons[this._current];this.wake?t.wakeActive(!0):t.wakeInactive(0,!0)}if(!(this._length<2)){this.buttons[0].wakeActive(),this.buttons[1].wakeInactive();for(var e=2;e<this.buttons.length;e++)this.buttons[e]&&this.buttons[e].fadeOut(0,this.buttons[1].position,"inactive")}},e.prototype.executeBTN=function(){var t=this;this._clicking||(this.scheduleOnce(function(){return t._clicking=!1},this.duration),this._length<2?this._single():2!=this._length?this._multiplie():this._two())},e.prototype.execute=function(t){this._clicking||(this.executeBTN(),t&&t())},e.prototype.disable=function(){this._length<=1&&(this.buttons[this._current].disable=!0);for(var t=this._current+1>=this._length?0:this._current+1,e=0;e<this._length;e++)e===t||e===this._current?this.buttons[e].disable=!0:this.buttons[e].inactive()},e.prototype.enable=function(){var t=this._current--;this._current=t<0?this._length-1:t,this.executeBTN()},e.prototype._multiplie=function(){var t=this._current+1>=this._length?0:this._current+1,e=this._current+2>=this._length?this._current+2-this._length:this._current+2,o=this.buttons[this._current].position;this.buttons[this._current].isDisable?this.buttons[this._current].disable=!1:(this.buttons[this._current].fadeOut(this.duration,this.buttons[t].position,"inactive"),this.buttons[t].fadeIn(this.duration,o),this.buttons[e].wakeInactive(this.duration),this._current=t,this._clicking=!0)},e.prototype._two=function(){var t=this._current+1>=this._length?0:this._current+1,e=this.buttons[this._current].position;this.buttons[this._current].isDisable?this.buttons[this._current].disable=!1:(this.buttons[this._current].fade(this.duration,255,this.buttons[t].position,"inactiveStats",{status:"wakeInactive"}),this.buttons[t].fade(this.duration,255,e,"activeStats",{status:"wakeActive"}),this._current=t,this._clicking=!0)},e.prototype._single=function(){this.buttons[this._current].switch(),this._clicking=!0},r([p({min:0})],e.prototype,"duration",void 0),r([p({type:[c.DynamicButton]})],e.prototype,"buttons",void 0),r([p({visible:function(){return 1==this.buttons.length}})],e.prototype,"wake",void 0),r([l,u("Button/Link List")],e)}(cc.Component);o.LinkListDynamicButton=f,cc._RF.pop()},{"../TS/Helper/Global":"Global","./DynamicButton":"DynamicButton"}],LinkList:[function(t,e,o){"use strict";cc._RF.push(e,"a1340Kp6GFJwawEgK4Rw88z","LinkList"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){this._head=null,this._pointer=null}return Object.defineProperty(t.prototype,"length",{get:function(){return this.array.length},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var e=new r(t);if(this._head){var o=function(t){return t.next&&t.next.end?o(t.next):t},n=o(this._head);n.end=!1,n.next=e,e.prev=n,e.next=this._head}else this._pointer=this._head=e},Object.defineProperty(t.prototype,"array",{get:function(){return this._head?this._array_generate(this._head):[]},enumerable:!1,configurable:!0}),t.prototype._array_generate=function(t){var e=[];return e.push(t.data),t.next.end?this._array_generate(t):e},t.prototype.search=function(t){var e=function(o){return t(o.data)?o:o.next.end?e(o):null};return this._head?e(this._head):null},Object.defineProperty(t.prototype,"pointer",{get:function(){return this._pointer.data},enumerable:!1,configurable:!0}),t.prototype.next=function(){return this._pointer=this._pointer.next,this.pointer},Object.defineProperty(t.prototype,"pointerIndex",{get:function(){var t=function(e,o){return void 0===o&&(o=0),e.next.end?o:t(e,++o)};return this.length-t(this._pointer)},enumerable:!1,configurable:!0}),t}(),r=function(t){this.next=null,this.prev=null,this.data=null,this.end=!0,this.data=t};n.PTS.creator.link_list=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=new i;if(t.length<=0)return o;for(var n=0,r=t;n<r.length;n++){var a=r[n];o.push(a)}return o},cc._RF.pop()},{"./Global":"Global"}],LiquidGO:[function(t,e,o){"use strict";cc._RF.push(e,"597da2vVb1Kfqwa9BijADsI","LiquidGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LiquidGO=void 0;var a=t("../../TS/Helper/Global"),c=t("../../config/GroupConfig"),s=t("../../config/TagObject"),l=t("../../level/LevelDataController"),p=t("./DeathGO"),u=t("./ObjectGO"),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rock_prefab=null,e.rock_pool=null,e.border=null,e.drop=null,e._gravity_scale=3,e}var o;return i(e,t),o=e,e.prototype.start=function(){this.getComponent(cc.Sprite).enabled=!1,this.border.node.active=!0,this.drop.node.active=!0,this.rock_pool||(this.rock_pool=this.node.parent)},e.prototype.enterCollision=function(t){if(!this.is_done){t.node.group===c.GroupConfig.COLLIDER&&this.object_type==s.TagConfig.WATER&&cc.instance(l.LevelDataController).countWaterCollide++,t.node.group===c.GroupConfig.COLLIDER&&this.object_type==s.TagConfig.LAVA&&cc.instance(l.LevelDataController).countLavaCollide++;var e=t.getComponent(u.ObjectGO);if(e){if(e instanceof o&&!e.check_type(this.object_type))return cc.instance(l.LevelDataController).countWaterDestroyed++,void this.transformToRock();if(e instanceof p.DeathGO)switch(e.type){case s.TagConfig.ROCK:return void this.transformToRock();case s.TagConfig.BOMB:return void this.do_outside(this.node)}}}},e.prototype.transformToRock=function(){if(!this._is_complete){var t=cc.instantiate(this.rock_prefab);this.rock_pool.addChild(t),a.PTS.node.set_position(t,this.node),this.do_complete(),this.node.destroy()}},r([h(cc.Prefab)],e.prototype,"rock_prefab",void 0),r([h(cc.Node)],e.prototype,"rock_pool",void 0),r([h(cc.Sprite)],e.prototype,"border",void 0),r([h(cc.Sprite)],e.prototype,"drop",void 0),o=r([d],e)}(u.ObjectGO);o.LiquidGO=_,cc._RF.pop()},{"../../TS/Helper/Global":"Global","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/LevelDataController":"LevelDataController","./DeathGO":"DeathGO","./ObjectGO":"ObjectGO"}],Loader:[function(t,e,o){"use strict";cc._RF.push(e,"5f683BXZ8JKCInN4v+KsL4+","Loader"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.sprite_changer=function(t,e){cc.resources.load(t,cc.SpriteFrame,function(t,o){t?console.error(t):e&&e(o)})},t}();n.PTS.loader=new i,cc._RF.pop()},{"./Global":"Global"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"9ac26VrclhNDqVluKnwUzSn","Loading"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameData");window.Loading={preloadAssets:function(){n.GameData.initPlayerData(function(){n.GameData.isInitData=!0})}},cc._RF.pop()},{"./GameData":"GameData"}],LocalStorageManager:[function(t,e,o){"use strict";cc._RF.push(e,"4dd86HTCsxBTbnZZjQJS4gi","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageManager=void 0;var n=t("./crypto-ts/lib/WordArray"),i=t("./crypto-ts/crypto-ts"),r=function(){function t(){}return t.encryptKeyItem=function(t){return i.AES.encrypt(t+"",this.KEY_ENCRYPTION_KEY_ITEM,{iv:this.IV_ENCRYPTION_KEY_ITEM}).toString()},t.encryptValueItem=function(t){return i.AES.encrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString()},t.decryptValueItem=function(t){return i.AES.decrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString(i.enc.Utf8)},t.setItem=function(t,e){cc.sys.localStorage.setItem(t,e)},t.getItem=function(t){return cc.sys.localStorage.getItem(t)||null},t.removeItem=function(t){cc.sys.localStorage.removeItem(t)},t.KEY_ENCRYPTION_VALUE_ITEM=new n.WordArray([3721848651,3247274e3,1120155838,1670014210],16),t.IV_ENCRYPTION_VALUE_ITEM=new n.WordArray([4236774207,782364970,1158515808,2679783514],16),t.KEY_ENCRYPTION_KEY_ITEM=new n.WordArray([1541276774,3192629469,1059630479,1194558349],16),t.IV_ENCRYPTION_KEY_ITEM=new n.WordArray([1156797778,168578463,3342295823,1238504529],16),t}();o.LocalStorageManager=r,cc._RF.pop()},{"./crypto-ts/crypto-ts":"crypto-ts","./crypto-ts/lib/WordArray":"WordArray"}],Logger:[function(t,e,o){"use strict";cc._RF.push(e,"9ab2bsQ5r9MToYAWMDjiYQy","Logger"),this&&this.__spreadArrays,Object.defineProperty(o,"__esModule",{value:!0}),t("./Global").PTS.logger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},cc._RF.pop()},{"./Global":"Global"}],LoopSpawner:[function(t,e,o){"use strict";cc._RF.push(e,"9f9983MC/5HJIGDOPNXMi3c","LoopSpawner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MD5:[function(t,e,o){"use strict";cc._RF.push(e,"897afQFVB5Fx7Bx7+H5eL/0","MD5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var r=t("../lib/Hasher"),a=t("../lib/WordArray"),c=[],s=0;s<64;s++)c[s]=4294967296*Math.abs(Math.sin(s+1))|0;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.FF=function(t,e,o,n,i,r,a){var c=t+(e&o|~e&n)+i+a;return(c<<r|c>>>32-r)+e},e.GG=function(t,e,o,n,i,r,a){var c=t+(e&n|o&~n)+i+a;return(c<<r|c>>>32-r)+e},e.HH=function(t,e,o,n,i,r,a){var c=t+(e^o^n)+i+a;return(c<<r|c>>>32-r)+e},e.II=function(t,e,o,n,i,r,a){var c=t+(o^(e|~n))+i+a;return(c<<r|c>>>32-r)+e},e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new a.WordArray([1732584193,4023233417,2562383102,271733878])},e.prototype._doProcessBlock=function(t,o){for(var n=0;n<16;n++){var i=o+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,s=t[o+0],l=t[o+1],p=t[o+2],u=t[o+3],f=t[o+4],d=t[o+5],h=t[o+6],_=t[o+7],y=t[o+8],g=t[o+9],v=t[o+10],b=t[o+11],m=t[o+12],S=t[o+13],C=t[o+14],O=t[o+15],P=a[0],k=a[1],R=a[2],A=a[3];P=e.FF(P,k,R,A,s,7,c[0]),A=e.FF(A,P,k,R,l,12,c[1]),R=e.FF(R,A,P,k,p,17,c[2]),k=e.FF(k,R,A,P,u,22,c[3]),P=e.FF(P,k,R,A,f,7,c[4]),A=e.FF(A,P,k,R,d,12,c[5]),R=e.FF(R,A,P,k,h,17,c[6]),k=e.FF(k,R,A,P,_,22,c[7]),P=e.FF(P,k,R,A,y,7,c[8]),A=e.FF(A,P,k,R,g,12,c[9]),R=e.FF(R,A,P,k,v,17,c[10]),k=e.FF(k,R,A,P,b,22,c[11]),P=e.FF(P,k,R,A,m,7,c[12]),A=e.FF(A,P,k,R,S,12,c[13]),R=e.FF(R,A,P,k,C,17,c[14]),k=e.FF(k,R,A,P,O,22,c[15]),P=e.GG(P,k,R,A,l,5,c[16]),A=e.GG(A,P,k,R,h,9,c[17]),R=e.GG(R,A,P,k,b,14,c[18]),k=e.GG(k,R,A,P,s,20,c[19]),P=e.GG(P,k,R,A,d,5,c[20]),A=e.GG(A,P,k,R,v,9,c[21]),R=e.GG(R,A,P,k,O,14,c[22]),k=e.GG(k,R,A,P,f,20,c[23]),P=e.GG(P,k,R,A,g,5,c[24]),A=e.GG(A,P,k,R,C,9,c[25]),R=e.GG(R,A,P,k,u,14,c[26]),k=e.GG(k,R,A,P,y,20,c[27]),P=e.GG(P,k,R,A,S,5,c[28]),A=e.GG(A,P,k,R,p,9,c[29]),R=e.GG(R,A,P,k,_,14,c[30]),k=e.GG(k,R,A,P,m,20,c[31]),P=e.HH(P,k,R,A,d,4,c[32]),A=e.HH(A,P,k,R,y,11,c[33]),R=e.HH(R,A,P,k,b,16,c[34]),k=e.HH(k,R,A,P,C,23,c[35]),P=e.HH(P,k,R,A,l,4,c[36]),A=e.HH(A,P,k,R,f,11,c[37]),R=e.HH(R,A,P,k,_,16,c[38]),k=e.HH(k,R,A,P,v,23,c[39]),P=e.HH(P,k,R,A,S,4,c[40]),A=e.HH(A,P,k,R,s,11,c[41]),R=e.HH(R,A,P,k,u,16,c[42]),k=e.HH(k,R,A,P,h,23,c[43]),P=e.HH(P,k,R,A,g,4,c[44]),A=e.HH(A,P,k,R,m,11,c[45]),R=e.HH(R,A,P,k,O,16,c[46]),k=e.HH(k,R,A,P,p,23,c[47]),P=e.II(P,k,R,A,s,6,c[48]),A=e.II(A,P,k,R,_,10,c[49]),R=e.II(R,A,P,k,C,15,c[50]),k=e.II(k,R,A,P,d,21,c[51]),P=e.II(P,k,R,A,m,6,c[52]),A=e.II(A,P,k,R,u,10,c[53]),R=e.II(R,A,P,k,v,15,c[54]),k=e.II(k,R,A,P,l,21,c[55]),P=e.II(P,k,R,A,y,6,c[56]),A=e.II(A,P,k,R,O,10,c[57]),R=e.II(R,A,P,k,h,15,c[58]),k=e.II(k,R,A,P,S,21,c[59]),P=e.II(P,k,R,A,f,6,c[60]),A=e.II(A,P,k,R,b,10,c[61]),R=e.II(R,A,P,k,p,15,c[62]),k=e.II(k,R,A,P,g,21,c[63]),a[0]=a[0]+P|0,a[1]=a[1]+k|0,a[2]=a[2]+R|0,a[3]=a[3]+A|0},e.prototype._doFinalize=function(){var t=this._data,e=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;var i=Math.floor(o/4294967296),r=o;e[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var a=this._hash,c=a.words,s=0;s<4;s++){var l=c[s];c[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},e}(r.Hasher);o.MD5=l,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],MSAxitBottle:[function(t,e,o){"use strict";cc._RF.push(e,"a7b64UN0ehEUYC1hnvmO7Dr","MSAxitBottle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MSAxitBottle=void 0;var a=t("../../../MainScene"),c=t("../../../TS/Helper/Global"),s=t("../../../config/AudioPlayId"),l=t("../../../level/LevelDataController"),p=cc._decorator,u=p.ccclass,f=p.property,d=p.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fx_effect=null,e.active_duration=.5,e._active_fx_condition_cb=null,e}return i(e,t),e.prototype.set_active_fx_condition_cb=function(t){this._active_fx_condition_cb=t},e.prototype.onCollisionEnter=function(t,e){this._active_fx_condition_cb&&this._active_fx_condition_cb(t,e)&&this.active_fx()},e.prototype.active_fx=function(){var t=this,e=cc.instantiate(this.fx_effect);cc.instance(l.LevelDataController).node.addChild(e),c.PTS.node.set_position(e,this.node),a.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_smash_glass),this.scheduleOnce(function(){t.node.active=!1},this.active_duration)},r([f(cc.Prefab)],e.prototype,"fx_effect",void 0),r([f({min:0})],e.prototype,"active_duration",void 0),r([u,d("Enemy/Normal/Mad Scientist/Axit Bottle")],e)}(cc.Component);o.MSAxitBottle=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../TS/Helper/Global":"Global","../../../config/AudioPlayId":"AudioPlayId","../../../level/LevelDataController":"LevelDataController"}],MadScientistNormal:[function(t,e,o){"use strict";cc._RF.push(e,"1f614oHGZBIxKyh4px/A2H8","MadScientistNormal");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MadScientistNormal=void 0;var a=t("../../../TS/Helper/Global"),c=t("../../../TS/Sync/SyncPosition"),s=t("../../../config/GlobalEnum"),l=t("../../../config/GroupConfig"),p=t("../Enemies/XEnemy"),u=t("./MSAxitBottle"),f=cc._decorator,d=f.ccclass,h=f.property,_=f.mark_singleton,y=f.menu,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.axit_bottle=null,e.as=!0,e}return i(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.axit_bottle&&this.axit_bottle.set_active_fx_condition_cb(this._active_axit_fx_condition.bind(this))},e.prototype._active_axit_fx_condition=function(t){return t.node.group===l.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node},e.prototype.onSetSkeleton=function(t){this.animation=t?p.EnemyAnimations.default_mad_scientist:null},e.prototype.do_attack=function(t){var e=this;if(console.log("REQUEST ATACK"),this._state===s.ECharacterState.ATTACK)return!1;this._state=s.ECharacterState.ATTACK,this.stop_move();var o=this.playAnim("attack",!1,{complete_cb:function(){console.log("DONE ATTACK"),e.do_idle()}});return this.hit.active=!0,this.hit.opacity=0,this.scheduleOnce(function(){var o,n=t.node.convertToWorldSpaceAR(cc.v2());null===(o=a.PTS.component.get_possible_component(e.hit,c.SyncPosition))||void 0===o||o.destroy();var i=e.hit.parent.convertToNodeSpaceAR(n),r=cc.v2(e.hit.x,e.hit.y),s=e.super_formular(r,i,300);cc.tween(e.hit).delay(.15).to(.25,{opacity:255}).start(),cc.tween(e.hit).parallel(cc.tween().bezierTo(.5,r,s,i),cc.tween().by(.5,{angle:360})).start()},o.mixTime+.25),!0},e.prototype.super_formular=function(t,e,o){var n=-1/((e.y-t.y)/(e.x-t.x)),i=Math.pow(n,2),r=(t.x+e.x)/2-o*Math.sqrt(1/(1+i)),a=(t.y+e.y)/2-o*Math.sqrt(i/(1+i));return cc.v2(r,a)},e.prototype.onQuestPass=function(){},e.prototype.onQuestFail=function(){t.prototype.onQuestFail.call(this)},e.prototype.onCollectGem=function(){},e.prototype.onAutoMove=function(){},e.prototype.initSkin=function(){},r([h(u.MSAxitBottle)],e.prototype,"axit_bottle",void 0),r([d(),y("Enemy/Normal/Mad Scientist/Main Script"),_],e)}(p.XEnemy);o.MadScientistNormal=g,cc._RF.pop()},{"../../../TS/Helper/Global":"Global","../../../TS/Sync/SyncPosition":"SyncPosition","../../../config/GlobalEnum":"GlobalEnum","../../../config/GroupConfig":"GroupConfig","../Enemies/XEnemy":"XEnemy","./MSAxitBottle":"MSAxitBottle"}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"e7bbbEKKihNqagxA1NBLeup","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./base/audio/AudioPlayer"),c=t("./PrefabManager"),s=t("./PrefabType"),l=t("./GameData"),p=t("./ResUtil"),u=t("./base/glance_Global"),f=t("./ScreenManager"),d=t("./HomeScreen"),h=t("./ui/FXFlyingCoins"),_=t("./config/AudioPlayId"),y=cc._decorator,g=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioPlayer=null,e.screenManager=null,e.nodePopups=null,e.loading=null,e.testPrefab=null,e.testStartLevel=0,e.Intro=null,e.fx_flying_coins=null,e.settingPopup=null,e.selectRoomPopup=null,e.selectKingdomPopup=null,e.buildKingdomPopup=null,e.skinPopup=null,e.dailyPopup=null,e.arrayPopup=[],e.task_popup=null,e.detective_board_popup=null,e.new_clue=null,e._language=null,e.rateCheck=0,e.backgroundMusic=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"tlang",{get:function(){return this._language},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t,"EN"!==t&&"ID"!==t&&"JA"!==t&&"DE"!==t&&(this.language="EN")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,l.GameData.isInitData||l.GameData.initPlayerData(null),this.testStartLevel>=1&&(l.GameData.currentLevelId=this.testStartLevel-1),this.getLanguage(),l.GameData.showIntro||0!=l.GameData.currentLevelId?this.showHomeScreen(function(t){t.getComponent(d.default).activeHomeUI()}):this.showIntroScreen(),this.preloadNode(),u.default.instance.sendEventLoad()},e.prototype.onEnable=function(){this.onBackgroundMusic()},e.prototype.onDisable=function(){this.offBackgroundMusic()},e.prototype.onBackgroundMusic=function(){!this.backgroundMusic&&l.GameData.showIntro&&(this.backgroundMusic=this.audioPlayer.playAudio(_.AudioPlayId.music_background,!0))},e.prototype.offBackgroundMusic=function(){this.backgroundMusic&&(this.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null)},e.prototype.effectFadeSoundBackground=function(t,e,o){var n=this;cc.tween({a:t}).to(o,{a:e},{progress:function(t,e,o,i){o=t+(e-t)*i,n.audioPlayer.setAudioPlayVolume(n.backgroundMusic,o)}}).start()},e.prototype.preloadNode=function(){this.showDetectiveBoard(!1),this.showTaskPopup(!1),this.showNewClue(!1),this.showSkinPopup(!1)},e.prototype.showHomeScreen=function(t,e){void 0===t&&(t=null),this.screenManager.showScreenById(f.ScreenId.HOME_SCREEN,t,e)},e.prototype.showGamePlayScreen=function(t,e){void 0===t&&(t=null),this.screenManager.showScreenById(f.ScreenId.PLAY_SCREEN,t,e)},e.prototype.showIntroScreen=function(){var t=cc.instantiate(this.Intro),e=t.getComponent(cc.Animation);t.parent=this.node,e&&e.play(),u.default.instance.sendEventLevel(1)},e.prototype.showSettingPopup=function(){var t=this;this.settingPopup?this.settingPopup.active=!0:this.createPopupByType(s.PrefabType.SETTING,function(e){t.settingPopup=e,t.settingPopup.active=!0})},e.prototype.showSelectRoomPopup=function(){var t=this;this.selectRoomPopup?this.selectRoomPopup.active=!0:(this.showLoading(),this.createPopupByType(s.PrefabType.SELECT_ROOM,function(e){t.selectRoomPopup=e,t.selectRoomPopup.active=!0,t.hideLoading()}))},e.prototype.showSelectKingdomPopup=function(){var t=this;if(this.selectKingdomPopup)this.selectKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(s.PrefabType.SELECT_KINGDOM,function(e){t.selectKingdomPopup=e,t.selectKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomSelectCallback?this.loadKingdomSelectCallback=e:e()}},e.prototype.showBuildKingdomPopup=function(){var t=this;if(this.buildKingdomPopup)this.buildKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(s.PrefabType.BUILD_KINGDOM,function(e){t.buildKingdomPopup=e,t.buildKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomBuilderCallback?this.loadKingdomBuilderCallback=e:e()}},e.prototype.showSkinPopup=function(t){void 0===t&&(t=!0),this._showPopup("skinPopup",s.PrefabType.SKIN_POPUP,t)},e.prototype.showDailyPopup=function(t){void 0===t&&(t=!0),this._showPopup("dailyPopup",s.PrefabType.DAILY_POPUP,t)},e.prototype.showTaskPopup=function(t){void 0===t&&(t=!0),this._showPopup("task_popup",s.PrefabType.TASK_POPUP,t)},e.prototype.showDetectiveBoard=function(t){void 0===t&&(t=!0),this._showPopup("detective_board_popup",s.PrefabType.DETECTIVE_BOARD_POPUP,t)},e.prototype.showNewClue=function(t){void 0===t&&(t=!0),this._showPopup("new_clue",s.PrefabType.NEW_CLUE,t)},e.prototype._showPopup=function(t,e,o){var n=this;void 0===o&&(o=!0),this[t]?this[t].active=o:(this.showLoading(),this.createPopupByType(e,function(e){n[t]=e,n[t].active=o,n[t].position=cc.v3(),n.hideLoading()}))},e.prototype.createPopupByType=function(t,e,o){var n=this;void 0===o&&(o=null),null===o&&(o=t),c.default.instance.loadPrefabByType(t,function(t){var i=cc.instantiate(t);n.nodePopups.addChild(i,o),n.arrayPopup.push(i),e(i)})},e.prototype.showLoading=function(){this.loading&&(this.loading.active=!0)},e.prototype.hideLoading=function(){this.loading&&(this.loading.active=!1)},e.prototype.showIntroLevel4=function(t){var e=this;p.ResUtil.loadPrefab("prefabs/homePin2/Intro/IntroLevel4",function(o){var n=cc.instantiate(o);n.parent=e.node,t&&n.setPosition(e.node.position)},null)},e.prototype.getLanguage=function(){var t=window.location.search.substring(1).split("&"),e={};t.forEach(function(t){var o=t.split("="),n=o[0],i=o[1];e[n]=decodeURIComponent(i)});var o=e.hl;o&&(o=o.toUpperCase()),this.language=o,console.log("LANG:",this.language)},e._instance=null,r([v(a.default)],e.prototype,"audioPlayer",void 0),r([v(f.ScreenManager)],e.prototype,"screenManager",void 0),r([v(cc.Node)],e.prototype,"nodePopups",void 0),r([v(cc.Node)],e.prototype,"loading",void 0),r([v(cc.Prefab)],e.prototype,"testPrefab",void 0),r([v(cc.Integer)],e.prototype,"testStartLevel",void 0),r([v(cc.Prefab)],e.prototype,"Intro",void 0),r([v(h.FXFlyingCoins)],e.prototype,"fx_flying_coins",void 0),o=r([g],e)}(cc.Component);o.default=b,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./ScreenManager":"ScreenManager","./base/audio/AudioPlayer":"AudioPlayer","./base/glance_Global":"glance_Global","./config/AudioPlayId":"AudioPlayId","./ui/FXFlyingCoins":"FXFlyingCoins"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"3a8b2O4NT5ERLwibmvF3ST+","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Main=void 0;var a=t("../../../TS/Helper/Global"),c=t("../../../GameData"),s=t("../XCharacter"),l=t("../../../level/LevelCutScene"),p=t("../../../level/CinematicCamera"),u=t("../../../MainScene"),f=t("../../../config/GlobalSignals"),d=t("../../../config/TagObject"),h=t("../../drop/ObjectGO"),_=t("../../../level/LevelDataController"),y=t("../../../config/AudioPlayId"),g=t("../../../config/GlobalEnum"),v=t("../../../level/WinLoseManager"),b=cc._decorator,m=b.ccclass,S=b.property,C=b.menu,O=b.disallowMultiple,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collect="",e.slide="",e}var o;return i(e,t),o=e,e.prototype.playAnim=function(t,e,o){return t.setAnimation(0,this[e],o)},e.prototype.addAnim=function(t,e,o){return t.addAnimation(0,this[e],o)},e.prototype.getAnimDuration=function(t,e){return t.findAnimation(this[e]).duration},Object.defineProperty(e,"MAIN",{get:function(){var t=new o;return t.idle="Idle",t.move="Walking",t.slide="Slide",t.killed="Fall",t.die_rock="Die_Rock",t.die_bomb="Die_Bomb",t.die_ice="Freeze",t.collect="Collect_Clues",t.lose="Lose",t.win="Win3",t},enumerable:!1,configurable:!0}),r([S({tooltip:""})],e.prototype,"collect",void 0),r([S({tooltip:""})],e.prototype,"slide",void 0),o=r([m("MainCharacterAnimations")],e)}(s.CharacterAnimations),k=function(){function t(){this.stun=null,this.light=null,this.on_light=!0,this.camera_flash=null,this.torch_position=null,this.cam_focus=null}return Object.defineProperty(t.prototype,"torch_world_position",{get:function(){return this.torch_position.convertToWorldSpaceAR(cc.v3())},enumerable:!1,configurable:!0}),t.prototype.settup=function(){this.stun.active=!1,this.light&&(this.light.active=this.on_light,this.light.opacity=this.on_light?255:0),this.camera_flash&&(this.camera_flash.opacity=0)},t.prototype.execute_stun=function(){this.stun.active=!0},t.prototype.turn_on_light=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=255),this.light&&(this.light.active=!0,t?cc.tween(this.light).to(.25,{opacity:e}).start():this.light.opacity=e)},t.prototype.turn_off_light=function(t,e){var o=this;void 0===t&&(t=!0),void 0===e&&(e=0),this.light&&(t?cc.tween(this.light).to(.25,{opacity:e}).call(function(){return o.light.active=!1}).start():this.light.opacity=e)},t.prototype.reset_light_status=function(){this.light&&this.on_light&&this.turn_on_light()},t.prototype.taking_photo=function(t){void 0===t&&(t=.5),this.camera_flash&&cc.tween(this.camera_flash).delay(t).to(.1,{opacity:255}).call(function(){u.default.instance.audioPlayer.playAudio(y.AudioPlayId.effect_take_photo)}).delay(.15).to(.1,{opacity:0}).start()},r([S(cc.Node)],t.prototype,"stun",void 0),r([S(cc.Node)],t.prototype,"light",void 0),r([S({visible:function(){return!!this.light}})],t.prototype,"on_light",void 0),r([S(cc.Node)],t.prototype,"camera_flash",void 0),r([S(cc.Node)],t.prototype,"torch_position",void 0),r([S(cc.Node)],t.prototype,"cam_focus",void 0),r([m("MainExtendedNodeAnimations")],t)}(),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e._lvl_cutscene=null,e.extended=null,e.left_hand=null,e.right_hand=null,e.move_at_win=!1,e.pre_delay_move=3,e._end_slide_cb=null,e._is_collect_coin=!1,e}var o;return i(e,t),o=e,e.prototype.setLevelCutScene=function(t){this._lvl_cutscene=t},Object.defineProperty(e.prototype,"level_cutscene",{get:function(){return this._lvl_cutscene},enumerable:!1,configurable:!0}),e.prototype.onSetSkeleton=function(t){t?(this.animation=P.MAIN,this.extended=new k):this.animation=null},Object.defineProperty(e.prototype,"world_cam_focus_position",{get:function(){return this.extended.cam_focus?this.extended.cam_focus.convertToWorldSpaceAR(cc.v3()):this.node.convertToWorldSpaceAR(cc.v3())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end_slide_cb",{set:function(t){this._end_slide_cb=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),o.instance=this},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.extended.settup(),f.GlobalSignals.stopTogether.add(this.stop_move_then_idle.bind(this))},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),f.GlobalSignals.stopTogether.remove(this.stop_move_then_idle.bind(this))},e.prototype._startup_intro=function(){var t=this;this.lvl_transition.complete_event.add(this.do_idle,this);var e=function(){var e=cc.instance(_.LevelDataController);switch(e.start_option){default:t.show_intro();break;case _.ELDStartLevelOptions.SHOW_TASK_POPUP:e.showtaskble()?t.show_task_popup():t.show_intro()}};f.GlobalSignals.startLevel.have_any_listeners()?(this.show_task_popup(),f.GlobalSignals.startLevel.dispatch()):this._lvl_cutscene?this._lvl_cutscene.play(e):e()},e.prototype.show_task_popup=function(){u.default.instance.showTaskPopup(),f.GlobalSignals.closeTask.add(this.show_intro,this)},e.prototype.show_intro=function(){this.lvl_transition?this.lvl_transition.play():t.prototype._startup_intro.call(this),c.GameData.casted_intro=!0},e.prototype.initSkin=function(){a.PTS.spine.reload_skin_fullpack(this.skeleton,{replacer:c.GameData.currentSkinBoss},{replacer:c.GameData.currentShoeBoss},{replacer:c.GameData.currentHatBoss})},e.prototype._on_hit=function(e){t.prototype._on_hit.call(this,e),this.do_lose(g.ECharacterDieReason.KILL)},e.prototype._on_body_collide_to_redirect_anim=function(e){if(t.prototype._on_body_collide_to_redirect_anim.call(this,e),cc.instance(v.WinLoseManager).state==v.WinLoseState.WIN&&u.default.instance.audioPlayer.playAudio(y.AudioPlayId.main_thinking),!e.done)return this._state!=g.ECharacterState.MOVE?(this.move_ctrl.stop_force_type(),void(this._end_slide_cb&&this._end_slide_cb())):void 0},e.prototype._on_body_collide_to_ogo=function(e){var o=this;if(t.prototype._on_body_collide_to_ogo.call(this,e),this._state!=g.ECharacterState.LOSE&&e.check_type(d.TagConfig.COIN)){if(this._is_collect_coin)return;this._is_collect_coin=!0;var n=e.node.parent.getComponentsInChildren(h.ObjectGO),i=0;if(this.scheduleOnce(function(){for(var t=function(t){if(n[t].check_type(d.TagConfig.COIN)){if(o._state===g.ECharacterState.LOSE)return"break";0==t&&(i=o.collectGem()/2),t%6==0&&cc.tween(o.node).delay(.1).call(function(){}).start(),t==n.length-1&&u.default.instance.audioPlayer.playAudio(y.AudioPlayId.effect_coin_grab),n[t].fly_to_target(o.node,i,function(){n[t].do_complete()})}},e=0;e<n.length&&"break"!==t(e);e++);},1),this._state==g.ECharacterState.LOSE)return;cc.instance(v.WinLoseManager).invoke_win(2)}},e.prototype.onQuestPass=function(){var t=this;this._state!=g.ECharacterState.WIN&&this._state!==g.ECharacterState.LOSE&&(this._state=g.ECharacterState.WIN,this.playAnim("win"),this.onSoundWin(),this.offSoundIdle(),this.move_at_win&&this.scheduleOnce(function(){p.CinematicCamera.instance.setSyncTarget(t.extended.cam_focus),t.move_right()},this.pre_delay_move))},e.prototype.move_right=function(){this.do_move()&&(this.extended.reset_light_status(),this.move_ctrl.moveRight())},e.prototype.onQuestFail=function(){this._state!==g.ECharacterState.LOSE&&this.do_lose()},e.prototype.collectGem=function(t){return void 0===t&&(t=null),this._state===g.ECharacterState.COLLECT?0:(this._state=g.ECharacterState.COLLECT,this.stop_move(),this.playAnim("collect",!1,{complete_cb:t}),this.animation.getAnimDuration(this.skeleton,"collect"))},e.prototype.onCollectGem=function(){this.stop_move(),this.playAnim("collect")},e.prototype.onAutoMove=function(){},e.prototype.playAnim=function(e,o,n){void 0===o&&(o=!0),void 0===n&&(n=null);var i=t.prototype.playAnim.call(this,e,o,n);switch(e){case"collect":return this.extended.turn_off_light(!1),i;case"die_rock":return this.extended.execute_stun(),i;case"win":return"TakePhoto"===this.animation.win?(this.extended.taking_photo(),this.skeleton.addAnimation(i.trackIndex,"TakePhoto_Idle",!0),i):("Lantern_On"==this.animation.win||"Flashlight_On"==this.animation.win||"Win5"==this.animation.win?this.extended.turn_on_light():this.extended.turn_off_light(),i);case"move":return this._state==g.ECharacterState.MOVE&&this.onSoundMove(),"Walking_Torch_On"==this.animation.move&&this.extended.turn_on_light(),i}return i},e.prototype.do_slide=function(t){void 0===t&&(t=null),this._state!==g.ECharacterState.SLIDE&&(this._state=g.ECharacterState.SLIDE,this.move_ctrl.set_force_type(cc.RigidBodyType.Dynamic),this.extended.turn_off_light(),this.playAnim("slide"),this._end_slide_cb=t)},e.prototype._onHandCollider=function(){},Object.defineProperty(e.prototype,"world_right_hand_position",{get:function(){return this.right_hand.convertToWorldSpaceAR(cc.v3())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"world_left_hand_position",{get:function(){return this.left_hand.convertToWorldSpaceAR(cc.v3())},enumerable:!1,configurable:!0}),e.prototype.after_lose=function(){this.extended.turn_off_light(!1),cc.instance(v.WinLoseManager).invoke_fail()},e.instance=null,r([S({type:P,override:!0,visible:function(){return!!this.animation}})],e.prototype,"animation",void 0),r([S(l.LevelCutScene)],e.prototype,"_lvl_cutscene",void 0),r([S({type:l.LevelCutScene,visible:function(){return this.lvl_cutscene}})],e.prototype,"level_cutscene",null),r([S({type:k,visible:function(){return!!this.extended}})],e.prototype,"extended",void 0),r([S(cc.Node)],e.prototype,"left_hand",void 0),r([S(cc.Node)],e.prototype,"right_hand",void 0),r([S()],e.prototype,"move_at_win",void 0),r([S({min:0,visible:function(){return this.move_at_win}})],e.prototype,"pre_delay_move",void 0),o=r([m,C("Character/Main"),O],e)}(s.XCharacter);o.Main=R,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../TS/Helper/Global":"Global","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalEnum":"GlobalEnum","../../../config/GlobalSignals":"GlobalSignals","../../../config/TagObject":"TagObject","../../../level/CinematicCamera":"CinematicCamera","../../../level/LevelCutScene":"LevelCutScene","../../../level/LevelDataController":"LevelDataController","../../../level/WinLoseManager":"WinLoseManager","../../drop/ObjectGO":"ObjectGO","../XCharacter":"XCharacter"}],MapLevel:[function(t,e,o){"use strict";cc._RF.push(e,"93a86QtMkBNjpRK2sTnJOCG","MapLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/QuestType"),c=t("../config/GameState"),s=t("../config/GlobalSignals"),l=t("../objects/barrier/StickHold"),p=t("../base/TouchManager"),u=t("../objects/more/ItemLoot"),f=t("../base/utils/ArrayUtil"),d=t("../GameData"),h=t("../PlayScreen"),_=t("../config/ItemLevelType"),y=t("../config/ItemLevelSkin"),g=t("../objects/homePin2/Container"),v=t("../objects/more/ItemPuzzle"),b=t("../objects/homePin2/Libbey"),m=t("../objects/more/ItemLevel"),S=cc._decorator,C=S.ccclass,O=S.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questType=a.QuestType.COLLECT_GEMS,e.gameState=c.GameState.BEGIN,e.itemLevelType=_.ItemLevelType.NONE,e.itemLevel=null,e.itemLevelSkin=y.ItemLevelSkin.NONE,e.itemSkin=null,e.totalGems=0,e.total=0,e.arrStickToActive=[],e.arrStickBonus=[],e.arrEnemies=[],e.arrTheif=[],e.itemLoot=null,e.itemPuzzle=null,e.tipLabel=null,e.notifiNode=null,e.isCollectGems=!1,e.container=null,e._countGemsDestroyForBomb=0,e._countCoalDestroyed=0,e._skinItemDestroyed=!1,e._countGemsCollected=0,e._rockContainer=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.gameState===c.GameState.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestBuilding",{get:function(){return this.questType===a.QuestType.BUILD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectGems",{get:function(){return this.questType===a.QuestType.COLLECT_GEMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectWater",{get:function(){return this.questType===a.QuestType.COLLECT_WATER},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSmoke",{get:function(){return this.questType===a.QuestType.COLLECT_SMOKE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectFire",{get:function(){return this.questType===a.QuestType.COLLECT_FIRE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSingleItem",{get:function(){return this.questType===a.QuestType.COLLECT_SINGLE_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectSkin",{get:function(){return this.questType===a.QuestType.COLLECT_SKIN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectItem",{get:function(){return this.questType===a.QuestType.COLLECT_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestSaveHostage",{get:function(){return this.questType===a.QuestType.SAVE_HOSTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestKillEnemies",{get:function(){return this.questType===a.QuestType.KILL_ENEMY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestOpenChest",{get:function(){return this.questType===a.QuestType.OPEN_CHEST},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectPuzzle",{get:function(){return this.questType===a.QuestType.COLLECT_PUZZLE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIntro",{get:function(){return this.questType===a.QuestType.INTRO},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsDestroyForBomb",{get:function(){return this._countGemsDestroyForBomb},set:function(t){this._countGemsDestroyForBomb=t,this._countGemsDestroyForBomb>10&&this.isQuestCollectGems&&this.isPlaying&&(b.default,s.GlobalSignals.questFailSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countCoalDestroyed",{get:function(){return this._countCoalDestroyed},set:function(t){this._countCoalDestroyed=t,15===this._countCoalDestroyed&&this.isQuestCollectFire&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skinItemDestroyed",{set:function(t){this._skinItemDestroyed=t,1==this._skinItemDestroyed&&this.isQuestCollectSkin&&s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsCollected",{get:function(){return this._countGemsCollected},set:function(t){this._countGemsCollected=t,5===this._countGemsCollected&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,s.GlobalSignals.collectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rockContainer",{get:function(){return this._rockContainer||(this._rockContainer=new cc.Node,this.node.addChild(this._rockContainer)),this._rockContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(o._instance=this,this.isQuestCollectWater||this.isQuestCollectSmoke){var t=this.node.getComponentInChildren(g.default);t&&(this.container=t)}},e.prototype.onEnable=function(){this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),console.log("MAP LEVEL SUCCESS ENABLED")},e.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.gameState=c.GameState.PLAYING},.6);var e=this.onActiveStick.bind(this),o=this.onActiveStickBonus.bind(this);this.arrStickToActive.forEach(function(t){t.setHoldCallback(e)}),this.arrStickBonus.forEach(function(t){t.setActiveStickBonusCallback(o)}),this.arrStickBonus&&(d.GameData.coinStickBonus=0),p.default.instance&&p.default.instance.reset(),h.default.instance.checkDoneGetCoin=!1},e.prototype.onDisable=function(){s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal)},e.prototype.onQuestFail=function(){this.gameState=c.GameState.LOSE},e.prototype.onQuestPass=function(){this.gameState=c.GameState.WIN},e.prototype.onActiveStick=function(t){var e=this;1!==this.arrStickToActive.length?(f.default.removeElement(this.arrStickToActive,t),0===this.arrStickToActive.length&&this.scheduleOnce(function(){e.isPlaying&&s.GlobalSignals.autoMoveSignal.dispatch()},.25)):o.instance.gameState==c.GameState.PLAYING&&this.scheduleOnce(function(){e.isPlaying&&s.GlobalSignals.questFailSignal.dispatch()},5)},e.prototype.onActiveStickBonus=function(t){-1!=this.arrStickBonus.indexOf(t)&&(d.GameData.coinStickBonus+=t.coinBonus)},e.prototype.onEnemiesDead=function(t){var e=this;0!==this.arrEnemies.length&&(f.default.removeElement(this.arrEnemies,t),0===this.arrEnemies.length&&this.isQuestKillEnemies&&this.scheduleOnce(function(){e.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()},.6))},e.prototype.replaceItemByChest=function(){cc.log("replaceItemByChest");var t=cc.instantiate(this.itemLoot.chestPrefab);this.node.addChild(t),t.position=this.itemLoot.node.position,t.setSiblingIndex(this.itemLoot.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=a.QuestType.OPEN_CHEST,h.default.instance.updateLevelInfo(d.GameData.currentLevelId,this.questType),this.itemLoot.node.destroy()},e.prototype.replacePuzzle=function(){cc.log("ReplacemoneyBag");var t=cc.instantiate(this.itemPuzzle.moneyBag);this.node.addChild(t),t.position=this.itemPuzzle.node.position,t.setSiblingIndex(this.itemPuzzle.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.questType=a.QuestType.COLLECT_SINGLE_ITEM,h.default.instance.updateLevelInfo(d.GameData.currentLevelId,this.questType),this.itemPuzzle.node.destroy()},e.prototype.checkSkinForReplace=function(t,e,o){if(-1!=t.indexOf(e)&&o)return!0},e.prototype.replaceItem=function(t){var e=t.getComponent(m.default).itemDefault,n=cc.instantiate(e);n.setPosition(this.itemSkin.position),n.setSiblingIndex(this.itemSkin.zIndex),this.node.addChild(n),this.node.removeChild(t),o.instance.questType=a.QuestType.COLLECT_SINGLE_ITEM},e._instance=null,r([O({type:cc.Enum(a.QuestType)})],e.prototype,"questType",void 0),r([O({type:cc.Enum(_.ItemLevelType),visible:function(){return this.questType==a.QuestType.COLLECT_SINGLE_ITEM}})],e.prototype,"itemLevelType",void 0),r([O({type:cc.Node,visible:function(){return this.itemLevelType&&this.questType==a.QuestType.COLLECT_SINGLE_ITEM}})],e.prototype,"itemLevel",void 0),r([O({type:cc.Enum(y.ItemLevelSkin),visible:function(){return this.questType==a.QuestType.COLLECT_SKIN}})],e.prototype,"itemLevelSkin",void 0),r([O({type:cc.Node,visible:function(){return this.itemLevelSkin&&this.questType==a.QuestType.COLLECT_SKIN}})],e.prototype,"itemSkin",void 0),r([O({type:cc.Integer,visible:function(){return this.questType==a.QuestType.COLLECT_GEMS}})],e.prototype,"totalGems",void 0),r([O({type:cc.Integer,visible:function(){return this.questType==a.QuestType.COLLECT_FIRE}})],e.prototype,"total",void 0),r([O([l.default])],e.prototype,"arrStickToActive",void 0),r([O([l.default])],e.prototype,"arrStickBonus",void 0),r([O([cc.Node])],e.prototype,"arrEnemies",void 0),r([O([cc.Node])],e.prototype,"arrTheif",void 0),r([O(u.default)],e.prototype,"itemLoot",void 0),r([O(v.default)],e.prototype,"itemPuzzle",void 0),r([O(cc.Label)],e.prototype,"tipLabel",void 0),r([O(cc.Node)],e.prototype,"notifiNode",void 0),o=r([C],e)}(cc.Component);o.default=P,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../base/TouchManager":"TouchManager","../base/utils/ArrayUtil":"ArrayUtil","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/ItemLevelType":"ItemLevelType","../config/QuestType":"QuestType","../objects/barrier/StickHold":"StickHold","../objects/homePin2/Container":"Container","../objects/homePin2/Libbey":"Libbey","../objects/more/ItemLevel":"ItemLevel","../objects/more/ItemLoot":"ItemLoot","../objects/more/ItemPuzzle":"ItemPuzzle"}],MarkCollider:[function(t,e){"use strict";cc._RF.push(e,"aac99X94BpGh65hWh6R0Ha3","MarkCollider"),cc._RF.pop()},{}],MaskPolygon:[function(t,e,o){"use strict";cc._RF.push(e,"9d10f6I84VBM6Pko3EA5w94","MaskPolygon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};this&&this.__spreadArrays,Object.defineProperty(o,"__esModule",{value:!0}),o.MaskPolygon=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.requireComponent,p=a.executeInEditMode,u=a.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._graph=null,e._poly=[cc.v2(-100,0),cc.v2(100,0),cc.v2(0,100),cc.v2(0,-100)],e}return i(e,t),Object.defineProperty(e.prototype,"poly",{get:function(){return this._poly},set:function(t){this._poly=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){this._graph||(this._graph=this.getComponent(cc.Mask)._graphics),this._graph.clear();for(var t=0,e=this.poly;t<e.length;t++){var o=e[t];0===this.poly.indexOf(o)?this._graph.moveTo(o.x,o.y):this._graph.lineTo(o.x,o.y)}this._graph.close(),this._graph.fill()},e.prototype.onLoad=function(){this._graph=this.getComponent(cc.Mask)._graphics},e.prototype.onEnable=function(){this._refresh()},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},r([s(cc.Graphics)],e.prototype,"_graph",void 0),r([s([cc.Vec2])],e.prototype,"_poly",void 0),r([s([cc.Vec2])],e.prototype,"poly",null),r([c,l(cc.Mask),p,u("MeshTexture/Mask Polygon")],e)}(cc.Component);o.MaskPolygon=f,cc._RF.pop()},{}],MatchBoxContainerGO:[function(t,e,o){"use strict";cc._RF.push(e,"59c8dD/MKFFALLevHUb0r+P","MatchBoxContainerGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MatchBoxContainerGO=void 0;var a=t("../../config/GlobalSignals"),c=t("./ContainerGO"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disappear_match_box_timer=.4,e.light=null,e._tweens=[],e._on_complete_move_ball=function(t){e.tween(t.model_node).to(e.disappear_match_box_timer,{scale:0}).call(function(){e.tween(e.light.node).to(.25,{opacity:255}).call(function(){e.light.play(),a.GlobalSignals.questPassSignal.dispatch()}).start()}).start()},e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.light.node.opacity=0},e.prototype.onDisable=function(){t.prototype.onDisable.call(this);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop()},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},r([p({min:0})],e.prototype,"disappear_match_box_timer",void 0),r([p({type:cc.Animation})],e.prototype,"light",void 0),r([l,u("Object/Container/Match Box Container")],e)}(c.ContainerGO);o.MatchBoxContainerGO=f,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","./ContainerGO":"ContainerGO"}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b05f8iW0xpDR7/QZeh1WLv8","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.randomRange=o.MathUtil=void 0;var n=function(){function t(){}return t.randomBeetWeenFloor=function(t,e){return Math.floor(this.randomBeetWeen(t,e))},t.randomBeetWeenFloor1=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.randomBeetWeen=function(t,e){return Math.random()*(e-t)+t},t.getEuclidDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.randomInt=function(t){return Math.floor(Math.random()*t)},t.getRandomFrom=function(t){return t[this.randomInt(t.length)]},t.getRandomSurround=function(t,e){var o=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.x,n=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.y;return new cc.Vec2(o,n)},t}();o.MathUtil=n,o.randomRange=function(t,e,o){void 0===o&&(o=2);var n=Math.ceil(o);return parseFloat((Math.random()*(e-t)+t).toFixed(n))},cc._RF.pop()},{}],MeshPolygonSprite:[function(t,e,o){"use strict";cc._RF.push(e,"19340gxmzBDwqlIfWfOgECv","MeshPolygonSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.gfx,c=cc._decorator,s=c.ccclass,l=c.property,p=c.executeInEditMode,u=c.requireComponent,f=c.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._offset_=cc.v2(0,0),e._sprite_frame_=null,e._selecting_index_=0,e._remove_selecting_index_=!1,e._add_polygon_=!1,e._p_polygon_=null,e._vertexes_=[cc.v2(0,0),cc.v2(0,100),cc.v2(100,100),cc.v2(100,0)],e.renderer=null,e.mesh=null,e._meshCache={},e}return i(e,t),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset_},set:function(t){this._offset_=t,this._updateMesh(),this._applyVertexes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteFrame",{get:function(){return this._sprite_frame_},set:function(t){this._sprite_frame_=t,this._refreshAll()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selecting_index",{get:function(){return this._selecting_index_},set:function(t){this._selecting_index_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"confirm_remove",{get:function(){return this._remove_selecting_index_},set:function(t){this._remove_selecting_index_=t,t&&(this._remove_selecting_index_=!1,this._remove_action(),this._resync_polygon(),this._updateMesh(),this._applyVertexes())},enumerable:!1,configurable:!0}),e.prototype._remove_action=function(){this.vertexes.splice(this.selecting_index,1)},Object.defineProperty(e.prototype,"add_polygon",{get:function(){return this._add_polygon_},set:function(t){this._add_polygon_=t,t&&(this._add_polygon_=!1,this._add_polygon_func(),this._resync_polygon())},enumerable:!1,configurable:!0}),e.prototype._add_polygon_func=function(){this._p_polygon_=this.node.addComponent(cc.PhysicsPolygonCollider)},e.prototype._resync_polygon=function(){if(this.p_polygon){this._p_polygon_.points=[];for(var t=0;t<this._vertexes_.length;t++)this._p_polygon_.points[t]=this._vertexes_[t]}},Object.defineProperty(e.prototype,"p_polygon",{get:function(){return this._p_polygon_=this.node.getComponent(cc.PhysicsPolygonCollider),this._p_polygon_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexes",{get:function(){return this._vertexes_},set:function(t){this._vertexes_=t,this._resync_polygon(),this._updateMesh(),this._applyVertexes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refresh_all",{get:function(){return!1},set:function(t){t&&this._refreshAll()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._meshCache={};var t=this.node.getComponent(cc.MeshRenderer)||this.node.addComponent(cc.MeshRenderer);t.mesh=null,this.renderer=t;var e=cc.Material.getBuiltinMaterial("unlit");t.setMaterial(0,e)},e.prototype.onEnable=function(){this._refreshAll()},e.prototype._refreshAll=function(){this._updateMesh(),this._applySpriteFrame(),this._applyVertexes()},e.prototype._updateMesh=function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),this.mesh=t},e.prototype._lerp=function(t,e,o){return t+o*(e-t)},e.prototype._applyVertexes=function(){var t=this.mesh;if(t.setVertices(a.ATTR_POSITION,this.vertexes),this._calculateUV(),this.vertexes.length>=3){var e=[],o=this.vertexes.map(function(t){return{x:t.x,y:t.y}}),n=new poly2tri.SweepContext(o,{cloneArrays:!0});try{n.triangulate(),n.getTriangles().forEach(function(t){t.getPoints().forEach(function(t){var n=o.indexOf(t);e.push(n)})})}catch(i){console.error("poly2tri error",i)}0===e.length&&(console.error("Failing to calculate the vertex index."),e.push.apply(e,this.vertexes.map(function(t,e){return e}))),t.setIndices(e),this.renderer.mesh=t}},e.prototype._calculateUV=function(){var t=this.mesh;if(this.spriteFrame){for(var e=this.spriteFrame.uv,o=this.spriteFrame.getTexture(),n=e[0],i=e[6],r=e[3],c=e[5],s=[],l=0,p=this.vertexes;l<p.length;l++){var u=p[l],f=this._lerp(n,i,(u.x+o.width/2+this.offset.x)/o.width),d=this._lerp(r,c,(u.y+o.height/2-this.offset.y)/o.height);s.push(cc.v2(f,d))}t.setVertices(a.ATTR_UV0,s)}},e.prototype._applySpriteFrame=function(){if(this.spriteFrame){var t=this.renderer.getMaterial(0),e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e),t.setProperty("diffuseColor",this.node.color)}},e.prototype.onRestore=function(){this._updateMesh(),this._applyVertexes()},r([l],e.prototype,"_offset_",void 0),r([l({type:cc.Vec2,tooltip:"The offset."})],e.prototype,"offset",null),r([l],e.prototype,"_sprite_frame_",void 0),r([l({type:cc.SpriteFrame,tooltip:"The sprite-frame that needed to be edited."})],e.prototype,"spriteFrame",null),r([l],e.prototype,"_selecting_index_",void 0),r([l({displayName:"The current select index.",readonly:!0})],e.prototype,"selecting_index",null),r([l],e.prototype,"_remove_selecting_index_",void 0),r([l({displayName:"Remove Current Select Index."})],e.prototype,"confirm_remove",null),r([l],e.prototype,"_add_polygon_",void 0),r([l({visible:function(){return!this.p_polygon}})],e.prototype,"add_polygon",null),r([l],e.prototype,"_p_polygon_",void 0),r([l],e.prototype,"_vertexes_",void 0),r([l({type:cc.Vec2,tooltip:"An array storage all the position of the vertex."})],e.prototype,"vertexes",null),r([l()],e.prototype,"refresh_all",null),r([s,p,u(cc.MeshRenderer),f("MeshTexture/MeshPolygonSprite")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],Mom:[function(t,e,o){"use strict";cc._RF.push(e,"ce935JmeGhBwKF+5C9yvUHZ","Mom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../config/GlobalSignals"),c=t("../../../config/GroupConfig"),s=t("../Character"),l=t("../../../base/ColliderCallback"),p=t("../../../config/TagObject"),u=t("../../../level/MapLevel"),f=t("../../../config/GameState"),d=t("../../more/ItemLoot"),h=t("../../../MainScene"),_=t("../../more/ItemChest"),y=t("../../../config/SkinConfig"),g=t("../../../GameData"),v=t("../../../config/ItemLevelSkin"),b=t("../../../puzzles/PuzzlesPopup"),m=t("../../../config/CaseSound"),S=t("../../homePin2/Libbey"),C=t("../../../config/GameConfig"),O=cc._decorator,P=O.ccclass,k=O.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sitAnim="AnimBonus/1",e.winAnim="Bae_Win",e.winAnim2="Bae_Win2",e.winAnimConnect="Food_WinStand",e.failAnim="Fail",e.failAnim1="Fail2",e.jumpCollider=null,e.lbProcess=null,e.haveBaby=!1,e.haveThirty=!1,e.havePanic=!1,e.haveSmoke=!1,e.haveStove=!1,e.openLockAnim="OpenLock",e.flowerAnim="Flower",e.flowerAnim2="Flower2",e.stickSkin="Boss0/Stick",e.idleStickAnim="IdleStick",e.superSkin="SuperMan/Boss",e.superAppearAnim="SuperAppear",e.superAttackAnim="SuperAttack",e.superIdleAnim="SuperIdle",e.superWinAnim="SuperWin",e.superOpenLockAnim="SuperChest",e.superFlowerAnim="SuperFlower",e.superFlowerAnim2="SuperFlower2",e.dirtyAnim="GamePlay1/Lose",e.soundIdle=null,e.soundWin=null,e.soundLose=null,e.isAutoMove=!1,e.rate=0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this),this.initBossSkin()},e.prototype.initBossSkin=function(){if(this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop(),g.GameData.currentSkinBoss)var t=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentSkinBoss);if(g.GameData.currentHatBoss)var e=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentHatBoss);if(g.GameData.currentShoeBoss)var o=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentShoeBoss);if(g.GameData.currentScarfBoss)var n=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentScarfBoss);if(g.GameData.currentScarfBoss)var i=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentGloveBoss);if(g.GameData.currentEarBoss)var r=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentEarBoss);var a=new sp.spine.Skin("Temp");a.addSkin(t),e&&a.addSkin(e),o&&a.addSkin(o),n&&(g.GameData.currentSkinBoss!=y.SkinConfig.arraySkinBoss[0].skins[0]&&g.GameData.currentSkinBoss!=C.GameConfig.boss_skin_default||a.addSkin(n)),i&&a.addSkin(i),r&&a.addSkin(r),this.skeleton.skeletonData.getRuntimeData().skins.push(a),this.skeleton.setSkin(a.name)},e.prototype.start=function(){this.hit&&(this.hit.active=!1),this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this)),this.onSoundColdIdle(),0==g.GameData.currentLevelId&&h.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onDirty=this.onDirty.bind(this)},e.prototype.onDisable=function(){},e.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},e.prototype.onSoundColdIdle=function(){},e.prototype.offSoundColdIdle=function(){h.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){},e.prototype.onSoundLose=function(){},e.prototype.onSoundWinPuzzle=function(){},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var t=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){u.default.instance.gameState!=f.GameState.LOSE&&a.GlobalSignals.questPassSignal.dispatch()},t)},e.prototype.onQuestPass=function(){var t=this;if(this.isAlive){if(u.default.instance.isCollectPuzzle)return this.offSoundColdIdle(),void b.default.instance.setPlayAnimCallBack(function(){t.playAnimation(t.winAnimConnect).addAnimation(t.winAnim).addAnimation(t.winAnim2,!0)});if(!u.default.instance.isQuestSaveHostage&&!this.isDirty)return this.playAnimation(this.winAnim).addAnimation(this.winAnim2,!0),this.onSoundWin(this.soundWin),void this.offSoundColdIdle();console.log(g.GameData.currentRoomId),u.default.instance.isQuestCollectSingleItem&&0==g.GameData.currentRoomId&&cc.tween(this.node).call(function(){t.playAnimation("Walk2",!0)}).by(1.2,{position:cc.v3(100,0,0)}).start()}},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&!this.isDirty&&(this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),this.onSoundLose(),this.offSoundColdIdle())},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&u.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&u.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return t.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(t){if(this.isAlive&&u.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(t.node.group===c.GroupConfig.GEMS&&(t.node.name==p.TagConfig.COIN||t.node.name==p.TagConfig.CANDY?t.node.active=!1:u.default.instance.countGemsCollected++),t.node.group!==c.GroupConfig.LAVA)if(t.node.group!==c.GroupConfig.SNOW){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==p.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(t.node.name==p.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(t.node.name==p.TagConfig.REDIRECT_STOP)return void this.stopMove();if(t.node.name==p.TagConfig.BOMB)return void this.onDieFire();(t.node.name==p.TagConfig.GAS||t.node.name==p.TagConfig.BOMB||t.node.name==p.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}t.node.group!==c.GroupConfig.DIRTY||(this.isDirty?t.node.active=!1:a.GlobalSignals.playAnimPlayerSignal.dispatch())}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){var e=this;if(this.isAlive&&u.default.instance.isPlaying){if(t.node.group===c.GroupConfig.ITEM){if(t.node.name==p.TagConfig.STICK){cc.log("Boss onAttackCollider: STICK = "+t.node.name);try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.destroy()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(t.node.name==p.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+t.node.name),!(n=t.node.getComponent(d.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem();var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){u.default.instance.isPlaying&&u.default.instance.isQuestCollectItem&&a.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(t.node.name==p.TagConfig.CHEST)return cc.log("Boss onAttackCollider: ITEM = "+t.node.name),(n=t.node.getComponent(_.default))?(this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){e.isAlive&&u.default.instance.isPlaying&&(u.default.instance.isCollectGems=!0,a.GlobalSignals.collectGemsSignal.dispatch(),e.scheduleOnce(function(){e.isAlive&&u.default.instance.isPlaying&&(u.default.instance.gameState=f.GameState.WIN,u.default.instance.isPlaying&&u.default.instance.isQuestOpenChest&&a.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return t.node.group===c.GroupConfig.CHARACTER&&this.getCurrentSkin()===this.stickSkin&&t.node.name==p.TagConfig.STEALER?void this.playAttack(t.node):void 0}},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===c.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){if(this.isAlive&&u.default.instance.isPlaying)return cc.log("other.node.name: "+t.node.name),t.node.group===c.GroupConfig.CHARACTER&&t.node!=this.node&&this.getCurrentSkin()===this.stickSkin&&t.node.name==p.TagConfig.STEALER?void this.walkToTarget(t.node):void 0},e.prototype.onHandCollider=function(t){var e=this;if(this.isAlive&&u.default.instance.isPlaying)if(t.node.group!==c.GroupConfig.GEMS)if(t.node.group!==c.GroupConfig.COLLIDER||t.node.name!=p.TagConfig.BOMB){if(t.node.group===c.GroupConfig.ITEM){if(u.default.instance.isQuestCollectSkin){var o=v.ItemSkinLevel.getSkinName(u.default.instance.itemLevelSkin);return void this.runEffectItemWin(t.node,this.headCollider.node,function(){e.addSkinBoss(u.default.instance.itemLevelSkin,o),a.GlobalSignals.questPassSignal.dispatch()},!0)}if(u.default.instance.isPlaying&&u.default.instance.isQuestCollectSingleItem)switch(parseInt(t.node.name,10)){case p.TagConfig.KEY:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){a.GlobalSignals.questPassSignal.dispatch()});break;case p.TagConfig.MILK:this.handCollider.node.active=!1,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinBoss(v.ItemLevelSkin.ITEMHAND,"Foods/Milk"),e.soundWin=m.CaseSound.EATBREAD,a.GlobalSignals.questPassSignal.dispatch()},!0);break;case p.TagConfig.BREAD:this.handCollider.node.active=!1,this.soundWin=m.CaseSound.EATBREAD,this.runEffectItemWin(t.node,this.handCollider.node,function(){e.addSkinBoss(v.ItemLevelSkin.ITEMHAND,"Foods/Bread"),a.GlobalSignals.questPassSignal.dispatch()},!0);break;case p.TagConfig.GIFT_BOX:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){a.GlobalSignals.questPassSignal.dispatch()},!0);break;case p.TagConfig.PUZZLE:this.soundWin=m.CaseSound.WINPUZZLE,this.runEffectItemWin(t.node,this.bodyCollider.node,function(){a.GlobalSignals.questPassSignal.dispatch()},!0);break;default:this.runEffectItemWin(t.node,this.bodyCollider.node,function(){a.GlobalSignals.questPassSignal.dispatch()},!0)}u.default.instance.isIntro&&(t.node.active=!1,this.scheduleOnce(function(){e.playAnimation("Intro/Idle_Intro2",!0)},1.2),a.GlobalSignals.questPassIntro.dispatch())}}else this.onDieFire();else if(t.node.name==p.TagConfig.COIN){if(this.lbProcess&&u.default.instance.totalGems){var n=u.default.instance.totalGems;this.rate+=1/n*100,this.lbProcess.string=this.rate<100?Math.floor(this.rate)+"%":"100%",this.rate>=100&&u.default.instance.isPlaying&&a.GlobalSignals.questPassSignal.dispatch()}return}},e.prototype.runEffectItemWin=function(t,e,o,n){var i=t.parent.convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),r=Math.abs(t.angle%360);t.angle=r;var a;a=r<180?0:360,t.getComponent(cc.RigidBody).fixedRotation=!0,t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var c=cc.tween().to(.5,{angle:a,scale:1.2}),s=cc.tween().to(.5,{scale:1});t.removeComponent(cc.BoxCollider),cc.tween(t).sequence(c,s).repeat(2).delay(.5).to(.3,{position:i}).call(function(){o(),n&&(t.active=!1)}).start()},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){u.default.instance.isPlaying&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleStickAnim,!0),e.hit.active=!1,e.stopMove())})},e.prototype.changeSkinToStickBoss=function(){var t=this;this.changeSkin(this.stickSkin),this.playAnimation(this.idleStickAnim,!0),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40;var e=this.groundCollider.node.getComponent(p.default);e&&(e.setTag(p.TagConfig.BOSS_STICK),cc.log("changeSkinToStickBoss")),this.scheduleOnce(function(){t.searchCollider.refreshPingToTarget()},.1)},e.prototype.addSkinBoss=function(t,e){this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop();var o,n,i=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentSkinBoss),r=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentHatBoss),a=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentShoeBoss),c=this.skeleton.skeletonData.getRuntimeData().findSkin(g.GameData.currentScarfBoss);switch(t){case v.ItemLevelSkin.HAT:r=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBoss({key:g.GameData.KEY_BOSS_HATS,array:g.GameData.myBossHats},y.SkinConfig.arraySkinBoss[0].skinId,function(){}),g.GameData.setHatBoss(e,function(){});break;case v.ItemLevelSkin.SHOE:a=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBoss({key:g.GameData.KEY_BOSS_SHOES,array:g.GameData.myBossShoes},y.SkinConfig.arraySkinBoss[0].skinId,function(){}),g.GameData.setShoeBoss(e,function(){});break;case v.ItemLevelSkin.SHIRT:i=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBoss({key:g.GameData.KEY_BOSS_SKINS,array:g.GameData.myBossSkins},y.SkinConfig.arraySkinBoss[0].skinId,function(){}),g.GameData.setSkinBoss(e,function(){});break;case v.ItemLevelSkin.EAR:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBoss({key:g.GameData.KEY_BOSS_HATS,array:g.GameData.myBossHats},y.SkinConfig.arraySkinBoss[0].skinId,function(){}),g.GameData.setHatBoss(e,function(){});break;case v.ItemLevelSkin.GLOVES:o=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBossOther(g.GameData.KEY_BOSS_CURRENT_GLOVES);break;case v.ItemLevelSkin.SCARF:c=this.skeleton.skeletonData.getRuntimeData().findSkin(e),g.GameData.addSkinBossOther(g.GameData.KEY_BOSS_CURRENT_SCARF);break;case v.ItemLevelSkin.ITEMHAND:n=this.skeleton.skeletonData.getRuntimeData().findSkin(e)}var s=new sp.spine.Skin("Temp");s.addSkin(i),c&&g.GameData.currentSkinBoss==C.GameConfig.boss_skin_default&&s.addSkin(c),r&&s.addSkin(r),a&&s.addSkin(a),o&&s.addSkin(o),n&&s.addSkin(n),this.skeleton.skeletonData.getRuntimeData().skins.push(s),this.skeleton.setSkin(s.name)},e.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDieFire=function(){this.stopMove(),this.playAnimation(this.dieFireAnim,!0),this.isAlive=!1;var t=u.default.instance.node.getComponentInChildren(S.default);t&&(t.node.active=!1),a.GlobalSignals.questFailSignal.dispatch(),this.offSoundColdIdle()},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch()},e.prototype.onDirty=function(){this.isDirty=!0,this.playAnimation(this.dirtyAnim,!0),a.GlobalSignals.questFailSignal.dispatch(),this.offSoundColdIdle()},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAutoMove=!1},e._instance=null,r([k(cc.String)],e.prototype,"winAnim",void 0),r([k(cc.String)],e.prototype,"winAnim2",void 0),r([k(cc.String)],e.prototype,"winAnimConnect",void 0),r([k(cc.String)],e.prototype,"failAnim",void 0),r([k(cc.String)],e.prototype,"failAnim1",void 0),r([k(l.default)],e.prototype,"jumpCollider",void 0),r([k(cc.Label)],e.prototype,"lbProcess",void 0),r([k(cc.Boolean)],e.prototype,"haveBaby",void 0),r([k(cc.Boolean)],e.prototype,"haveThirty",void 0),r([k(cc.Boolean)],e.prototype,"havePanic",void 0),r([k(cc.Boolean)],e.prototype,"haveSmoke",void 0),r([k(cc.Boolean)],e.prototype,"haveStove",void 0),r([k(cc.String)],e.prototype,"dirtyAnim",void 0),o=r([P],e)}(s.default);o.default=R,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../base/ColliderCallback":"ColliderCallback","../../../config/CaseSound":"CaseSound","../../../config/GameConfig":"GameConfig","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/ItemLevelSkin":"ItemLevelSkin","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../puzzles/PuzzlesPopup":"PuzzlesPopup","../../homePin2/Libbey":"Libbey","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character"}],MoveCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"e8b3bJpT95DF5LXqOlQdvTC","MoveCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/PhysicalEnable"),c=t("../../config/GroupConfig"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Velocity_X=120,e.Jump=30,e.enableOverTerrain=!0,e.on_ground_detection=!0,e.ground_checker_step=15,e.enable_sliding=!1,e.Rigid_Body=null,e.Direction=0,e._on_ground_detector=null,e._physX_comp=null,e._is_ground=!1,e._force_type=null,e._moving=!1,e._mask_direction=0,e}return i(e,t),Object.defineProperty(e.prototype,"is_ground",{get:function(){return this._is_ground},enumerable:!1,configurable:!0}),e.prototype.set_force_type=function(t){this._force_type=t},e.prototype.stop_force_type=function(){this._force_type=null},e.prototype.onLoad=function(){this.Rigid_Body=this.node.getComponent(cc.RigidBody),this._physX_comp=this.node.getComponent(cc.PhysicsCollider)},e.prototype.start=function(){var t=this,e=1e3*this.Rigid_Body.getMass();this.Walk_Force=e,this.Jump_Force=e*this.Jump,this.on_ground_detection&&(this._on_ground_detector=function(e){var o=cc.director.getPhysicsManager(),n=t._physX_comp.getAABB(),i=cc.v2(n.x,n.yMin),r=o.rayCast(i,cc.v2(i.x,i.y-t.ground_checker_step),cc.RayCastType.Any);t._is_ground=null!=r[0]&&r[0].collider.node.group!=c.GroupConfig.CHARACTER,t._moving?t._is_ground?(t.Direction=t._mask_direction,e&&t.dynamic_rigid()):t.Direction=0:e&&(t.enable_sliding?t.is_ground&&(0==Math.abs(t.Rigid_Body.linearVelocity.x)||t._moving)?t.kinematic_rigid(!1):t.dynamic_rigid():t._is_ground?t.kinematic_rigid(!1):t.dynamic_rigid())})},e.prototype.move_forward=function(t){this._moving=!0,this._mask_direction=this.Direction=t?-1:1},e.prototype.move_backward=function(t){this._moving=!0,this._mask_direction=this.Direction=t?1:-1},e.prototype.moveLeft=function(){this._moving=!0,this._mask_direction=this.Direction=-1},e.prototype.moveRight=function(){this._moving=!0,this._mask_direction=this.Direction=1},e.prototype.moveJump=function(){this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0)},e.prototype.stopMove=function(){console.log(this.uuid,"Move CTR STOP MOVE"),this._moving=!1,this._mask_direction=this.Direction=0,this.Rigid_Body.linearVelocity=cc.Vec2.ZERO},e.prototype.update=function(){if(this._on_ground_detector&&this._on_ground_detector(null==this._force_type),null!=this._force_type&&(this.Rigid_Body.type=this._force_type),this._moving&&((this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force*a.default.REAL_GRAVITY_SCALE,0),!0),this.enableOverTerrain&&(this.Direction>0&&this.Rigid_Body.linearVelocity.x<10||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-10))){var t=this.Rigid_Body.linearVelocity.y<30?5:-10;this.Rigid_Body.applyForceToCenter(cc.v2(0,t*this.Walk_Force*a.default.REAL_GRAVITY_SCALE),!0)}},e.prototype.kinematic_rigid=function(t){void 0===t&&(t=!0),t&&this.stopMove(),this.Rigid_Body.type=cc.RigidBodyType.Static},e.prototype.dynamic_rigid=function(){this.Rigid_Body.type=cc.RigidBodyType.Dynamic},r([p(cc.Float)],e.prototype,"Velocity_X",void 0),r([p(cc.Float)],e.prototype,"Jump",void 0),r([p(cc.Boolean)],e.prototype,"enableOverTerrain",void 0),r([p()],e.prototype,"on_ground_detection",void 0),r([p({visible:function(){return this.on_ground_detection}})],e.prototype,"ground_checker_step",void 0),r([p()],e.prototype,"enable_sliding",void 0),r([l,u("Character/Move Controller")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/PhysicalEnable":"PhysicalEnable","../../config/GroupConfig":"GroupConfig"}],MultiLangsOption:[function(t,e,o){"use strict";cc._RF.push(e,"d4e3b9QXLJLdJyHVqr3perN","MultiLangsOption");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MultiQuestOptions=o.MultiLangsOptions=o.MultiLangsOptionHelper=o.LabelOptions=void 0;var i=t("../Language/AIOLangConfig"),r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.size=40,this.height=40,this.bold=!1,this.italic=!1,this.off_font=!1}var e;return e=t,t.prototype.settup=function(t,e){void 0===e&&(e=void 0),t&&(null!=e&&(t.string=e),t.fontSize=this.size,t.lineHeight=this.height,t.enableBold=this.bold,t.enableItalic=this.italic,t.useSystemFont=this.off_font)},t.create=function(t){void 0===t&&(t=null);var o=new e;return t&&o.init(t),o},t.prototype.init=function(t){t instanceof cc.Label?(this.bold=t.enableBold,this.italic=t.enableItalic,this.height=t.lineHeight,this.size=t.fontSize,this.off_font=t.useSystemFont):(this.bold=t.bold,this.italic=t.italic,this.height=t.height,this.size=t.size,this.off_font=t.off_font)},n([c({min:0,displayName:"Font size"})],t.prototype,"size",void 0),n([c({min:0,displayName:"Line height"})],t.prototype,"height",void 0),n([c()],t.prototype,"bold",void 0),n([c()],t.prototype,"italic",void 0),n([c()],t.prototype,"off_font",void 0),e=n([a("LabelOptions")],t)}();o.LabelOptions=s;var l=function(){function t(){this._name="EN",this.text="",this.option=new s,this._mark_as_readonly=!1}var e;return e=t,Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view_text",{get:function(){return this.text},enumerable:!1,configurable:!0}),t.create=function(t,o,n){void 0===n&&(n=!1);var i=new e;return i._name=t,i.text=o,i._mark_as_readonly=n,i.option.init({bold:"JA"===t,italic:!1,size:25,height:25,off_font:"JA"===t}),i},t.prototype.settup=function(t){t.string=this.text,this.option.settup(t)},t.prototype.get_text=function(){return this.text},n([c(cc.String)],t.prototype,"_name",void 0),n([c()],t.prototype,"name",null),n([c({visible:function(){return!this._mark_as_readonly}})],t.prototype,"text",void 0),n([c({displayName:"Text",visible:function(){return this._mark_as_readonly}})],t.prototype,"view_text",null),n([c(s)],t.prototype,"option",void 0),n([c()],t.prototype,"_mark_as_readonly",void 0),e=n([a("MultiLangsOptionHelper")],t)}();o.MultiLangsOptionHelper=l;var p=function(){function t(){this.languages=[],this.settup()}return t.prototype.settup=function(){this.languages=[]},t.prototype.binding=function(t,e){var o=this.languages.find(function(t){return t.name===e});o&&o.settup(t)},t.prototype.get_text=function(t){var e=this.languages.find(function(e){return e.name===t});return e?e.get_text():this.languages.find(function(t){return"EN"===t.name}).get_text()},n([c({type:[l],visible:function(){return this.languages.length>0}})],t.prototype,"languages",void 0),n([a("MultiLangsOptions")],t)}();o.MultiLangsOptions=p;var u=function(){function t(){this._quest_type=i.AIOQuestType.SAVE_THE_DOG,this.languages=[],this.settup()}return Object.defineProperty(t.prototype,"quest_type",{get:function(){return this._quest_type},set:function(t){this._quest_type=t,this.settup()},enumerable:!1,configurable:!0}),t.prototype.settup=function(){for(var t in this.languages=[],i.aio_lang_cfg.label){var e=t,o=!0,n="";switch(this._quest_type){case i.AIOQuestType.COLLECT_COINS:n=i.AIOLang.get_quest_text_at_key(e,i.AIOQuestType.COLLECT_COINS);break;case i.AIOQuestType.SAVE_THE_DOG:n=i.AIOLang.get_quest_text_at_key(e,i.AIOQuestType.SAVE_THE_DOG);break;case i.AIOQuestType.DEFEAT_ENEMIES:n=i.AIOLang.get_quest_text_at_key(e,i.AIOQuestType.DEFEAT_ENEMIES);break;case i.AIOQuestType.CUSTOM:o=!1}this.languages.push(l.create(e,n,o))}},t.prototype.binding=function(t,e){var o=this.languages.find(function(t){return t.name===e});o&&o.settup(t)},t.prototype.get_text=function(t){var e=this.languages.find(function(e){return e.name===t});return e?e.get_text():this.languages.find(function(t){return"EN"===t.name}).get_text()},n([c({type:cc.Enum(i.AIOQuestType)})],t.prototype,"_quest_type",void 0),n([c({type:cc.Enum(i.AIOQuestType)})],t.prototype,"quest_type",null),n([c({type:[l],visible:function(){return this.languages.length>0}})],t.prototype,"languages",void 0),n([a("MultiQuestOptions")],t)}();o.MultiQuestOptions=u,cc._RF.pop()},{"../Language/AIOLangConfig":"AIOLangConfig"}],MyAudioPlayer:[function(t,e){"use strict";cc._RF.push(e,"a7628SEG81DQrwsRPOprRnj","MyAudioPlayer");var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=n?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(o,r,a):o[r]=t[r]}return o.default=t,e&&e.set(t,o),o}(t("./AudioPlayer")),n=t("../../config/AudioPlayId");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}cc.Class({extends:o.default,properties:{arrayAudioObj:{type:[o.AudioObject],default:function(){var t=[];for(var e in n.AudioPlayId){var i=new o.AudioObject;i.name=n.AudioPlayId[e+""],i.isMusic=!1,i.audioClip=null,t.push(i)}return t},override:!0}}}),cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioPlayer":"AudioPlayer"}],MyRoom:[function(t,e,o){"use strict";cc._RF.push(e,"73b4e4nWfpO3aCoMUirYPtQ","MyRoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ReplaceItem"),c=t("../GameData"),s=t("../config/RoomConfig"),l=t("../config/PuzzlesConfig"),p=t("../puzzles/PuzzlesPopup"),u=t("../MainScene"),f=t("./DecorButton"),d=cc._decorator,h=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boss=null,e.popupPuzzles=null,e.items=[],e.puzzleButtons=null,e.effectPrefab=null,e.effectUpgrade=null,e.roomNoti=null,e.roomId=0,e.arrayItems=[],e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.arrayItems=c.GameData.arrayItem,this.roomId=s.RoomConfig.getRoomIdByName(this.node.name),this.roomId<c.GameData.currentRoomId?(cc.log("unlock all items roomId = "+c.GameData.currentRoomId),this.items.forEach(function(t){t.replaceBy.active=!0,t.node.active=!1})):this.arrayItems.forEach(function(e,o){e&&(t.puzzleButtons.children[o].getComponent(f.default).init(e.puzzles.length,e.upgrade,t.node.name,o,t.items[o].replaceBy.getComponent(cc.Sprite)),l.PuzzlesConfig.checkDone(e.puzzles)&&(t.puzzleButtons.children[o].getComponent(f.default).setEffect(t.effectUpgrade),t.items[o].replaceBy.active=!0,t.items[o].node.active=!1))})},e.prototype.openItem=function(t,e){var o=this;cc.log("openItem"),this.boss.node.active=!1;var n=this.items[t];this.showEffectAppear(this.effectPrefab,n.node.position),n.replace(function(){e(),o.scheduleOnce(function(){o.boss.node.active=!0},1)})},e.prototype.showEffectAppear=function(t,e){if(t){var o=cc.instantiate(t);o.setPosition(e),o.scale=1,this.node.addChild(o),cc.tween(o).delay(.8).call(function(){o.destroy()}).start()}else cc.warn("effectPrefab is null")},e.prototype.onDisable=function(){this.boss.setAnimation(0,"Dance",!0)},e.prototype.openPuzzlesPopup=function(t,e){var o=cc.instantiate(this.popupPuzzles);o.parent=u.default.instance.node.parent,this.arrayItems[e-1]?o.getComponent(p.default).init(this.arrayItems[e-1].puzzles,e):o.getComponent(p.default).init([],e)},e.prototype.openPopupItems=function(){this.puzzleButtons.active=!0,this.boss.node.active=!1},e.prototype.closePopupItems=function(){this.puzzleButtons.active=!1,this.boss.node.active=!0},e.prototype.goToLevel=function(){this.roomNoti.active=!1,u.default.instance.showGamePlayScreen()},e.prototype.openFromHome=function(){this.puzzleButtons.active||u.default.instance.showSelectRoomPopup()},r([_(sp.Skeleton)],e.prototype,"boss",void 0),r([_(cc.Prefab)],e.prototype,"popupPuzzles",void 0),r([_([a.default])],e.prototype,"items",void 0),r([_(cc.Node)],e.prototype,"puzzleButtons",void 0),r([_(cc.Prefab)],e.prototype,"effectPrefab",void 0),r([_(cc.Prefab)],e.prototype,"effectUpgrade",void 0),r([_(cc.Node)],e.prototype,"roomNoti",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../config/PuzzlesConfig":"PuzzlesConfig","../config/RoomConfig":"RoomConfig","../puzzles/PuzzlesPopup":"PuzzlesPopup","./DecorButton":"DecorButton","./ReplaceItem":"ReplaceItem"}],NoPadding:[function(t,e,o){"use strict";cc._RF.push(e,"38edcJmpCxB+7H8EcyM17AP","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var n=function(){function t(){}return t.pad=function(){},t.unpad=function(){},t}();o.NoPadding=n,cc._RF.pop()},{}],NodeFixSize:[function(t,e,o){"use strict";cc._RF.push(e,"ac315ALtiZAaIv7DzDPnY3h","NodeFixSize");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixWidth=!1,e.fixHeight=!1,e.auto=!1,e}return i(e,t),e.prototype.onEnable=function(){if(this.fixWidth||this.fixHeight||this.auto){var t=cc.winSize;if(this.auto&&(this.node.width/this.node.height<t.width/t.height?(this.fixHeight=!1,this.fixWidth=!0):(this.fixHeight=!0,this.fixWidth=!1)),this.fixWidth&&this.fixHeight)return this.node.width=t.width,void(this.node.height=t.height);var e=this.fixWidth?t.width/this.node.width:t.height/this.node.height;this.node.width*=e,this.node.height*=e}},r([s(cc.Boolean)],e.prototype,"fixWidth",void 0),r([s(cc.Boolean)],e.prototype,"fixHeight",void 0),r([s(cc.Boolean)],e.prototype,"auto",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NormalBomb:[function(t,e,o){"use strict";cc._RF.push(e,"5155bU7jAhA25Y5JRym02+i","NormalBomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=t("../../config/TagObject"),l=t("../drop/LiquidGO"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigBangPrefab=null,e.onAttack=!1,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"bomb")},e.prototype.onCollisionEnter=function(t){var e=t.getComponent(l.LiquidGO);e&&e.check_type(s.TagConfig.WATER)||t.node.group!==a.GroupConfig.CHARACTER&&t.node.group!==a.GroupConfig.COLLIDER&&t.node.group!==a.GroupConfig.GEMS&&t.node.group!==a.GroupConfig.BALL&&t.node.group!==a.GroupConfig.ITEM&&t.node.group!==a.GroupConfig.WATER&&t.node.group!==a.GroupConfig.LAVA&&t.node.group!==a.GroupConfig.COAL||this.onAttack||(this.attack(),this.onAttack=!0)},e.prototype.attack=function(){console.log("ATTACK"),this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider),this.node.removeComponent(cc.RigidBody);var t=cc.instantiate(this.bigBangPrefab),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.node.destroy()},r([f(cc.Prefab)],e.prototype,"bigBangPrefab",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../drop/LiquidGO":"LiquidGO"}],NumberUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5f57bf0wUVL5oDhX1pS612S","NumberUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.step=.01,e._formatFunc=null,e._currentNumber=0,e._dstNumber=0,e}return i(e,t),Object.defineProperty(e.prototype,"currentNumber",{get:function(){return this._currentNumber},set:function(t){this._currentNumber=t,this.updateLabel()},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.label||(this.label=this.getComponent(cc.Label))},e.prototype.setFormatFunc=function(t){this._formatFunc=t},e.prototype.updateNumber=function(t,e,o){this.currentNumber=this._dstNumber,this.setNumber(t,e,o)},e.prototype.setNumber=function(t,e,o){var n=this;if(this._dstNumber=t,e){if(this.unscheduleAllCallbacks(),this.currentNumber===t)return;o&&(this.step=o);var i=this.step,r=Math.floor(e/this.step);this.currentNumber>t&&(this.currentNumber=0);var a=Math.ceil((t-this.currentNumber)/r);a<=0&&(a=1),this.schedule(function(){n.currentNumber+=a,n.currentNumber>t&&(n.currentNumber=t,n.unscheduleAllCallbacks())},i,r,0)}else this.currentNumber=t},e.prototype.updateLabel=function(){cc.isValid(this.label)?this._formatFunc?this.label.string=""+this._formatFunc(this.currentNumber):this.label.string=""+this.currentNumber:cc.warn("this.label is not valid or null or undefined")},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([s(cc.Label)],e.prototype,"label",void 0),r([s(cc.Integer)],e.prototype,"step",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ObjectGO:[function(t,e,o){"use strict";cc._RF.push(e,"58760Qf5hlBiYYMvkAClfGX","ObjectGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectGO=void 0;var a=t("../../TS/Helper/Global"),c=t("../../base/ColliderCallback"),s=t("../../base/audio/AudioInformation"),l=t("../../config/GlobalSignals"),p=t("../../config/TagObject"),u=cc._decorator,f=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.object_type=p.TagConfig.BATTERY,e.frame_rage=[],e.model_node=null,e.main_rig=null,e.collision=null,e.fx_collection=null,e.sfx_collection=new s.AudioInformation,e._gravity_scale=2,e._is_out_box=!1,e._is_complete=!1,e._is_through_box=!1,e._tweens=[],e.on_object_complete=null,e.on_object_outside=null,e.on_burn=null,e._quest_pass_binder=null,e._quest_fail_binder=null,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.object_type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.model_node&&this.model_node.getComponent(cc.RenderComponent)?this.model_node.getComponent(cc.RenderComponent):null},enumerable:!1,configurable:!0}),e.prototype.on_quest_pass=function(){var t=this;this.collision&&this.scheduleOnce(function(){var e;return null===(e=t.collision)||void 0===e?void 0:e.inactive()},2)},e.prototype.on_quest_fail=function(){this.stop_all_tween(!0)},e.prototype.check_type=function(t){return this.object_type===t},e.prototype.mark_as_through_box=function(){this._is_through_box=!0},e.prototype.is_through_box=function(){return this._is_through_box},e.prototype.onLoad=function(){var t;null===(t=this.collision)||void 0===t||t.setColliderCallback(this.enterCollision.bind(this))},e.prototype.onEnable=function(){var t;this._quest_pass_binder=this.on_quest_pass.bind(this),this._quest_fail_binder=this.on_quest_fail.bind(this),l.GlobalSignals.questPassSignal.add(this._quest_pass_binder),l.GlobalSignals.questFailSignal.add(this._quest_fail_binder),null===(t=this.collision)||void 0===t||t.active(),this.random_frame(),this.init_physic()},e.prototype.onDisable=function(){l.GlobalSignals.questPassSignal.remove(this._quest_pass_binder),l.GlobalSignals.questFailSignal.remove(this._quest_fail_binder);for(var t=0,e=this._tweens;t<e.length;t++)e[t].stop()},e.prototype.random_frame=function(){if(!(this.frame_rage.length<=0)){var t=this.frame_rage.length-1,e=Math.floor(Math.random()*(t-0+1))+0;this.model.getComponent(cc.Sprite).spriteFrame=this.frame_rage[e]}},e.prototype.move_to=function(t,e){void 0===e&&(e=null),this.kill_rigidbody();var o=this.node.parent.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v3())),n=t.angle;this.tween(this.node).to(.75,{position:o,angle:n}).call(function(){return e&&e()}).start()},e.prototype.do_complete=function(t){void 0===t&&(t=!1),console.log("do compolete",this.is_done),this.is_done||(this._is_complete=!0,this.kill_rigidbody(),this.active_collection_fx(),this.on_object_complete&&this.on_object_complete(),t&&this.kill())},e.prototype.do_outside=function(t){this._is_out_box=!0,this.on_object_outside&&this.on_object_outside(t),this.kill()},Object.defineProperty(e.prototype,"is_done",{get:function(){return this._is_out_box||this._is_complete},enumerable:!1,configurable:!0}),e.prototype.active_collection_fx=function(t){if(void 0===t&&(t=this.node.parent),this.fx_collection){var e=cc.instantiate(this.fx_collection);t.addChild(e),a.PTS.node.set_position(e,this.model_node)}},e.prototype.stop_all_tween=function(t){void 0===t&&(t=!0);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop();t&&(this._tweens=[])},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},e.prototype._test_group=function(t,e){return this.node.group!==e&&t.group===e},e.prototype.fly_to_target=function(t,e,o,n){void 0===n&&(n=!0);var i=a.PTS.node.get_local_position(this.node,t);this.collision.status=!n,this.tween(this.node).to(e,{position:cc.v3(i),scale:0}).call(function(){return o&&o()}).start()},e.prototype.kill_rigidbody=function(){this.collision&&this.collision.destroy(),this.main_rig&&this.main_rig.destroy()},e.prototype.kill=function(t){void 0===t&&(t=!1),(this.is_done||t)&&(this.collision.status=!1,this.unscheduleAllCallbacks(),this.stop_all_tween(),this.model_node.destroy(),this.node.destroy())},e.prototype.init_physic=function(){this.main_rig&&(this.main_rig.gravityScale=this._gravity_scale)},r([d({type:cc.Enum(p.TagConfig)})],e.prototype,"object_type",void 0),r([d({type:[cc.SpriteFrame],visible:function(){return this.model instanceof cc.Sprite}})],e.prototype,"frame_rage",void 0),r([d(cc.Node)],e.prototype,"model_node",void 0),r([d({visible:function(){return!!this.model},type:cc.RenderComponent,tooltip:"- The main sprite view of this object.\n\n                      - Can not be null."})],e.prototype,"model",null),r([d({type:cc.RigidBody,tooltip:"- The Main Rigid body of this object.\n \n                      - Can not be null."})],e.prototype,"main_rig",void 0),r([d({type:c.default,tooltip:"- Moddify the collider callback to enter the collision state.\n                      - Can not be null."})],e.prototype,"collision",void 0),r([d({type:cc.Prefab,tooltip:"- The collecsion fx, will be turn on at 'do_complete' or directly call 'active_collection_fx' function.\n\n                      - Should be turn off in Editor mode.\n\n                      - Can be null"})],e.prototype,"fx_collection",void 0),r([d(s.AudioInformation)],e.prototype,"sfx_collection",void 0),r([f],e)}(cc.Component);o.ObjectGO=h,cc._RF.pop()},{"../../TS/Helper/Global":"Global","../../base/ColliderCallback":"ColliderCallback","../../base/audio/AudioInformation":"AudioInformation","../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject"}],OpenItem:[function(t,e,o){"use strict";cc._RF.push(e,"0ab54+/wy5Mo71tsg159rYL","OpenItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemSkeleton=null,e.effectAppear=null,e.callback=null,e.itemConfig=null,e}return i(e,t),e.prototype.onOpenClick=function(){this.itemSkeleton.node.removeFromParent(),this.node.getParent().addChild(this.itemSkeleton.node),this.callback&&this.callback(this.itemSkeleton.node,this.effectAppear),this.node.removeFromParent()},e.prototype.setOpenCallback=function(t){this.callback=t},e.prototype.show=function(t){cc.log("OpenItem show "+t.skin),this.itemConfig=t,this.itemSkeleton.setSkin(t.skin),this.itemSkeleton.setSlotsToSetupPose()},r([s(sp.Skeleton)],e.prototype,"itemSkeleton",void 0),r([s(cc.Prefab)],e.prototype,"effectAppear",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenSSLKdf:[function(t,e,o){"use strict";cc._RF.push(e,"ae5afqW9ARC/Yueq9F1e3Za","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var n=t("../lib/WordArray"),i=t("../lib/CipherParams"),r=t("../algo/EvpKDF"),a=function(){function t(){}return t.execute=function(t,e,o,a){a||(a=n.WordArray.random(8));var c=new r.EvpKDF({keySize:e+o}).compute(t,a),s=new n.WordArray(c.words.slice(e),4*o);return c.sigBytes=4*e,new i.CipherParams({key:c,iv:s,salt:a})},t}();o.OpenSSLKdf=a,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(t,e,o){"use strict";cc._RF.push(e,"172f8Os1y5DY5qir9NXuOKB","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var n=t("../lib/CipherParams"),i=t("../lib/WordArray"),r=t("../enc/Base64"),a=function(){function t(){}return t.stringify=function(t){if(!t.ciphertext)throw new Error("missing ciphertext in params");var e,o=t.ciphertext,n=t.salt;if(n){if("string"==typeof n)throw new Error("salt is expected to be a WordArray");e=new i.WordArray([1398893684,1701076831]).concat(n).concat(o)}else e=o;return e.toString(r.Base64)},t.parse=function(t){var e,o=r.Base64.parse(t);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(e=new i.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new n.CipherParams({ciphertext:o,salt:e})},t}();o.OpenSSL=a,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],PDBoardDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"994ffns3tRJR5q+Tgd760Bj","PDBoardDataManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardDataManager=void 0;var a=t("../MainScene"),c=t("../SubGameData/PDBoardGameData"),s=(t("../TS/Helper/Global"),cc._decorator),l=s.ccclass,p=s.disallowMultiple,u=s.menu,f=s.property,d=s.mark_singleton,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.beginer=null,e.chapters=[],e}return i(e,t),Object.defineProperty(e.prototype,"max_chapter",{get:function(){return this.chapters.length},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.init_current_data=function(t,e){var o=this.chapters[e-1].json,n=a.default.instance.tlang,i=o.title[n],r=o.data,s=this.get_chapter_state(e),l=s/c.PDB_MAX_STATE;t.set_data(e,i,l,s,r)},e.prototype.get_chapter_title=function(t){var e=a.default.instance.tlang;return this.chapters[t-1].json.title[e]},e.prototype.get_chapter_state_progress=function(t){return this.get_chapter_state(t)/c.PDB_MAX_STATE},e.prototype.get_chapter_state=function(t){var e=cc.instance(c.PDBoardGameData).current_chapter,o=cc.instance(c.PDBoardGameData).current_state;return t<e?o=c.PDB_MAX_STATE:t>e&&(o=0),o},Object.defineProperty(e.prototype,"beginer_data",{get:function(){return this.beginer.json},enumerable:!1,configurable:!0}),r([f(cc.JsonAsset)],e.prototype,"beginer",void 0),r([f([cc.JsonAsset])],e.prototype,"chapters",void 0),r([l,d,p,u("PD Detective Board/Data Manager")],e)}(cc.Component);o.PDBoardDataManager=h,cc._RF.pop()},{"../MainScene":"MainScene","../SubGameData/PDBoardGameData":"PDBoardGameData","../TS/Helper/Global":"Global"}],PDBoardGameData:[function(t,e,o){"use strict";cc._RF.push(e,"8a324HUPbRPM6h6b7ZgOAhv","PDBoardGameData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardGameData=o.PDB_MAX_STATE=o.PDBoardKey=void 0;var a,c=t("../plugins/fb/FBInstantData"),s=t("./APDGameData"),l=cc._decorator.mark_singleton;(function(t){t[t.CHAPTER=0]="CHAPTER",t[t.STATE=1]="STATE",t[t.COLLECTED_CHAPER_REWARD=2]="COLLECTED_CHAPER_REWARD"})(a=o.PDBoardKey||(o.PDBoardKey={})),o.PDB_MAX_STATE=5;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init_data=function(){var t=this;console.log("[PD_BOARD] Log: INIT DATA ...",this);var e=Object.values(a).filter(function(t){return!isNaN(parseInt(t))}).map(function(e){return t.get_key(e)});e.push("pd_board_lvl_mark_uuid_key"),c.FBInstantData.getData(e,function(e){t.load_data(a.CHAPTER,e,1),t.load_data(a.STATE,e,0),t.load_data(a.COLLECTED_CHAPER_REWARD,e,[]),c.FBInstantData.setValue("pd_board_lvl_mark_uuid_key",t.get_value("pd_board_lvl_mark_uuid_key",e,[]))},null)},e.prototype.logger=function(){},e.prototype.get_key=function(t){return"pd_board_"+a[t]},e.prototype.get_data=function(t){return c.FBInstantData.getValue(this.get_key(t))},e.prototype.set_data=function(t,e){var o=this.get_key(t);c.FBInstantData.setValue(o,e)},Object.defineProperty(e.prototype,"current_chapter",{get:function(){return this.get_data(a.CHAPTER)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_state",{get:function(){return this.get_data(a.STATE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_data",{get:function(){return{chapter:this.current_chapter,state:this.current_state}},enumerable:!1,configurable:!0}),e.prototype.can_reward=function(t){return!this.get_data(a.COLLECTED_CHAPER_REWARD).includes(t)},e.prototype.reward_on=function(t){var e=this.get_data(a.COLLECTED_CHAPER_REWARD);e.includes(t)||(e.push(t),this.set_data(a.COLLECTED_CHAPER_REWARD,e))},Object.defineProperty(e.prototype,"current_progress",{get:function(){return this.current_state/o.PDB_MAX_STATE},enumerable:!1,configurable:!0}),e.prototype.is_this_lvl_marked=function(t){var e=c.FBInstantData.getValue("pd_board_lvl_mark_uuid_key");return e.length>0&&e.includes(t)},e.prototype.set_next_state=function(t){var e=c.FBInstantData.getValue("pd_board_lvl_mark_uuid_key");if(e.length<=0||!e.includes(t)){e.push(t),c.FBInstantData.setValue("pd_board_lvl_mark_uuid_key",e);var n=this.current_state;return n+1>o.PDB_MAX_STATE?(this.set_data(a.CHAPTER,this.current_chapter+1),this.set_data(a.STATE,1)):this.set_data(a.STATE,n+1),!0}return!1},r([l],e)}(s.APDGameData);o.PDBoardGameData=p,cc._RF.pop()},{"../plugins/fb/FBInstantData":"FBInstantData","./APDGameData":"APDGameData"}],PDBoardItemDetailPopup:[function(t,e,o){"use strict";cc._RF.push(e,"25e0cHdrRZC/4ibT0h7fovR","PDBoardItemDetailPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardItemDetailPopup=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._is_scaling=!1,e.img_content=null,e}return i(e,t),e.prototype.close_btn_cb=function(){var t=this;cc.tween(this.node).to(.35,{scale:0}).call(function(){t.node.active=!1,t._is_scaling=!1}).start()},e.prototype.onEnable=function(){var t=this;this._is_scaling=!0,cc.tween(this.node).to(.35,{scale:1}).call(function(){t._is_scaling=!1}).start(),console.log("%c[PDBoardItemDetailPopup] LOG: ON-ENABLE STATE...","background: #FFFFFF; color: #429BF5")},e.prototype.settup=function(t){this._is_scaling||(this.node.scale=0,this.img_content.spriteFrame=t)},r([s(cc.Sprite)],e.prototype,"img_content",void 0),r([c,l("PD Detective Board/Item Detail Popup")],e)}(cc.Component);o.PDBoardItemDetailPopup=p,cc._RF.pop()},{}],PDBoardItem:[function(t,e,o){"use strict";cc._RF.push(e,"3fb964HOvpMjoa0L9xp4KbU","PDBoardItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardItem=void 0;var a=t("../TS/Helper/Global"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.frames=[],e._content=null,e._button=null,e._tween=null,e._event_button=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this.sprite.spriteFrame},enumerable:!1,configurable:!0}),e.prototype.get_chapter_frame=function(t){return this.frames[t-1]},e.prototype.onLoad=function(){this._button=a.PTS.component.get_non_null_component(this.node,cc.Button),this.sprite=a.PTS.component.get_non_null_component(this.node,cc.Sprite)},e.prototype.onDisable=function(){this._tween&&this._tween.stop()},e.prototype.set_content=function(t){this._content=t},e.prototype.unlock=function(t,e){this._button.clickEvents=[],this.sprite.spriteFrame=this.frames[t-1],this._event_button=e,a.PTS.component.settup_button(this._button,this.node,o,"event_button")},e.prototype.event_button=function(){this._event_button&&this._event_button(this)},e.prototype.hide=function(t){this.sprite.spriteFrame=t,this._button.clickEvents=[]},r([l(cc.Sprite)],e.prototype,"sprite",void 0),r([l([cc.SpriteFrame])],e.prototype,"frames",void 0),o=r([s,p("PD Detective Board/Item")],e)}(cc.Component);o.PDBoardItem=u,cc._RF.pop()},{"../TS/Helper/Global":"Global"}],PDBoardManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab209Mmaw1NtaGuNSa7Hyfl","PDBoardManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardManager=void 0;var a=t("../ChestPopupReward"),c=t("../config/AudioPlayId"),s=t("../MainScene"),l=t("../SubGameData/PDBoardGameData"),p=t("../TS/Helper/Global"),u=t("../TS/Language/AIOLangConfig"),f=t("../config/GlobalSignals"),d=t("./PDBoardDataManager"),h=t("./PDBoardItem"),_=t("./PDBoardItemDetailPopup"),y=t("./PDDialogueController"),g=t("../HomeScreen"),v=t("../GameData"),b=cc._decorator,m=b.ccclass,S=b.property,C=b.menu,O=b.inspector,P=b.mark_singleton,k=b.disallowMultiple,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt_chapter_order=null,e.txt_chapter_name=null,e.img_progress_bar=null,e.txt_progress_percent=null,e.item_detail_popup=null,e.chest_popup_reward=null,e.list_items=[],e.dialog_controller=null,e.coin_reward=1e3,e.inactive_frame=null,e._progress_length=0,e._current_chapter=0,e._close_btn_cb=null,e._btn_play_gt_gameplay=!0,e._tweens=[],e._no_chest_popup=!1,e._mark_as_loaded=!1,e}var o;return i(e,t),o=e,e.prototype.set_no_chest_popup=function(t){this._no_chest_popup=t},Object.defineProperty(e.prototype,"quick_settup",{set:function(){var t=performance.now();Editor.log("[PDBoardManager] Log: Doing quick-settup..."),this.txt_chapter_order=p.PTS.node.get_component_in_search_node(this.node,"text_chapter",cc.Label),this.txt_chapter_name=p.PTS.node.get_component_in_search_node(this.node,"text_chapter_name",cc.Label),this.img_progress_bar=p.PTS.node.get_component_in_search_node(this.node,"progress_bar",cc.Sprite),this.txt_progress_percent=p.PTS.node.get_component_in_search_node(this.node,"text_percent",cc.Label),this.dialog_controller=p.PTS.node.get_component_in_search_node(this.node,"_DIALOGUE_CONTROLLER",y.PDDialogueController),this.item_detail_popup=p.PTS.node.get_component_in_search_node(this.node,"_DETAIL_ITEM_CONTENT",_.PDBoardItemDetailPopup),this.chest_popup_reward=p.PTS.node.get_component_in_search_node(this.node,"_REWARD",a.ChestPopupReward);for(var e=1;e<=5;e++)this.list_items[e-1]=p.PTS.node.get_component_in_search_node(this.node,"item_"+e,h.PDBoardItem);Editor.log("[PDBoardManager] Log: DONE "+(performance.now()-t)+"ms.")},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){console.log("%c[PDBoardManager] LOG: ENTER-ONLOAD STATE...","background: #222; color: #bada55"),this._progress_length=this.img_progress_bar.node.width*this.img_progress_bar.node.scaleX},e.prototype.onEnable=function(){this.stop_all_tween(),this.node.scale=0,this.node.opacity=0,this._current_chapter=cc.instance(l.PDBoardGameData).current_chapter,this.item_detail_popup.node.active=!1,cc.instance(d.PDBoardDataManager).init_current_data(this,this._current_chapter),this.tween(this.node).to(.35,{scale:1,opacity:255}).start(),this.run_beginer_dialogue(),this._mark_as_loaded||(this._mark_as_loaded=!0),f.GlobalSignals.closeBoard.add(function(){return f.GlobalSignals.closeBoard.removeAll()},this,-999)},e.prototype.onDisable=function(){this._current_chapter=cc.instance(l.PDBoardGameData).current_chapter,this._mark_as_loaded&&(this._mark_as_loaded=!1)},e.prototype.set_data=function(t,e,n,i,r){var a=s.default.instance.tlang;this.txt_chapter_order.string=u.AIOLang.get_lang_text_at_key(a,"chapter")+" "+t,this.txt_chapter_name.string=e,this.txt_progress_percent.string=p.PTS.supporter.smart_rounding_number(100*n)+"%",this.img_progress_bar.node.width=n*this._progress_length,this.settup_chest();for(var f=0;f<l.PDB_MAX_STATE;f++)if(f+1>i)this.list_items[f].hide(this.inactive_frame);else if(f+1<=i){var d=r[f];this.list_items[f].set_content(d),this.list_items[f].unlock(this._current_chapter,function(t){s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_clue_new,!1,.7),cc.instance(o).show_board_item_detail(t)})}},e.prototype.settup_chest=function(){var t=this;if(!this._no_chest_popup){var e=cc.instance(l.PDBoardGameData),o=cc.instance(d.PDBoardDataManager).get_chapter_state_progress(this._current_chapter)>=1&&e.can_reward(this._current_chapter);this.chest_popup_reward.settup(!o,o),o&&this.chest_popup_reward.popup_reward(this.coin_reward,function(){v.GameData.addCoin(t.coin_reward),e.reward_on(t._current_chapter)})}},e.prototype.show_board_item_detail=function(t){var e=this;this.dialog_controller.settup(t.content),this.item_detail_popup.settup(t.frame),this._close_btn_cb=function(){s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),e.item_detail_popup.close_btn_cb(),e._close_btn_cb=null,e.run_beginer_dialogue(),e._no_chest_popup&&(e._no_chest_popup=!1,e.settup_chest())},this.item_detail_popup.node.active=!0},Object.defineProperty(e.prototype,"current_item",{get:function(){var t=cc.instance(l.PDBoardGameData);return this._current_chapter=t.current_chapter,cc.instance(d.PDBoardDataManager).init_current_data(this,this._current_chapter),this.list_items[t.current_state-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_clue_frame",{get:function(){return this.current_item.get_chapter_frame(this._current_chapter)},enumerable:!1,configurable:!0}),e.prototype.run_beginer_dialogue=function(){this.dialog_controller.settup(cc.instance(d.PDBoardDataManager).beginer_data)},e.prototype.show_new_clue=function(){var t=this.current_item;this._btn_play_gt_gameplay=!1,s.default.instance.showDetectiveBoard(),this.show_board_item_detail(t)},e.prototype.close_BTN=function(){this.dialog_controller.stop_audio_typing(),null==this._close_btn_cb?this.close_all():this._close_btn_cb()},e.prototype.go_BTN=function(){this.close_all(),this._btn_play_gt_gameplay&&g.default.instance.playGame()},e.prototype.next_chapter_BTN=function(){s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),this._mark_as_loaded&&(this._mark_as_loaded=!1);var t=cc.instance(d.PDBoardDataManager);this._current_chapter+1>t.max_chapter||(this._current_chapter+=1,t.init_current_data(this,this._current_chapter))},e.prototype.prev_chapter_BTN=function(){s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),this._mark_as_loaded&&(this._mark_as_loaded=!1);var t=cc.instance(d.PDBoardDataManager);this._current_chapter-1<=0||(this._current_chapter-=1,t.init_current_data(this,this._current_chapter))},e.prototype.close_all=function(){var t=this;s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_click,!1,.55),this.tween(this.node).to(.35,{opacity:0,scale:0}).call(function(){f.GlobalSignals.closeBoard.dispatch(),t.node.active=!1}).start()},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},e.prototype.stop_all_tween=function(t){void 0===t&&(t=!0);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop();t&&(this._tweens=[])},r([S(cc.Label)],e.prototype,"txt_chapter_order",void 0),r([S(cc.Label)],e.prototype,"txt_chapter_name",void 0),r([S(cc.Sprite)],e.prototype,"img_progress_bar",void 0),r([S(cc.Label)],e.prototype,"txt_progress_percent",void 0),r([S(_.PDBoardItemDetailPopup)],e.prototype,"item_detail_popup",void 0),r([S(a.ChestPopupReward)],e.prototype,"chest_popup_reward",void 0),r([S([h.PDBoardItem])],e.prototype,"list_items",void 0),r([S(y.PDDialogueController)],e.prototype,"dialog_controller",void 0),r([S({min:0})],e.prototype,"coin_reward",void 0),r([S(cc.SpriteFrame)],e.prototype,"inactive_frame",void 0),r([S()],e.prototype,"quick_settup",null),o=r([m,C("PD Detective Board/Manager"),O("packages://pd-board-manager/inspector/pd_board_manager.js"),k,P],e)}(cc.Component);o.PDBoardManager=R,cc._RF.pop()},{"../ChestPopupReward":"ChestPopupReward","../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../SubGameData/PDBoardGameData":"PDBoardGameData","../TS/Helper/Global":"Global","../TS/Language/AIOLangConfig":"AIOLangConfig","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals","./PDBoardDataManager":"PDBoardDataManager","./PDBoardItem":"PDBoardItem","./PDBoardItemDetailPopup":"PDBoardItemDetailPopup","./PDDialogueController":"PDDialogueController"}],PDBoardNewClue:[function(t,e,o){"use strict";cc._RF.push(e,"19b717Yaw1CPYj122+8K3vu","PDBoardNewClue");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDBoardNewClue=void 0;var a=t("../MainScene"),c=t("../config/AudioPlayId"),s=t("./PDBoardManager"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu,d=l.mark_singleton,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content_container=null,e.clue=null,e.new_clue_audio=c.AudioPlayId.effect_clue_new,e._cts=1,e}return i(e,t),e.prototype.onLoad=function(){this._cts=this.content_container.scale},e.prototype.settup=function(){this.content_container.scale=0,cc.instance(s.PDBoardManager).set_no_chest_popup(!0),this.clue.spriteFrame=cc.instance(s.PDBoardManager).current_clue_frame},e.prototype.onEnable=function(){var t=this;cc.tween(this.content_container).to(.35,{scale:this._cts}).call(function(){a.default.instance.audioPlayer.playAudio(t.new_clue_audio)}).start()},e.prototype.ok_BTN=function(){cc.instance(s.PDBoardManager).show_new_clue(),this.node.active=!1},r([u(cc.Node)],e.prototype,"content_container",void 0),r([u(cc.Sprite)],e.prototype,"clue",void 0),r([u({type:cc.Enum(c.AudioPlayId)})],e.prototype,"new_clue_audio",void 0),r([p,f("PD Detective Board/New Clue Manager"),d],e)}(cc.Component);o.PDBoardNewClue=h,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","./PDBoardManager":"PDBoardManager"}],PDDialogueController:[function(t,e,o){"use strict";cc._RF.push(e,"604cbxM+QRICaLjQouSTTS7","PDDialogueController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDDialogueController=o.MainEmotion=void 0;var a,c=t("../config/AudioPlayId"),s=t("../MainScene"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu;(function(t){t[t.NORMAL=0]="NORMAL",t[t.SCARED=1]="SCARED",t[t.TALKING_PHOTO=2]="TALKING_PHOTO",t[t.THINKING=3]="THINKING"})(a=o.MainEmotion||(o.MainEmotion={}));var d=function(){function t(){this.frame=null,this.reposition=cc.v2()}return t.prototype.changer=function(t){t.node.setPosition(this.reposition),t.spriteFrame=this.frame},r([u(cc.SpriteFrame)],t.prototype,"frame",void 0),r([u()],t.prototype,"reposition",void 0),r([p("PDDEmotionFrameHelper")],t)}(),h=function(){function t(){this.normal=new d,this.scared=new d,this.talking_photo=new d,this.thinking=new d}return t.prototype.change_sprite=function(t,e){this[a[e].toString().toLowerCase()].changer(t)},r([u(d)],t.prototype,"normal",void 0),r([u(d)],t.prototype,"scared",void 0),r([u(d)],t.prototype,"talking_photo",void 0),r([u(d)],t.prototype,"thinking",void 0),r([p("PDDMainEmotion")],t)}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt_description=null,e.btn_next=null,e.emotions_settup=new h,e.emotion=null,e.fade_emotion_duration=.6,e.type_spd=10,e._tween=[],e._emotion_papa_x=0,e._is_running=!1,e._index_str=0,e._callback=null,e._dialogue_data=null,e._dialouge_index=0,e.frist_check=!1,e}return i(e,t),e.prototype.settup=function(t){this.btn_next.node.active=!0,this.reset(),this._dialogue_data=t,this._dialouge_index=0,this.run_dialogue_from_data(),this.node.opacity=255,this.frist_check=!0},e.prototype.run_dialogue_from_data=function(){var t=s.default.instance.tlang;return this.run_dialogue(this._dialogue_data.messages[t][this._dialouge_index],this._dialogue_data.emotions[this._dialouge_index])},e.prototype.run_dialogue=function(t,e){var o=this;return this._is_running?(this.instance_done(t,e),!0):this.frist_check?(this.effect_typing||(this.effect_typing=s.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_typing_clues)),this._is_running=!0,this.txt_description.string="",this._callback=this.typing.bind(this,t),this._index_str=0,this.tween(this.emotion.node.parent).delay(this.fade_emotion_duration/2).by(this.fade_emotion_duration/4,{x:-2}).by(this.fade_emotion_duration/2,{x:4}).by(this.fade_emotion_duration/2,{x:-2}).start(),this.tween(this.emotion.node).to(this.fade_emotion_duration/2,{opacity:150}).call(function(){return o.emotions_settup.change_sprite(o.emotion,e)}).to(this.fade_emotion_duration/2,{opacity:255}).start(),this.schedule(this._callback,1/this.type_spd,cc.macro.REPEAT_FOREVER),!1):void 0},e.prototype.typing=function(t){if(this._index_str>=t.length)return console.log("UNSCHEDULE w"),this.stop_audio_typing(),this._is_running=!1,void this.unschedule(this._callback);this.txt_description.string+=t[this._index_str],this._index_str++},e.prototype.instance_done=function(t,e){this.stop_audio_typing(),this._is_running=!1,this.unschedule(this._callback),this.emotion.node.parent.x=this._emotion_papa_x,this.emotions_settup.change_sprite(this.emotion,e),this.txt_description.string=t},e.prototype.onLoad=function(){this._emotion_papa_x=this.emotion.node.parent.x},e.prototype.onDisable=function(){this.reset()},e.prototype.tween=function(t){var e=cc.tween(t);return this._tween.push(e),e},e.prototype.stop_all_tween=function(){for(var t=0,e=this._tween;t<e.length;t++)e[t].stop();this._tween=[]},e.prototype.stop_audio_typing=function(){s.default.instance.audioPlayer.stopAudioPlay(this.effect_typing),this.effect_typing=null},e.prototype.next_BTN=function(){var t=s.default.instance.tlang;this._dialouge_index>=this._dialogue_data.messages[t].length-1&&!this._is_running?this.close():(console.log("IS RUNNING: ",this._is_running),this._is_running||this._dialouge_index++,this.run_dialogue_from_data())},e.prototype.skip_BTN=function(){this.stop_audio_typing(),this.close()},e.prototype.close=function(){var t=this;this.reset(),this.tween(this.node).to(.15,{opacity:0}).call(function(){return t.btn_next.node.active=!1}).start()},e.prototype.reset=function(){this._is_running=!1,this.stop_all_tween(),this.unscheduleAllCallbacks()},r([u(cc.Label)],e.prototype,"txt_description",void 0),r([u(cc.Button)],e.prototype,"btn_next",void 0),r([u(h)],e.prototype,"emotions_settup",void 0),r([u(cc.Sprite)],e.prototype,"emotion",void 0),r([u({min:0})],e.prototype,"fade_emotion_duration",void 0),r([u({min:0})],e.prototype,"type_spd",void 0),r([p,f("PD Scripts/Dialogue Controller")],e)}(cc.Component);o.PDDialogueController=_,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],PDLevelTaskmanager:[function(t,e){"use strict";cc._RF.push(e,"1a970M9DftDUZpg9Sl/yTPX","PDLevelTaskmanager"),cc._RF.pop()},{}],PDTaskDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"65dcfj+14RHep6u5cf+hZh8","PDTaskDataManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDTaskDataManager=void 0;var a=t("../MainScene"),c=t("../SubGameData/PDTaskGameData"),s=(t("../TS/Helper/Global"),t("./PDTaskManager")),l=cc._decorator,p=l.ccclass,u=l.property,f=l.disallowMultiple,d=l.executeInEditMode,h=l.menu,_=l.mark_singleton,y=function(){function t(){this._data=null,this._frames=[]}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){if(null!=t){if(!(t.json instanceof Array))return;this._data=t}},enumerable:!1,configurable:!0}),t.prototype.get_data_at_state=function(t){var e=this._data.json;if(t>e.length)return null;var o=a.default.instance.tlang;return console.log("-------------------------------------------------"),console.log(e),console.log(t-1),console.log(e[t-1]),console.log(e[t-1].data[o]),console.log("-------------------------------------------------"),{frame:this._frames[t-1],information:e[t-1].data[o]}},Object.defineProperty(t.prototype,"max_state",{get:function(){return this._data.json.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frames",{get:function(){return this._data?(this._frames.length=this._data.json.length,this._frames):[]},set:function(t){this._frames=t},enumerable:!1,configurable:!0}),r([u(cc.JsonAsset)],t.prototype,"_data",void 0),r([u(cc.JsonAsset)],t.prototype,"data",null),r([u([cc.SpriteFrame])],t.prototype,"_frames",void 0),r([u({type:[cc.SpriteFrame],visible:function(){return!!this._data}})],t.prototype,"frames",null),r([p("JsonTaskDataHelper")],t)}(),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tasks=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.set_next_chapter=function(){},e.prototype.init_data=function(t){var e=cc.instance(c.PDTaskGameData),o=e.current_chapter,n=e.current_state,i=this.tasks[o-1],r=i.get_data_at_state(n),a=(n-1)/i.max_state;t.set_data(o,r.information.title,a,r.frame,r.information.task)},e.prototype.done_current_state=function(t){var e=cc.instance(c.PDTaskGameData),o=e.current_chapter;if(this.set_next_state(t)){var n=e.current_chapter,i=e.current_state,r=this.get_task_at_chapter_index(n),a=r.get_data_at_state(i),l=r.max_state,p=o<n?1:(i-1)/l;cc.instance(s.PDTaskManager).done_state(n,a.information.title,p,a.frame,a.information.task)}},e.prototype.set_next_state=function(t){var e=cc.instance(c.PDTaskGameData),o=e.current_chapter,n=this.tasks[o-1].max_state;return e.set_next_state(t,n)},e.prototype.get_task_at_chapter_index=function(t){return this.tasks[t-1]},r([u([y])],e.prototype,"tasks",void 0),r([p,f,d,h("PD Task/Data Manager"),_],e)}(cc.Component);o.PDTaskDataManager=g,cc._RF.pop()},{"../MainScene":"MainScene","../SubGameData/PDTaskGameData":"PDTaskGameData","../TS/Helper/Global":"Global","./PDTaskManager":"PDTaskManager"}],PDTaskGameData:[function(t,e,o){"use strict";cc._RF.push(e,"6cc3fvlK71H2I8Msx8Ly8NV","PDTaskGameData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDTaskGameData=o.PDTaskKey=void 0;var a,c=t("../plugins/fb/FBInstantData"),s=t("./APDGameData"),l=cc._decorator.mark_singleton;(function(t){t[t.CHAPTER=0]="CHAPTER",t[t.STATE=1]="STATE",t[t.MARKED_LVLs=2]="MARKED_LVLs"})(a=o.PDTaskKey||(o.PDTaskKey={}));var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.get_key=function(t){return"pd_task_"+a[t]},e.prototype.get_data=function(t){return c.FBInstantData.getValue(this.get_key(t))},e.prototype.set_data=function(t,e){var o=this.get_key(t);c.FBInstantData.setValue(o,e)},Object.defineProperty(e.prototype,"current_chapter",{get:function(){return this.get_data(a.CHAPTER)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_state",{get:function(){return this.get_data(a.STATE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current_data",{get:function(){return{chapter:this.current_chapter,state:this.current_state}},enumerable:!1,configurable:!0}),e.prototype.is_marked_this_lvl=function(t){var e=this.get_data(a.MARKED_LVLs);return e.length>0&&e.includes(t)},e.prototype.set_next_state=function(t,e){var o=this.get_data(a.MARKED_LVLs);if(o.length<=0||!o.includes(t)){o.push(t),this.set_data(a.MARKED_LVLs,o);var n=this.current_state;return n+1>e?(this.set_data(a.CHAPTER,this.current_chapter+1),this.set_data(a.STATE,1)):this.set_data(a.STATE,n+1),!0}return!1},e.prototype.init_data=function(){var t=this;console.log("[PD_TASK] Log: INIT DATA ...",this);var e=Object.values(a).filter(function(t){return!isNaN(parseInt(t))}).map(function(e){return t.get_key(e)});c.FBInstantData.getData(e,function(e){t.load_data(a.CHAPTER,e,1),t.load_data(a.STATE,e,1),t.load_data(a.MARKED_LVLs,e,[])},null)},e.prototype.logger=function(){for(var t=0,e=Object.values(a).filter(function(t){return!isNaN(parseInt(t))});t<e.length;t++){var o=e[t];console.log(this.get_data(o))}},r([l],e)}(s.APDGameData);o.PDTaskGameData=p,cc._RF.pop()},{"../plugins/fb/FBInstantData":"FBInstantData","./APDGameData":"APDGameData"}],PDTaskManager:[function(t,e,o){"use strict";cc._RF.push(e,"4d820kXZd5OP5CyVYGOXElP","PDTaskManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PDTaskManager=void 0;var a=t("../ChestPopupReward"),c=t("../GameData"),s=t("../HomeScreen"),l=t("../MainScene"),p=t("../TS/Helper/Global"),u=t("../TS/Language/AIOLangConfig"),f=t("../config/AudioPlayId"),d=t("../config/GameConfig"),h=t("../config/GlobalSignals"),_=t("./PDTaskDataManager"),y=cc._decorator,g=y.ccclass,v=y.property,b=y.menu,m=y.mark_singleton,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.content_container=null,e.close_button=null,e.go_button=null,e.chapter_index=null,e.chapter_content=null,e.progress_bar=null,e.content_node=null,e.content_sprite=null,e.content_label=null,e.progress_label=null,e.on_progress_node=null,e.on_complete_node=null,e._progress_length=0,e._tweens=[],e.chest_popup_reward=null,e}return i(e,t),e.prototype.onLoad=function(){this._progress_length=this.progress_bar.node.width*this.progress_bar.node.scaleX,this.main.setMix("Thinking","Win3",d.GameConfig.spine_mixin_timer),this.main.setMix("Win3","Thinking",d.GameConfig.spine_mixin_timer)},e.prototype.onEnable=function(){var t=this;this.go_button.interactable=!1,p.PTS.spine.reload_skin_fullpack(this.main,{replacer:c.GameData.currentSkinBoss},{replacer:c.GameData.currentShoeBoss},{replacer:c.GameData.currentHatBoss}),this.node.opacity=255,this.content_container.opacity=0,h.GlobalSignals.closeTask.add(function(){h.GlobalSignals.closeTask.removeAll()},this,-999),cc.instance(_.PDTaskDataManager).init_data(this),this.tween(this.content_container).to(.35,{opacity:255}).call(function(){return t.go_button.interactable=!0}).start()},e.prototype.close_BTN=function(){this.close()},e.prototype.go_BTN=function(){this.close(),s.default.instance.playGame()},e.prototype.close=function(){var t=this;l.default.instance.audioPlayer.playAudio(f.AudioPlayId.effect_click,!1,.55),this.tween(this.node).to(.35,{opacity:0}).call(function(){h.GlobalSignals.closeTask.dispatch(),t.content_container.opacity=0,t.node.active=!1}).start()},e.prototype.set_data=function(t,e,o,n,i){this.on_complete_node.scale=0,this.on_complete_node.opacity=0;var r=l.default.instance.tlang;this.chapter_index.string=u.AIOLang.get_lang_text_at_key(r,"chapter")+" "+t+".",this.chapter_content.string=e,this.set_progress(o),this.content_sprite.spriteFrame=n,this.content_label.string=i},e.prototype.done_state=function(t,e,o,n,i){var r=this,a=l.default.instance.tlang,s=this.on_progress_node.getScale(cc.v2());this.close_button.interactable=!1,this.go_button.interactable=!1,this.chapter_index.string=u.AIOLang.get_lang_text_at_key(a,"chapter")+" "+t+".",this.chapter_content.string=e,this.on_complete_node.scale=0,this.on_complete_node.opacity=0;var d=o*this._progress_length;this.main.setAnimation(0,"Win3",!0),l.default.instance.audioPlayer.playAudio(f.AudioPlayId.music_win_level,!1,.7),this.tween(this.progress_bar.node).to(.7,{width:d},{progress:function(t,e,o,n){var i=t+(e-t)*n;return r.progress_label.string=p.PTS.supporter.smart_rounding_number(i/r._progress_length*100)+"%",i}}).start(),this.tween(this.content_node).delay(.45).to(.5,{opacity:0}).call(function(){r.content_sprite.spriteFrame=n,r.content_label.string=i}).delay(.5).call(function(){return r.main.setAnimation(0,"Thinking",!0)}).to(.5,{opacity:255}).start(),this.tween(this.on_progress_node).to(.35,{opacity:0}).delay(1.2).to(.35,{opacity:255}).call(function(){o>=1?(c.GameData.addCoin(1e3),r.chest_popup_reward.settup(!1,!0),r.set_progress(0),r.chest_popup_reward.popup_reward(1e3,function(){r.close_button.interactable=!0,r.go_button.interactable=!0})):(r.close_button.interactable=!0,r.go_button.interactable=!0)}).start(),this.tween(this.on_complete_node).delay(.35).to(.35,{opacity:255,scaleX:s.x,scaleY:s.y}).delay(.5).to(.35,{opacity:0,scale:0}).start()},e.prototype.set_progress=function(t){this.progress_bar.node.width=t*this._progress_length,this.progress_label.string=p.PTS.supporter.smart_rounding_number(100*t)+"%"},e.prototype.stop_all_tween=function(t){void 0===t&&(t=!0);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop();t&&(this._tweens=[])},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},r([v(sp.Skeleton)],e.prototype,"main",void 0),r([v(cc.Node)],e.prototype,"content_container",void 0),r([v(cc.Button)],e.prototype,"close_button",void 0),r([v(cc.Button)],e.prototype,"go_button",void 0),r([v(cc.Label)],e.prototype,"chapter_index",void 0),r([v(cc.Label)],e.prototype,"chapter_content",void 0),r([v(cc.Sprite)],e.prototype,"progress_bar",void 0),r([v(cc.Node)],e.prototype,"content_node",void 0),r([v(cc.Sprite)],e.prototype,"content_sprite",void 0),r([v(cc.Label)],e.prototype,"content_label",void 0),r([v(cc.Label)],e.prototype,"progress_label",void 0),r([v(cc.Node)],e.prototype,"on_progress_node",void 0),r([v(cc.Node)],e.prototype,"on_complete_node",void 0),r([v(a.ChestPopupReward)],e.prototype,"chest_popup_reward",void 0),r([g,b("PD Task/Manager"),m],e)}(cc.Component);o.PDTaskManager=S,cc._RF.pop()},{"../ChestPopupReward":"ChestPopupReward","../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../TS/Helper/Global":"Global","../TS/Language/AIOLangConfig":"AIOLangConfig","../config/AudioPlayId":"AudioPlayId","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","./PDTaskDataManager":"PDTaskDataManager"}],PKCS7:[function(t,e,o){"use strict";cc._RF.push(e,"1f46dxgcJJBi6t5s95WryX9","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.pad=function(t,e){for(var o=4*e,i=o-t.sigBytes%o,r=i<<24|i<<16|i<<8|i,a=[],c=0;c<i;c+=4)a.push(r);var s=new n.WordArray(a,i);t.concat(s)},t.unpad=function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e},t}();o.PKCS7=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Padding:[function(t,e,o){"use strict";cc._RF.push(e,"acb37K6ocRNAKDeUZjDREny","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ParticleLoop:[function(t,e,o){"use strict";cc._RF.push(e,"94f7cvxN9VAWZbGjcmK9FYB","ParticleLoop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loop=!0,e.particleSystem=null,e}return i(e,t),e.prototype.onLoad=function(){this.particleSystem=this.getComponent(cc.ParticleSystem)},e.prototype.update=function(){0==this.particleSystem.particleCount&&(this.loop?(cc.log("particleCount = "+this.particleSystem.particleCount),this.particleSystem.resetSystem()):this.particleSystem.stopSystem())},r([s(cc.Boolean)],e.prototype,"loop",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PasswordBasedCipher:[function(t,e,o){"use strict";cc._RF.push(e,"30e13vNU69GXpn4b/xGwwct","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var n=t("./SerializableCipher"),i=t("./WordArray"),r=t("../format/OpenSSL"),a=t("../kdf/OpenSSLKdf"),c=function(){function t(){}return t.encrypt=function(t,e,o,i){var r=Object.assign({},this.cfg,i);if(void 0===r.kdf)throw new Error("missing kdf in config");var a=r.kdf.execute(o,t.keySize,t.ivSize);return void 0!==a.iv&&(r.iv=a.iv),n.SerializableCipher.encrypt.call(this,t,e,a.key,r).extend(a)},t.decrypt=function(t,e,o,i){var r=Object.assign({},this.cfg,i);if(void 0===r.format)throw new Error("missing format in config");if(e=this._parse(e,r.format),void 0===r.kdf)throw new Error("the key derivation function must be set");var a=r.kdf.execute(o,t.keySize,t.ivSize,e.salt);return void 0!==a.iv&&(r.iv=a.iv),n.SerializableCipher.decrypt.call(this,t,e,a.key,r)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new i.WordArray([]),format:r.OpenSSL,kdf:a.OpenSSLKdf},t}();o.PasswordBasedCipher=c,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],Phantom:[function(t,e,o){"use strict";cc._RF.push(e,"ba67eAuHK1K163jdEtSMx0T","Phantom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Phantom=void 0;var a=t("../../../config/GlobalEnum"),c=t("./XEnemy"),s=cc._decorator,l=s.ccclass,p=s.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._is_run_lose=!1,e}return i(e,t),e.prototype.onQuestPass=function(){},e.prototype.onQuestFail=function(){},e.prototype.onCollectGem=function(){},e.prototype.onAutoMove=function(){},e.prototype.initSkin=function(){},e.prototype.after_lose=function(){var t=this;this.scheduleOnce(function(){t.run_after_lose()},1)},e.prototype.run_after_lose=function(){this._is_run_lose||(this._is_run_lose=!0,this.flip(),this.tween_move_forward(),this.pool&&this.pool.kill_a_enemy())},e.prototype.playAnim=function(e,o,n){var i=t.prototype.playAnim.call(this,e,o,n);if(console.log("PLAYED KEY",e),"die_bomb"===e)return cc.tween(this._skeleton.node).to(.15,{opacity:255,color:cc.color(255,0,0)}).delay(.1).to(.15,{opacity:255,color:cc.color(255,255,255)}).start(),i},e.prototype.do_move=function(){return this._state!==a.ECharacterState.MOVE&&(this._state=a.ECharacterState.MOVE,this.playAnim("move"),!0)},r([l,p("Character/Phantom")],e)}(c.XEnemy);o.Phantom=u,cc._RF.pop()},{"../../../config/GlobalEnum":"GlobalEnum","./XEnemy":"XEnemy"}],PhysicalEnable:[function(t,e,o){"use strict";cc._RF.push(e,"94d19YTaWdLz4svqLG607zG","PhysicalEnable");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gravityScale=1,e.isDebugPhysics=!1,e.isDebugCollider=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager=cc.director.getCollisionManager()},e.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},e.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},e.prototype.update=function(t){var e=60*t*this.gravityScale;o.REAL_GRAVITY_SCALE=e,this.physicsManager.gravity=cc.v2(0,-320*e)},e.prototype.setPhysicsEnabled=function(t){this.physicsManager.enabled=t,this.collisionManager.enabled=t,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},e.REAL_GRAVITY_SCALE=1,r([s(cc.Float)],e.prototype,"gravityScale",void 0),r([s(cc.Boolean)],e.prototype,"isDebugPhysics",void 0),r([s(cc.Boolean)],e.prototype,"isDebugCollider",void 0),o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicsConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d7792BPXjZAyLPo/ZQk9Zwp","PhysicsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsConfig=void 0;var n=function(){function t(){}return t.initPhysicConfig=function(e,o){var n=e.getComponent(cc.PhysicsCollider),i=e.getComponent(cc.RigidBody);if(n&&i){var r=t.physicsObjects[o];r&&(i.gravityScale=r.gravity_scale,n.density=r.density)}else cc.warn("can not init physics config: "+o)},t.physicsObjects={character:{gravity_scale:3,density:10},gems:{gravity_scale:4,density:1},lava:{gravity_scale:4,density:1},water:{gravity_scale:4,density:1},dirty:{gravity_scale:4,density:1},snow:{gravity_scale:4,density:1},rock:{gravity_scale:5,density:50},big_stone:{gravity_scale:5,density:50},chest:{gravity_scale:5,density:50},item:{gravity_scale:4,density:50},bomb:{gravity_scale:5,density:20},coal:{gravity_scale:4,density:40}},t}();o.PhysicsConfig=n,cc._RF.pop()},{}],PlayScreen:[function(t,e,o){"use strict";cc._RF.push(e,"a0e02WPlzNK3ZJLXO8+C7qU","PlayScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./config/QuestType"),c=t("./level/MapLevel"),s=t("./config/GlobalSignals"),l=t("./GameData"),p=t("./MainScene"),u=t("./config/AudioPlayId"),f=t("./ResUtil"),d=t("./HomeScreen"),h=t("./base/audio/AudioManager"),_=t("./config/GameState"),y=t("./base/glance_Global"),g=t("./ui/LevelUIController"),v=t("./objects/character/Main/Main"),b=t("./level/WinPanelUI"),m=t("./config/GameConfig"),S=t("./ui/LevelUIIntromation"),C=t("./level/WinLoseManager"),O=cc._decorator,P=O.ccclass,k=O.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelRoot=null,e.blocker=null,e.ui=null,e.lv_ui_infor=null,e.ui_controller=null,e.win_panel_ui=null,e.levelPlay=-1,e.countPlayWin=0,e.isContinue=!1,e.backgroundMusic=null,e.checkDoneGetCoin=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.isContinue=!1},e.prototype.onEnable=function(){this.blocker.node.active=!1,l.GameData.currentCoin=l.GameData.playerCoin,this.isContinue?cc.log("PlayScreen isContinue"):(this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),0===this.levelRoot.childrenCount&&this.loadCurrentLevel(),h.default.EffectEnable=h.default.EffectEnable,h.default.MusicEnable=h.default.MusicEnable)},e.prototype.start=function(){JSON.parse(cc.sys.localStorage.getItem("firstTime"))&&(y.default.instance.sendEventStart(),y.default.instance.sendEventLevel(l.GameData.currentLevelId),cc.sys.localStorage.setItem("firstTime",JSON.stringify(!1)))},e.prototype.onDisable=function(){p.default.instance.audioPlayer.stopAllEffect(),this.isContinue||(s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal),this.levelRoot.childrenCount>0&&this.levelRoot.removeAllChildren(),this.unscheduleAllCallbacks(),this.backgroundMusic&&(p.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null))},e.prototype.onQuestFail=function(){var t=this;this.blocker.node.active=!0;var e=v.Main.instance.is_ground?0:.6;this.ui_controller.hide(),this.scheduleOnce(function(){t.showWinPanel(!1),y.default.instance.sendEventGameEnd(l.GameData.currentLevelId)},.8+e)},e.prototype.onQuestPass=function(t,e){var o=this;void 0===t&&(t=!1),void 0===e&&(e=0),this.blocker.node.active=!1,this.ui_controller.hide(),y.default.instance.sendEventLevelComplete(l.GameData.currentLevelId),this.isContinue=!1;var n=v.Main.instance.is_ground?e:e+.6;l.GameData.saveLevelUp(),l.GameData.saveLevelNormal(),this.scheduleOnce(function(){o.countPlayWin++,t||o.showWinPanel(!0)},.8+n)},e.prototype.loadCurrentLevel=function(t){void 0===t&&(t=!0),this.unscheduleAllCallbacks(),p.default.instance.audioPlayer.stopAllEffect(),this.loadLevel(l.GameData.currentLevelNormal,!1,t),f.ResUtil.releaseLevelById(l.GameData.currentLevelNormal-1),f.ResUtil.loadLevelById(l.GameData.currentLevelNormal+1)},e.prototype.loadLevel=function(t,e,o){var n=this;cc.instance(C.WinLoseManager).reset(),this.levelRoot.childrenCount>0&&o&&p.default.instance.screenManager.showFlash(1),p.default.instance.screenManager.flash_position=cc.Vec3.ZERO,p.default.instance.screenManager.showFlashOnNextLevel(),this.clearLevelRoot(),this.win_panel_ui.hide(),p.default.instance.testPrefab?this.addLevelToRoot(p.default.instance.testPrefab):f.ResUtil.loadLevelById(t,function(t){n.addLevelToRoot(t)})},e.prototype.addLevelToRoot=function(t){var e=cc.instantiate(t);this.levelRoot.addChild(e),this.levelPlay=parseInt(t.name.match(/\d+/)[0])},e.prototype.clearLevelRoot=function(){if(this.levelRoot.childrenCount>0)try{this.levelRoot.removeAllChildren()}catch(t){cc.warn(t)}},e.prototype.gotoHomeScreen=function(){p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),p.default.instance.showHomeScreen(function(t){l.GameData.casted_intro=!1,t.getComponent(d.default).activeHomeUI(),y.default.instance.sendEventGameEnd(l.GameData.currentLevelId),c.default.instance&&(c.default.instance.gameState==_.GameState.LOSE?y.default.instance.sendEventLifeEnd(l.GameData.currentLevelId):(c.default.instance.gameState,_.GameState.WIN))})},e.prototype.replayGame=function(){p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),c.default.instance.gameState==_.GameState.LOSE&&p.default.instance.effectFadeSoundBackground(0,1,.7),this.loadCurrentLevel(!1),y.default.instance.sendEventReplay(l.GameData.currentLevelId),y.default.instance.sendEventLevel(l.GameData.currentLevelId)},e.prototype.nextLevelWithAds=function(){var t=this;p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),y.default.instance.dispatchCallbackAdsEvent(function(){s.GlobalSignals.coinCurrentUpdateSignal.dispatch(4*m.GameConfig.coin_level_up),l.GameData.addCoin(4*m.GameConfig.coin_level_up),p.default.instance.fx_flying_coins.settup_full_pack(t.node,d.default.instance.uiMoney),y.default.instance.sendEventLevel(l.GameData.currentLevelId),t.nextLevel(null,!1,!0)})},e.prototype.skipLevelWithAds=function(){var t=this;p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),y.default.instance.dispatchCallbackAdsEvent(function(){y.default.instance.sendEventLevel(l.GameData.currentLevelId),t.nextLevel(null,!1,!0)})},e.prototype.nextLevel=function(t,e,o){var n=this;void 0===e&&(e=!1),void 0===o&&(o=!1),l.GameData.casted_intro=!1,y.default.instance.sendEventLevel(l.GameData.currentLevelId),this.checkDoneGetCoin||(this.win_panel_ui.onClaimCoinAnim(),o||(this.scheduleOnce(function(){s.GlobalSignals.coinCurrentUpdateSignal.dispatch()},.8),this.checkDoneGetCoin=!0)),this.scheduleOnce(function(){p.default.instance.effectFadeSoundBackground(0,1,.7),n.loadCurrentLevel(!1)},1.6)},e.prototype.updateLevelInfo=function(t,e){a.QuestUtil.getQuestName(e)},e.prototype.showToastReward=function(t,e,o){void 0===o&&(o=0)},e.prototype.showWinPopup=function(){this.isContinue=!1},e.prototype.showWinPanel=function(t){this.win_panel_ui.node.active=!0,t?this.win_panel_ui.showWin():this.win_panel_ui.showLose()},e.prototype.set_level_ui_information=function(t,e){this.lv_ui_infor.settup_data(l.GameData.currentLevelId+1,t,e)},e._instance=null,r([k(cc.Node)],e.prototype,"levelRoot",void 0),r([k(cc.BlockInputEvents)],e.prototype,"blocker",void 0),r([k(cc.Node)],e.prototype,"ui",void 0),r([k(S.LevelUIInformation)],e.prototype,"lv_ui_infor",void 0),r([k(g.LevelUIController)],e.prototype,"ui_controller",void 0),r([k(b.WinPanelUI)],e.prototype,"win_panel_ui",void 0),o=r([P],e)}(cc.Component);o.default=R,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./ResUtil":"ResUtil","./base/audio/AudioManager":"AudioManager","./base/glance_Global":"glance_Global","./config/AudioPlayId":"AudioPlayId","./config/GameConfig":"GameConfig","./config/GameState":"GameState","./config/GlobalSignals":"GlobalSignals","./config/QuestType":"QuestType","./level/MapLevel":"MapLevel","./level/WinLoseManager":"WinLoseManager","./level/WinPanelUI":"WinPanelUI","./objects/character/Main/Main":"Main","./ui/LevelUIController":"LevelUIController","./ui/LevelUIIntromation":"LevelUIIntromation"}],PlayerCoinUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5d36ebViqhIBLi21qfwydPG","PlayerCoinUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../GameData"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.coinCurrentLabel=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this._onUpdateCoin=this.onUpdateCoin.bind(this),this._onUpdateCoinCurrent=this.onUpdateCoinCurrent.bind(this),a.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),a.GlobalSignals.coinCurrentUpdateSignal.add(this._onUpdateCoinCurrent),this.onUpdateCoin(),this.setLbCoinCurrent(c.GameData.currentCoin)},e.prototype.onDisable=function(){a.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin),a.GlobalSignals.coinCurrentUpdateSignal.remove(this._onUpdateCoinCurrent)},e.prototype.onUpdateCoin=function(){this.coinLabel&&(this.coinLabel.string=c.GameData.playerCoin+"")},e.prototype.setLbCoinCurrent=function(t){this.coinCurrentLabel&&(this.coinCurrentLabel.string=t+"")},e.prototype.onUpdateCoinCurrent=function(t){this.coinCurrentLabel&&(t?this.animCountCoin(c.GameData.currentCoin,c.GameData.playerCoin+t,.5,this.coinCurrentLabel):this.animCountCoin(c.GameData.currentCoin,c.GameData.playerCoin,.5,this.coinCurrentLabel))},e.prototype.animCountCoin=function(t,e,o,n){if(o<=0)return c.GameData.currentCoin=c.GameData.playerCoin,void(this.coinCurrentLabel.string=c.GameData.currentCoin+"");var i=Math.abs(e-t),r=e>t?10:-10,a=o/(i/10),s=this,l=function(){(t+=r)===e&&(s.unschedule(l),c.GameData.currentCoin=c.GameData.playerCoin),n.string=t.toString()};this.schedule(l,a)},r([p(cc.Label)],e.prototype,"coinLabel",void 0),r([p(cc.Label)],e.prototype,"coinCurrentLabel",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals"}],PopupDaily:[function(t,e,o){"use strict";cc._RF.push(e,"f3bac20r4dHqpcPTVdAtd8H","PopupDaily");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../config/DailyConfig"),s=t("./DailyButton"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flash=null,e._content_scaler=1,e._content=null,e.dailyButton=[],e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,t&&(this._content_scaler=t.scale)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;o._instance=this,this.getCurrentWeekReward(),c.DailyConfig.WeeklyPrize.forEach(function(e,o){t.dailyButton[o].settup(7*t.getCurrentWeekReward()+o+1,o)})},e.prototype.getCurrentWeekReward=function(){return Math.trunc(a.GameData.receivedDaily/7)},e.prototype.onEnable=function(){this.content.scale=0,this.content.opacity=0,cc.tween(this.content).to(.25,{scale:this._content_scaler,opacity:255}).start()},e.prototype.close=function(){var t=this;cc.tween(this.content).to(.25,{scale:0,opacity:0}).call(function(){return t.node.active=!1}).start()},e._instance=null,r([u(cc.Node)],e.prototype,"flash",void 0),r([u()],e.prototype,"_content_scaler",void 0),r([u(cc.Node)],e.prototype,"_content",void 0),r([u(cc.Node)],e.prototype,"content",null),r([u([s.default])],e.prototype,"dailyButton",void 0),o=r([p,f("Daily/Popup")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../config/DailyConfig":"DailyConfig","./DailyButton":"DailyButton"}],PopupDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"c2275xqQlJDeJ0UQZf4qoVl","PopupDisplay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/AudioPlayId"),c=t("../MainScene"),s=t("./utils/GUIUtil"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxScale=1,e.targetAction=null,e.enabledAnim=!1,e.time_show=.2,e.time_hide=.2,e.init_fog=!0,e.opacity_fog=150,e.touchFogToHide=!1,e.btn_close=null,e.exitCallback=null,e.fog=null,e.graphics=null,e.fadeInCallback=null,e}return i(e,t),e.prototype.onLoad=function(){if(this.targetAction||(this.targetAction=this.node),null!==this.btn_close&&s.default.addClickListener(this.btn_close,this.node,"PopupDisplay","onClickExit"),this.init_fog){this.fog=new cc.Node,this.fog.width=cc.visibleRect.width,this.fog.height=cc.visibleRect.height,this.node.addChild(this.fog,-1),this.fog.addComponent(cc.BlockInputEvents);var t=this.fog.addComponent(cc.Graphics);t.lineWidth=0,t.fillColor=new cc.Color(39,66,110,this.opacity_fog);var e=cc.visibleRect.width,o=cc.visibleRect.height;if(t.fillRect(-e,-o,2*e,2*o),this.graphics=t,this.touchFogToHide){var n=this.fog.addComponent(cc.Button);s.default.addClickListener(n,this.node,"PopupDisplay","onClickExit")}}},e.prototype.onClickExit=function(){this.hide(),c.default.instance.audioPlayer.playAudio(a.AudioPlayId.effect_click,!1,.55),this.exitCallback&&this.exitCallback()},e.prototype.setExitCallback=function(t){this.exitCallback=t},e.prototype.activePopup=function(){this.node.active=!0},e.prototype.onEnable=function(){this.show()},e.prototype.show=function(){var t=this;this.enabledAnim&&(this.targetAction.stopAllActions(),this.targetAction.opacity=0,this.targetAction.scale=.5,this.targetAction.runAction(cc.sequence(cc.show(),cc.spawn(cc.fadeIn(this.time_show),cc.scaleTo(this.time_show,this.maxScale).easing(cc.easeBackInOut()),cc.sequence(cc.delayTime(.75*this.time_show),cc.callFunc(function(){t.fadeInFog()}))))))},e.prototype.fadeInFog=function(){var t=this;if(this.fog){this.fog.active=!0,this.fadeInCallback&&this.unschedule(this.fadeInCallback);var e=0,o=this.time_show/this.opacity_fog;this.fadeInCallback=function(){e++,t.graphics.fillColor=new cc.Color(39,66,110,e),e===t.opacity_fog&&(t.unschedule(t.fadeInCallback),t.fadeInCallback=null)},this.schedule(function(){t.fadeInCallback&&t.fadeInCallback()},o)}},e.prototype.hide=function(){var t=this;this.enabledAnim?this.node.active&&(this.fog&&(this.fog.active=!1),this.fadeInCallback&&this.unschedule(this.fadeInCallback),this.targetAction.stopAllActions(),this.targetAction.runAction(cc.sequence(cc.spawn(cc.fadeOut(this.time_hide),cc.scaleTo(this.time_hide,.4)),cc.hide(),cc.callFunc(function(){t.node.active=!1})))):this.node.active=!1},r([u(cc.Float)],e.prototype,"maxScale",void 0),r([u(cc.Node)],e.prototype,"targetAction",void 0),r([u(cc.Boolean)],e.prototype,"enabledAnim",void 0),r([u(cc.Float)],e.prototype,"time_show",void 0),r([u(cc.Float)],e.prototype,"time_hide",void 0),r([u(cc.Boolean)],e.prototype,"init_fog",void 0),r([u({type:cc.Integer,visible:function(){return this.init_fog}})],e.prototype,"opacity_fog",void 0),r([u({visible:function(){return this.init_fog}})],e.prototype,"touchFogToHide",void 0),r([u(cc.Node)],e.prototype,"btn_close",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","./utils/GUIUtil":"GUIUtil"}],PrefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"85978p0g2ZPOYT/H1Zjl3Yw","PrefabManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MyPrefabData=void 0;var a=t("./PrefabType"),c=t("./ResUtil"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(){function t(){this.type=a.PrefabType.NONE,this.prefab=null,this.prefabRes=""}return r([p({type:cc.Enum(a.PrefabType)})],t.prototype,"type",void 0),r([p(cc.Prefab)],t.prototype,"prefab",void 0),r([p(cc.String)],t.prototype,"prefabRes",void 0),r([l("MyPrefabData")],t)}();o.MyPrefabData=u;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabsData=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.getPrefabDataByType=function(t){for(var e=0;e<this.prefabsData.length;e++)if(this.prefabsData[e].type===t)return this.prefabsData[e];return null},e.prototype.loadPrefabByType=function(t,e){cc.log("loadPrefabByType: "+t);var o=this.getPrefabDataByType(t);if(o){if(null!=o.prefab)return void e(o.prefab);if(""!=o.prefabRes)return void c.ResUtil.loadPopupByDir(o.prefabRes,e,function(){e(null)})}e(null)},e._instance=null,r([p([u])],e.prototype,"prefabsData",void 0),o=r([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./PrefabType":"PrefabType","./ResUtil":"ResUtil"}],PrefabType:[function(t,e,o){"use strict";cc._RF.push(e,"fffa47OQmNK6LfRIx5Dgzua","PrefabType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SETTING=1]="SETTING",t[t.SELECT_ROOM=2]="SELECT_ROOM",t[t.SELECT_KINGDOM=3]="SELECT_KINGDOM",t[t.BUILD_KINGDOM=4]="BUILD_KINGDOM",t[t.SKIN_POPUP=5]="SKIN_POPUP",t[t.DAILY_POPUP=6]="DAILY_POPUP",t[t.TASK_POPUP=7]="TASK_POPUP",t[t.DETECTIVE_BOARD_POPUP=8]="DETECTIVE_BOARD_POPUP",t[t.NEW_CLUE=9]="NEW_CLUE"}(o.PrefabType||(o.PrefabType={})),cc._RF.pop()},{}],PuzzlesConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c7f6dCgBXNIfKYIMi8CFNNq","PuzzlesConfig");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Puzzles=o.PuzzlesConfig=void 0;var i=function(){function t(){}return t.checkDone=function(e){return e.length==t.maxCapacity},t.defaultCapacity=0,t.maxCapacity=4,t.upgradePrice=1e3,t.puzzlesArray=[{puzzles1:"Wallpaper1",puzzles2:"Wallpaper2",puzzles3:"Wallpaper3",puzzles4:"Wallpaper4"},{puzzles1:"Picture1",puzzles2:"Picture2",puzzles3:"Picture3",puzzles4:"Picture4"},{puzzles1:"Carpet1",puzzles2:"Carpet2",puzzles3:"Carpet3",puzzles4:"Carpet4"},{puzzles1:"Dinner table1",puzzles2:"Dinner table2",puzzles3:"Dinner table3",puzzles4:"Dinner table4"},{puzzles1:"Pumpkin1",puzzles2:"Pumpkin2",puzzles3:"Pumpkin3",puzzles4:"Pumpkin4"},{puzzles1:"Heater1",puzzles2:"Heater2",puzzles3:"Heater3",puzzles4:"Heater4"},{puzzles1:"Chair1",puzzles2:"Chair2",puzzles3:"Chair3",puzzles4:"Chair4"},{puzzles1:"Light1",puzzles2:"Light2",puzzles3:"Light3",puzzles4:"Light4"},{puzzles1:"window1",puzzles2:"window2",puzzles3:"window3",puzzles4:"window4"}],t}();o.PuzzlesConfig=i;var r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.dir="",this.roomId=1,this.itemId=1,this.part=1}return n([c(cc.Integer)],t.prototype,"roomId",void 0),n([c(cc.Integer)],t.prototype,"itemId",void 0),n([c(cc.Integer)],t.prototype,"part",void 0),n([a("Puzzles")],t)}();o.Puzzles=s,cc._RF.pop()},{}],PuzzlesPopup:[function(t,e,o){"use strict";cc._RF.push(e,"bbd045MCxZAqorofcINo+Wt","PuzzlesPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../HomeScreen"),s=t("../MainScene"),l=t("../PlayScreen"),p=t("../ResUtil"),u=t("../base/SetLabelLanguage"),f=t("../config/PuzzlesConfig"),d=t("../objects/character/Mom/Mom"),h=cc._decorator,_=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.puzzles=[],e.namePuzzles=null,e.blockInput=null,e.closeCallback=null,e.playAnimCallback=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.init=function(t,e,o,n){var i=this;void 0===o&&(o=null),this.blockInput.active=!0;var r=a.GameData.currentRoomId+1,d=Object.values(f.PuzzlesConfig.puzzlesArray[e-1])[0],h=d.substring(0,d.length-1);this.namePuzzles.string=u.ChangeLanguage.getText(h.toLowerCase()),t.sort(),t.forEach(function(t){var o="/HomePin2/Puzzle/Decor"+(r-1)+"/"+Object.values(f.PuzzlesConfig.puzzlesArray[e-1])[t];p.ResUtil.loadSprite(o,function(e){var o=new cc.SpriteFrame;o.setTexture(e),i.puzzles[t].spriteFrame=o})}),o?(this.puzzles[n].node.zIndex=1,cc.tween(this.puzzles[n].node).to(.5,{scale:1.3},{easing:"quartIn"}).call(function(){}).to(.5,{scale:1},{easing:"quartOut"}).call(function(){4==t.length?(i.node.active=!1,s.default.instance.showHomeScreen(function(t){var n=t.getComponent(c.default);n.blockInput.active=!0,n.initOpenItem(e-1,function(){s.default.instance.showGamePlayScreen(function(){n.blockInput.active=!1,l.default.instance.isContinue=!1,o()},!0)})},!0)):i.blockInput.active=!1}).start(),this.closeCallback=o):this.blockInput.active=!1},e.prototype.closePopup=function(){l.default.instance.node.active&&d.default.instance.onSoundWinPuzzle(),this.closeCallback&&this.closeCallback(),this.playAnimCallback&&this.playAnimCallback(),this.node.destroy()},e.prototype.setPlayAnimCallBack=function(t){void 0===t&&(t=null),t&&(this.playAnimCallback=t)},e._instance=null,r([y([cc.Sprite])],e.prototype,"puzzles",void 0),r([y(cc.Label)],e.prototype,"namePuzzles",void 0),r([y(cc.Node)],e.prototype,"blockInput",void 0),o=r([_],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../base/SetLabelLanguage":"SetLabelLanguage","../config/PuzzlesConfig":"PuzzlesConfig","../objects/character/Mom/Mom":"Mom"}],QuestType:[function(t,e,o){"use strict";var n;cc._RF.push(e,"5d3b69LiD5BJIg8NTr//0Wl","QuestType"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuestUtil=o.QuestType=void 0,function(t){t[t.COLLECT_GEMS=0]="COLLECT_GEMS",t[t.COLLECT_ITEM=1]="COLLECT_ITEM",t[t.KILL_ENEMY=2]="KILL_ENEMY",t[t.SAVE_HOSTAGE=3]="SAVE_HOSTAGE",t[t.OPEN_CHEST=4]="OPEN_CHEST",t[t.ALL=5]="ALL",t[t.BUILD=6]="BUILD",t[t.COLLECT_SINGLE_ITEM=7]="COLLECT_SINGLE_ITEM",t[t.COLLECT_WATER=8]="COLLECT_WATER",t[t.COLLECT_FIRE=9]="COLLECT_FIRE",t[t.COLLECT_SKIN=10]="COLLECT_SKIN",t[t.COLLECT_SMOKE=11]="COLLECT_SMOKE",t[t.COLLECT_PUZZLE=12]="COLLECT_PUZZLE",t[t.INTRO=13]="INTRO",t[t.CUSTOM_COLLECT=14]="CUSTOM_COLLECT"}(n=o.QuestType||(o.QuestType={}));var i=function(){function t(){}return t.getQuestName=function(t){switch(t){case n.COLLECT_GEMS:return"COLLECT THE GOLD";case n.COLLECT_ITEM:return"COLLECT THE ITEM";case n.KILL_ENEMY:return"TAKE DOWN ENEMIES";case n.SAVE_HOSTAGE:return"SAVE YOUR WIFE";case n.OPEN_CHEST:return"OPEN MONEY SAFE";case n.BUILD:return"BUILD";case n.COLLECT_WATER:return"COLLECT WATER";case n.COLLECT_SMOKE:return"COLLECT SMOKE";case n.COLLECT_FIRE:return"COLLECT FIRE";case n.COLLECT_SKIN:return"COLLECT SKIN";case n.COLLECT_SKIN:return"COLLECT PUZZLE";case n.INTRO:return"INTRO"}return"DO NOTHING"},t}();o.QuestUtil=i,cc._RF.pop()},{}],RandomPinPopup:[function(t,e,o){"use strict";cc._RF.push(e,"def57j8iv5L9Z5pfmT80yzl","RandomPinPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RandomPinPopup=void 0;var a=t("../GameData"),c=t("../TS/Helper/Global"),s=t("../skin/SkinShopItem"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.root=null,e.flash=null,e.content=null,e.model=null,e.claim_btn=null,e._tween=[],e}return i(e,t),e.settup=function(t,e){t.settup(e).then(function(){t.start_tweens()}),t.root.scale=1,a.GameData.addSkinMain("pins",e,null)},e.prototype.tween=function(t){var e=cc.tween(t);return this._tween.push(e),e},e.prototype.flush_tweens=function(){this._tween.filter(function(t){return null==t?void 0:t.stop()}),this._tween=[]},e.prototype.start_tweens=function(){this._tween.filter(function(t){return null==t?void 0:t.start()})},e.prototype.onEnable=function(){this.root.scale=0},e.prototype.settup=function(t){var e=this,o=new Promise(function(o){c.PTS.loader.sprite_changer(s.get_skin_shop_dir("pins",t),function(t){e.model.spriteFrame=t,o()})});return this.flash.opacity=0,this.claim_btn.interactable=!1,this.tween(this.flash).to(.5,{opacity:200}).call(function(){return e.claim_btn.interactable=!0}),this.tween(this.content).by(0,{y:1280}).by(.5,{y:-1280}),o},e.prototype.claim_BTN=function(){var t=this;this.flush_tweens(),this.claim_btn.interactable=!1,this.tween(this.flash).to(.5,{opacity:0}).call(function(){return t.root.scale=0}),this.tween(this.content).by(.5,{y:1280}),this.start_tweens()},r([u(cc.Node)],e.prototype,"root",void 0),r([u(cc.Node)],e.prototype,"flash",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Sprite)],e.prototype,"model",void 0),r([u(cc.Button)],e.prototype,"claim_btn",void 0),r([p,f("Daily/Random Pin Popup")],e)}(cc.Component);o.RandomPinPopup=d,cc._RF.pop()},{"../GameData":"GameData","../TS/Helper/Global":"Global","../skin/SkinShopItem":"SkinShopItem"}],RedirectBox:[function(t,e,o){"use strict";cc._RF.push(e,"058d0xuib9Irref/RDYDp4j","RedirectBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/TagObject"),c=cc._decorator.requireComponent,s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},r([l,c(cc.BoxCollider)],e)}(a.default));o.default=p,cc._RF.pop()},{"../config/TagObject":"TagObject"}],RenderMask:[function(t,e,o){"use strict";cc._RF.push(e,"a614br+C3hLLpr2mTVO2UTF","RenderMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.sprite=null,e}return i(e,t),e.prototype.onLoad=function(){this.renderTexture=new cc.RenderTexture,this.renderTexture.initWithSize(cc.winSize.width,cc.winSize.height),this.camera.targetTexture=this.renderTexture},e.prototype.start=function(){this.sprite.node.active=!0,this.sprite.spriteFrame=new cc.SpriteFrame(this.renderTexture);var t=cc.winSize;this.sprite.node.height=t.height,this.sprite.node.width=t.width},r([s(cc.Camera)],e.prototype,"camera",void 0),r([s(cc.Sprite)],e.prototype,"sprite",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ReplaceItem:[function(t,e,o){"use strict";cc._RF.push(e,"4ce22WmDM5HTKiCTY9oGBzE","ReplaceItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ReplaceItemType=void 0;var a,c=cc.easeBackOut,s=cc._decorator,l=s.ccclass,p=s.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.SLIDING_RIGHT=1]="SLIDING_RIGHT",t[t.SLIDING_TOP=2]="SLIDING_TOP"})(a=o.ReplaceItemType||(o.ReplaceItemType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.replaceType=a.NORMAL,e.replaceBy=null,e.decorName="",e}return i(e,t),e.prototype.replace=function(t){this.replaceType===a.NORMAL&&(this.node.active=!1,this.replaceBy.active=!0,this.replaceBy.scale=1,cc.tween(this.replaceBy).to(.2,{scale:.8}).to(.25,{scale:1},c()).delay(2).call(t).start())},r([p({type:cc.Enum(a)})],e.prototype,"replaceType",void 0),r([p(cc.Node)],e.prototype,"replaceBy",void 0),r([p(cc.String)],e.prototype,"decorName",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ResUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9fb44pIzLhBGbM9vI6AHeWX","ResUtil");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.ResUtil=void 0;var i=t("./config/RoomConfig"),r=t("./config/LevelConfig"),a=function(){function t(){}return t.loadPopupByDir=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var i=t.split("/").pop();cc.log("loadPopupByDir: "+i),this.mapPrefab.has(i)?e&&e(this.mapPrefab.get(i)):this.loadPrefab(t,function(t){n.mapPrefab.set(i,t),e&&e(t)},o)},t.loadRoomById=function(t,e,o,n){var r=this;if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null),t<0||t>=i.RoomConfig.rooms.length)return cc.warn("loadRoomById: "+t),void(o&&o());var a=i.RoomConfig.rooms[t].name;this.mapPrefab.has(a)?e&&e(this.mapPrefab.get(a)):(cc.resources.load(["prefabs/levels/Level-","prefabs/skin/SkinPopup","prefabs/rooms/popupRoom","prefabs/daily/DailyPopup"],null,function(){}),this.loadRoomByName(a,function(t){r.mapPrefab.set(a,t),e&&e(t)},o,n))},t.loadLevelById=function(t,e,o,n){var i=this;if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null),t>=r.LevelConfig.levels.length||!r.LevelConfig.levels[t]){var a=Math.floor(Math.random()*(this.cloneArray.length-5)+5);r.LevelConfig.levels[t]=this.cloneArray[a]}var c=r.LevelConfig.levels[t];this.mapPrefab.has(c)?e&&e(this.mapPrefab.get(c)):this.loadLevelByName(c,function(t){i.mapPrefab.set(c,t),e&&e(t)},o,n)},t.loadLevelPuzzleById=function(t,e,o,n){var i=this;if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null),t>=r.LevelConfig.levelsPuzzle.length){var a=Math.floor(Math.random()*r.LevelConfig.levelsPuzzle.length);r.LevelConfig.levelsPuzzle[t-1]=r.LevelConfig.levelsPuzzle[a]}var c=r.LevelConfig.levelsPuzzle[t];this.mapPrefab.has(c)?e&&e(this.mapPrefab.get(c)):this.loadLevelPuzzleByName(c,function(t){i.mapPrefab.set(c,t),e&&e(t)},o,n)},t.releaseLevelById=function(t){if(!(t<0||t>=r.LevelConfig.levels.length)){var e=r.LevelConfig.levels[t];this.mapPrefab.has(e)&&this.mapPrefab.delete(e)}},t.releaseLevelPuzzleById=function(t){if(!(t<0||t>=r.LevelConfig.levelsPuzzle.length)){var e=r.LevelConfig.levelsPuzzle[t];this.mapPrefab.has(e)&&this.mapPrefab.delete(e)}},t.releaseAllLevel=function(){var t=this;console.log("releaseAllLevel"),this.mapPrefab.forEach(function(e,o){o.includes("Level-")&&t.mapPrefab.delete(o)})},t.loadLevelByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/levels/"+t;this.loadPrefab(i,e,o,n)},t.loadLevelPuzzleByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/LevelPuzzle/"+t;this.loadPrefab(i,e,o,n)},t.loadRoomByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/rooms/"+t;this.loadPrefab(i,e,o,n)},t.loadScreenByName=function(t,e,o,n){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null);var i="prefabs/screens/"+t;this.loadPrefab(i,e,o,n)},t.loadPrefab=function(t,e,o,n){var i=this;cc.resources.load(t,function(t,e){n&&n(t,e)},function(n,r){if(n)return cc.log(n),void(o&&o(n));e&&(cc.log("loadPrefab: "+t),cc.log(i.mapPrefab),e(r))})},t.loadSprite=function(t,e,o){void 0===o&&(o=null),cc.resources.load(t,function(t,n){if(t)return cc.log(t),void(o&&o(t));e&&e(n)})},t.convertArr=function(t){var e=[];return t.forEach(function(t,o){e[o]=t?o:null}),e},t.getRandomLeftArr=function(t,e){for(var o=[],n=0;n<e;n++)o[n]=n;return(o=o.filter(function(e){return!t.includes(e)}))[Math.floor(Math.random()*o.length)]},t.mapPrefab=new Map,t.cloneArray=n(r.LevelConfig.levels),t}();o.ResUtil=a,cc._RF.pop()},{"./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],RockGO:[function(t,e,o){"use strict";cc._RF.push(e,"05a511vQ/dK6brRHisPIMnD","RockGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/PhysicsConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.PhysicsConfig.initPhysicConfig(this.node,"rock")},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/PhysicsConfig":"PhysicsConfig"}],RoomConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a08e9OqjtxLA7vTG49W3C13","RoomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomConfig=void 0;var n=function(){function t(){}return t.getRoomIdByName=function(e){for(var o=t.rooms,n=0;n<o.length;n++)if(o[n].name===e)return n;return-1},t.rooms=[{name:"Room0",size:1},{name:"Room1",size:9}],t}();o.RoomConfig=n,cc._RF.pop()},{}],RoomPopup:[function(t,e,o){"use strict";cc._RF.push(e,"e74fdZjVdNLo4UvP947S5sJ","RoomPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../HomeScreen"),c=t("../MainScene"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topUI=null,e.bottomUI=null,e}return i(e,t),e.prototype.onEnable=function(){cc.tween(this.node).to(.3,{scale:1},{easing:"backInOut"}).start(),a.default.instance.hideUI()},e.prototype.onHide=function(){a.default.instance.showUI(),c.default.instance.selectRoomPopup=null,this.node.destroy()},r([p(cc.Node)],e.prototype,"topUI",void 0),r([p(cc.Node)],e.prototype,"bottomUI",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../HomeScreen":"HomeScreen","../MainScene":"MainScene"}],RootSync:[function(t,e,o){"use strict";cc._RF.push(e,"98912daj5pA+rM5EITU3SE8","RootSync");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RootSync=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target_=null,e._stop=!1,e.enable_at_editor=!1,e}return i(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target_},set:function(t){t!==this.node&&(t||(this.enable_at_editor=!1),this._target_=t)},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this._stop||this.sync(t)},e.prototype.stop=function(){this._stop=!0},e.prototype.resume=function(){this._stop=!1},r([s(cc.Node)],e.prototype,"_target_",void 0),r([s(cc.Node)],e.prototype,"target",null),r([s({visible:function(){return!!this._target_}})],e.prototype,"enable_at_editor",void 0),r([c,l()],e)}(cc.Component);o.RootSync=p,cc._RF.pop()},{}],RopeFull:[function(t,e,o){"use strict";cc._RF.push(e,"6635aO0sr9Oyr3AEOv3cQ/f","RopeFull");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./RopePart"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;this.node.children.forEach(function(e){var o=e.getComponent(a.default);o&&o.setCutCallback(t.cutRopeInNode.bind(t))})},e.prototype.cutRopeInNode=function(t){cc.log("cutRopeInNode"),t.destroy(),this.node.children.forEach(function(t){var e=t.getComponent(a.default);e&&(e.enabled=!1)})},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./RopePart":"RopePart"}],RopePart:[function(t,e,o){"use strict";cc._RF.push(e,"d8140MIb8lO+6wUn4tOHlGX","RopePart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cutCallback=null,e}return i(e,t),e.prototype.start=function(){if(!this.getComponent(cc.BoxCollider)){var t=this.getComponent(cc.PhysicsBoxCollider),e=this.addComponent(cc.BoxCollider);e.offset=t.offset,e.size=t.size}},e.prototype.setCutCallback=function(t){this.cutCallback=t},e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.TOUCH||this.cutCallback&&this.cutCallback(this.node)},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],RotateByRepeatAnimX2:[function(t,e,o){"use strict";cc._RF.push(e,"97cddXVcLlODqus7E1jO7Be","RotateByRepeatAnimX2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.rotate1=20,e.duration2=.2,e.rotate2=-20,e.autoPlay=!0,e.rotateStart=0,e}return i(e,t),e.prototype.onLoad=function(){this.rotateStart=this.node.angle},e.prototype.play=function(t){var e=cc.sequence(cc.rotateTo(this.duration1,this.rotateStart+this.rotate1),cc.rotateTo(this.duration2,this.rotateStart+this.rotate2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},r([l(cc.Boolean)],e.prototype,"repeatForever",void 0),r([l(cc.Float)],e.prototype,"duration1",void 0),r([l(cc.Float)],e.prototype,"rotate1",void 0),r([l(cc.Float)],e.prototype,"duration2",void 0),r([l(cc.Float)],e.prototype,"rotate2",void 0),r([l(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnimX2")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],RotateByRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"74217uxCGJHJKu4GavSlA32","RotateByRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=1,e.rotate1=360,e.autoPlay=!0,e}return i(e,t),e.prototype.play=function(t){var e=cc.rotateBy(this.duration1,this.rotate1);this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},e.prototype.onDisable=function(){this.node.stopAllActions()},r([l(cc.Boolean)],e.prototype,"repeatForever",void 0),r([l(cc.Float)],e.prototype,"duration1",void 0),r([l(cc.Float)],e.prototype,"rotate1",void 0),r([l(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnim")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],RunSpineAnim:[function(t,e){"use strict";cc._RF.push(e,"575eanEO8FJ971kCFjcwy5O","RunSpineAnim");var o,n,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target_=null,e.loop_at_end=!1,e.selects=[],e}return i(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target_},set:function(t){this._target_=t},enumerable:!1,configurable:!0}),e.prototype.execute=function(){if(console.log(this.selects),this.selects.length>=2){this.target.setAnimation(0,this.selects[0],!1);for(var t=1;t<this.selects.length;t++){var e=t===this.selects.length-1&&this.loop_at_end;this.target.addAnimation(0,this.selects[t],e)}}else this.target.setAnimation(0,this.selects[0],this.loop_at_end)},r([s(sp.Skeleton)],e.prototype,"_target_",void 0),r([s(sp.Skeleton)],e.prototype,"target",null),r([s()],e.prototype,"loop_at_end",void 0),r([s([cc.String])],e.prototype,"selects",void 0),r([c(),l("TSEditor/Spine/Run chain anims")],e)}(cc.Component);t.RunSpineAnim=e})(n||(n={})),cc._RF.pop()},{}],SHA256:[function(t,e,o){"use strict";cc._RF.push(e,"c963eSzGL5MMZp9Q7JgMatl","SHA256");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var r=t("../lib/Hasher"),a=t("../lib/WordArray"),c=[],s=[],l=[],p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new a.WordArray(c.slice(0))},e.prototype._doProcessBlock=function(t,e){for(var o=this._hash.words,n=o[0],i=o[1],r=o[2],a=o[3],c=o[4],p=o[5],u=o[6],f=o[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var h=l[d-15],_=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=l[d-2],g=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;l[d]=_+l[d-7]+g+l[d-16]}var v=n&i^n&r^i&r,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),m=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&p^~c&u)+s[d]+l[d];f=u,u=p,p=c,c=a+m|0,a=r,r=i,i=n,n=m+(b+v)|0}o[0]=o[0]+n|0,o[1]=o[1]+i|0,o[2]=o[2]+r|0,o[3]=o[3]+a|0,o[4]=o[4]+c|0,o[5]=o[5]+p|0,o[6]=o[6]+u|0,o[7]=o[7]+f|0},e.prototype._doFinalize=function(){var t=8*this._nDataBytes,e=8*this._data.sigBytes;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[14+(e+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(e+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},e}(r.Hasher);o.SHA256=p,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],ScaleRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"6217devR7JH3ad1/GjLdKfy","ScaleRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.scale1=1.2,e.duration2=.2,e.scale2=1,e}return i(e,t),e.prototype.play=function(t){var e=cc.sequence(cc.scaleTo(this.duration1,this.scale1),cc.scaleTo(this.duration2,this.scale2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.play(this.node)},r([s(cc.Boolean)],e.prototype,"repeatForever",void 0),r([s(cc.Float)],e.prototype,"duration1",void 0),r([s(cc.Float)],e.prototype,"scale1",void 0),r([s(cc.Float)],e.prototype,"duration2",void 0),r([s(cc.Float)],e.prototype,"scale2",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScissorContainerGO:[function(t,e,o){"use strict";cc._RF.push(e,"7995fT+hmtMwIxTYGBRFJM4","ScissorContainerGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SissorContainer=void 0;var a=t("../../config/TagObject"),c=t("../../level/WinLoseManager"),s=t("./ContainerGO"),l=cc._decorator,p=l.ccclass,u=l.menu,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.object_type=a.TagConfig.SCISSOR,e._tweens=[],e._on_complete_move_ball=function(t){if(t.model instanceof sp.Skeleton){var o=t.model.setAnimation(0,"Cut",!1);t.model.setTrackCompleteListener(o,function(){e.tween(t.model_node).call(function(){return cc.instance(c.WinLoseManager).invoke_win(1)}).to(.5,{opacity:0}).start()})}},e}return i(e,t),e.prototype.onDisable=function(){t.prototype.onDisable.call(this);for(var e=0,o=this._tweens;e<o.length;e++)o[e].stop()},e.prototype.tween=function(t){var e=cc.tween(t);return this._tweens.push(e),e},r([f({type:cc.Enum(a.TagConfig),readonly:!0,override:!0})],e.prototype,"object_type",void 0),r([p,u("Object/Container/Sissor Container")],e)}(s.ContainerGO);o.SissorContainer=d,cc._RF.pop()},{"../../config/TagObject":"TagObject","../../level/WinLoseManager":"WinLoseManager","./ContainerGO":"ContainerGO"}],ScreenManager:[function(t,e,o){"use strict";cc._RF.push(e,"901c3FK5gZOZ6/0KHHjo2D4","ScreenManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenManager=o.ScreenConfig=o.ScreenId=void 0;var a,c=t("./TS/Transition/FlashTransition"),s=cc._decorator,l=s.ccclass,p=s.property;(function(t){t[t.NONE=0]="NONE",t[t.HOME_SCREEN=1]="HOME_SCREEN",t[t.PLAY_SCREEN=2]="PLAY_SCREEN",t[t.CASTLE_SCREEN=3]="CASTLE_SCREEN",t[t.INTRO=4]="INTRO"})(a=o.ScreenId||(o.ScreenId={}));var u=function(){function t(){this.screenId=a.HOME_SCREEN,this.screen=null}return r([p({type:cc.Enum(a)})],t.prototype,"screenId",void 0),r([p(cc.Node)],t.prototype,"screen",void 0),r([l("ScreenConfig")],t)}();o.ScreenConfig=u;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flash=null,e.arrayConfig=[],e}return i(e,t),Object.defineProperty(e.prototype,"flash_position",{set:function(t){this.flash.node.position=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.showScreenById=function(t,e,o){var n=this;if(void 0===o&&(o=!1),cc.log("showScreenById: "+t),o){var i=this.activeScreenById(t);e&&e(i)}else this.showFlash(1,function(){var o=n.activeScreenById(t);e&&e(o)},t)},e.prototype.activeScreenById=function(t){for(var e=null,o=0;o<this.arrayConfig.length;o++)this.arrayConfig[o].screenId===t?(this.arrayConfig[o].screen.active=!0,e=this.arrayConfig[o].screen):this.arrayConfig[o].screen.active=!1;return e},e.prototype.getScreenById=function(t){for(var e=0;e<this.arrayConfig.length;e++)if(this.arrayConfig[e].screenId===t)return this.arrayConfig[e].screen;return null},e.prototype.showFlashOnNextLevel=function(t,e,o){void 0===t&&(t=1),void 0===e&&(e=null),this.flash.node.active=!0,this.flash.shortFlash(t,e,o)},e.prototype.showFlash=function(t,e,o){void 0===t&&(t=1),void 0===e&&(e=null),this.flash.node.active=!0,this.flash.longFlash({goToDuration:t/4,delay:t/2,goBackDuration:t/4},e,o)},e.prototype.getIntroDT=function(){this.arrayConfig[3].screen.getComponent("cc.Animation").getClips()[0].duration},e.prototype.getTransitionDt=function(){return this.flash.duration},e.prototype.setPosFlash=function(t){var e=this.node.parent.convertToNodeSpaceAR(t);t&&(this.flash.node.position=e)},r([p(c.FlashTransition)],e.prototype,"flash",void 0),r([p([u])],e.prototype,"arrayConfig",void 0),r([l],e)}(cc.Component);o.ScreenManager=f,cc._RF.pop()},{"./TS/Transition/FlashTransition":"FlashTransition"}],SelectRoomItem:[function(t,e,o){"use strict";cc._RF.push(e,"2454fqSpTFBzaqjc3+RKCvv","SelectRoomItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../GameData"),s=t("../MainScene"),l=t("../HomeScreen"),p=t("../config/RoomConfig"),u=t("../config/LevelConfig"),f=t("../base/SetLabelLanguage"),d=cc._decorator,h=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="Room1",e.levelUnlock=40,e.lock=null,e.label_unlock=null,e.button=null,e}return i(e,t),e.prototype.onLoad=function(){this.button=this.node.getComponent(cc.Button),this.button?a.default.addClickListener(this.button,this.node,"SelectRoomItem","onClick"):this.button=this.node.addComponent(cc.Button)},e.prototype.onEnable=function(){c.GameData.currentLevelId>=this.levelUnlock&&u.LevelConfig.realLevelSize>=this.levelUnlock?(this.lock.active=!1,this.button.interactable=!0):(this.lock.active=!0,this.button.interactable=!1,u.LevelConfig.realLevelSize<this.levelUnlock?(this.label_unlock.string=f.ChangeLanguage.getText("comingsoon"),this.label_unlock.fontSize=14):this.label_unlock.string=f.ChangeLanguage.getText("level")+this.levelUnlock)},e.prototype.onClick=function(){var t=p.RoomConfig.getRoomIdByName(this.prefabName);t!=l.default.instance.visibleRoomId?l.default.instance.loadRoom(t,function(){s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})}):s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})},r([_(cc.String)],e.prototype,"prefabName",void 0),r([_(cc.Integer)],e.prototype,"levelUnlock",void 0),r([_(cc.Node)],e.prototype,"lock",void 0),r([_(cc.Label)],e.prototype,"label_unlock",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../base/utils/GUIUtil":"GUIUtil","../config/LevelConfig":"LevelConfig","../config/RoomConfig":"RoomConfig"}],SerializableCipher:[function(t,e,o){"use strict";cc._RF.push(e,"e5f80C4+uJKCYlc2R9+sxYd","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var n=t("./WordArray"),i=t("../format/OpenSSL"),r=t("./CipherParams"),a=function(){function t(){}return t.encrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n),a=t.createEncryptor(o,i),c=a.finalize(e);return new r.CipherParams({ciphertext:c,key:o,iv:a.cfg.iv,algorithm:t,mode:a.cfg.mode,padding:a.cfg.padding,blockSize:a.cfg.blockSize,formatter:i.format})},t.decrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n);if(!i.format)throw new Error("could not determine format");if(!(e=this._parse(e,i.format)).ciphertext)throw new Error("could not determine ciphertext");return t.createDecryptor(o,i).finalize(e.ciphertext)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new n.WordArray([]),format:i.OpenSSL},t}();o.SerializableCipher=a,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],SetLabelLanguage:[function(t,e,o){"use strict";cc._RF.push(e,"931dfkHxOVH6ag6AahIZw2V","SetLabelLanguage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeLanguage=o.CodeLanguage=void 0;var a=t("../MainScene"),c=t("./Language"),s=cc._decorator,l=s.ccclass,p=s.property;o.CodeLanguage={0:"EN",1:"JA",2:"ID",3:"DE"};var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.codeLanguage=null,e.key="",e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n._instance=this,this.codeLanguage=Object.values(o.CodeLanguage).indexOf(a.default.instance.language)},e.prototype.onEnable=function(){if(this.key)switch(this.codeLanguage){case 3:if("skip"==this.key)return void this.resizeLabel(30,30);if("play"==this.key)return void this.resizeLabel(55,65);if("dailyReward"==this.key)return void this.resizeLabel(28,28);if("freecoin"==this.key)return void this.resizeLabel(24,24);if("win"==this.key)return void this.resizeLabel(30,30);if("replay"==this.key)return void this.resizeLabel(38,38);if("continue"==this.key)return void this.resizeLabel(38,38);this.node.getComponent(cc.Label).string=c.TextLanguage[a.default.instance.language][this.key];break;default:this.node.getComponent(cc.Label).string=c.TextLanguage[a.default.instance.language][this.key]}},e.prototype.resizeLabel=function(t,e){var o=this.node.getComponent(cc.Label);o.string=c.TextLanguage[a.default.instance.language][this.key],o.fontSize=t,o.lineHeight=e},e._instance=null,r([p(cc.String)],e.prototype,"key",void 0),n=r([l],e)}(cc.Component);o.default=u;var f=function(){function t(){}return t.getText=function(t){return c.TextLanguage[a.default.instance.language][t]},t.getTextInfor=function(t){return{data:c.TextLanguage[a.default.instance.language][t],offFont:function(){return"JA"==a.default.instance.tlang}}},t}();o.ChangeLanguage=f,cc._RF.pop()},{"../MainScene":"MainScene","./Language":"Language"}],SettingsPopup:[function(t,e,o){"use strict";cc._RF.push(e,"1ae5czkyCxFupccCa3ZqkvT","SettingsPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/toggle/ToggleSliderGroup"),c=t("../base/audio/AudioManager"),s=t("../GameData"),l=t("../config/GlobalSignals"),p=t("../MainScene"),u=t("../config/AudioPlayId"),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_sound_effect=null,e.btn_sound_music=null,e.btn_reset_data=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_sound_effect.setOnClickCallback(function(t){p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),c.default.EffectEnable=t}),this.btn_sound_music.setOnClickCallback(function(t){p.default.instance.audioPlayer.playAudio(u.AudioPlayId.effect_click,!1,.55),c.default.MusicEnable=t}),this.btn_reset_data&&(this.btn_reset_data.node.active=null==window.isDev||window.isDev),l.GlobalSignals.updateToggleSound.add(this.onSound.bind(this))},e.prototype.onEnable=function(){this.onSound()},e.prototype.onDisable=function(){l.GlobalSignals.updateToggleSound.remove(this.onSound.bind(this))},e.prototype.onSound=function(){this.btn_sound_effect.setToggleState(c.default.EffectEnable),this.btn_sound_music.setToggleState(c.default.MusicEnable)},e.prototype.onClearData=function(){cc.warn("onClearData"),s.GameData.clearData()},r([h(a.default)],e.prototype,"btn_sound_effect",void 0),r([h(a.default)],e.prototype,"btn_sound_music",void 0),r([h(cc.Button)],e.prototype,"btn_reset_data",void 0),r([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/audio/AudioManager":"AudioManager","../base/toggle/ToggleSliderGroup":"ToggleSliderGroup","../config/AudioPlayId":"AudioPlayId","../config/GlobalSignals":"GlobalSignals"}],SignalBinding:[function(t,e,o){"use strict";cc._RF.push(e,"986cbDaJqlNrbiJVow96Bwm","SignalBinding"),Object.defineProperty(o,"__esModule",{value:!0}),o.SignalBinding=void 0;var n=function(){function t(t,e,o,n,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=o,this.context=n,this._signal=t,this.priority=i||0}return t.prototype.execute=function(t){var e,o;return this.active&&this._listener&&(o=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,o),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();o.SignalBinding=n,cc._RF.pop()},{}],Signal:[function(t,e,o){"use strict";cc._RF.push(e,"cb5e6YetPdPRqAkDnrTk1Ag","Signal"),Object.defineProperty(o,"__esModule",{value:!0}),o.Signal=void 0;var n=t("./SignalBinding"),i=function(){function t(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return t.prototype.have_any_listeners=function(){return this.getNumListeners()>0},t.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},t.prototype._registerListener=function(t,e,o,i){var r,a=this._indexOfListener(t,o);if(-1!==a){if((r=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n.SignalBinding(this,t,e,o,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},t.prototype._addBinding=function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},t.prototype._indexOfListener=function(t,e){for(var o,n=this._bindings.length;n--;)if((o=this._bindings[n]).getListener()===t&&o.context===e)return n;return-1},t.prototype.has=function(t,e){return void 0===e&&(e=null),-1!==this._indexOfListener(t,e)},t.prototype.add=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,o)},t.prototype.addOnce=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,o)},t.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var o=this._indexOfListener(t,e);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),t},t.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},t.prototype.getNumListeners=function(){return this._bindings.length},t.prototype.halt=function(){this._shouldPropagate=!1},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var o,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){o=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(t))}}},t.prototype.forget=function(){this._prevParams=null},t.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},t.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},t.VERSION="1.0.0",t}();o.Signal=i,cc._RF.pop()},{"./SignalBinding":"SignalBinding"}],SkinBossUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"b96455DzyhL1JYIEFU8HEc7","SkinBossUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../GameData"),s=t("../TS/Helper/Global"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.anim="Idle",e._onUpdateSkinBoss=null,e}return i(e,t),e.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},e.prototype.onEnable=function(){this._onUpdateSkinBoss=this.onUpdateSkinBoss.bind(this),a.GlobalSignals.changeSkinBossSignal.add(this._onUpdateSkinBoss),this.onUpdateSkinBoss()},e.prototype.onDisable=function(){a.GlobalSignals.changeSkinBossSignal.remove(this._onUpdateSkinBoss)},e.prototype.onUpdateSkinBoss=function(){s.PTS.spine.reload_skin_fullpack(this.skeleton,{replacer:c.GameData.currentSkinBoss},{replacer:c.GameData.currentShoeBoss},{replacer:c.GameData.currentHatBoss})},r([u(sp.Skeleton)],e.prototype,"skeleton",void 0),r([u(cc.String)],e.prototype,"anim",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../TS/Helper/Global":"Global","../config/GlobalSignals":"GlobalSignals"}],SkinConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c02cavE5GRJyqMzIcM60HHk","SkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SkinConfig=void 0;var n=function(){function t(){}return t.getSkinNameById=function(e){for(var o=t.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===e){var i=o[n];return i.skins[i.skins.length-1]}return"Base"},t.get_type={free:"free",buy:"buy",claim_ad:"claim_ad",gift_code:"gift_code",share_fb:"share_fb",daily_reward:"daily_reward",level:"levelreward"},t.arraySkinBoss=[{skinId:"0",skins:["Clothes1"],type:t.get_type.level,value:17},{skinId:"1",skins:["Clothes2"],type:t.get_type.buy,value:5e3},{skinId:"2",skins:["Clothes3"],type:t.get_type.buy,value:5e3},{skinId:"3",skins:["Clothes4"],type:t.get_type.buy,value:5e3},{skinId:"4",skins:["Clothes5"],type:t.get_type.buy,value:5e3},{skinId:"5",skins:["Clothes6"],type:t.get_type.buy,value:5e3},{skinId:"6",skins:["Clothes7"],type:t.get_type.buy,value:5e3},{skinId:"7",skins:["Clothes8"],type:t.get_type.buy,value:5e3},{skinId:"8",skins:["Clothes9"],type:t.get_type.buy,value:5e3},{skinId:"9",skins:["Clothes10"],type:t.get_type.buy,value:5e3},{skinId:"10",skins:["Clothes11"],type:t.get_type.buy,value:5e3},{skinId:"11",skins:["Clothes12"],type:t.get_type.buy,value:75e3},{skinId:"12",skins:["Clothes13"],type:t.get_type.buy,value:75e3},{skinId:"13",skins:["Clothes14"],type:t.get_type.buy,value:75e3},{skinId:"14",skins:["Clothes15"],type:t.get_type.buy,value:75e3}],t.arrayHatBoss=[{skinId:"0",skins:["Chuptai"],type:t.get_type.level,value:21},{skinId:"1",skins:["Hat1"],type:t.get_type.buy,value:3e3},{skinId:"2",skins:["Hat2"],type:t.get_type.buy,value:3e3},{skinId:"3",skins:["Hat3"],type:t.get_type.buy,value:3e3},{skinId:"4",skins:["Hat4"],type:t.get_type.buy,value:3e3},{skinId:"5",skins:["Hat5"],type:t.get_type.buy,value:3e3},{skinId:"6",skins:["Hat6"],type:t.get_type.buy,value:3e3},{skinId:"7",skins:["Hat7"],type:t.get_type.buy,value:3e3},{skinId:"8",skins:["Hat9"],type:t.get_type.buy,value:3e3},{skinId:"9",skins:["Hat8"],type:t.get_type.buy,value:3e3},{skinId:"10",skins:["Hat10"],type:t.get_type.buy,value:3e3},{skinId:"11",skins:["Hat11"],type:t.get_type.buy,value:5e3},{skinId:"12",skins:["Hat12"],type:t.get_type.buy,value:5e3},{skinId:"13",skins:["Hat13"],type:t.get_type.buy,value:5e3},{skinId:"14",skins:["Hat14"],type:t.get_type.buy,value:5e3}],t.arrayShoesBoss=[{skinId:"0",skins:["Boots"],type:t.get_type.level,value:11},{skinId:"1",skins:["Shoe1"],type:t.get_type.buy,value:3e3},{skinId:"2",skins:["Shoe2"],type:t.get_type.buy,value:3e3},{skinId:"3",skins:["Shoe3"],type:t.get_type.buy,value:3e3},{skinId:"4",skins:["Shoe4"],type:t.get_type.buy,value:3e3},{skinId:"5",skins:["Shoe5"],type:t.get_type.buy,value:3e3},{skinId:"6",skins:["Shoe6"],type:t.get_type.buy,value:3e3},{skinId:"7",skins:["Shoe7"],type:t.get_type.buy,value:3e3},{skinId:"8",skins:["Shoe9"],type:t.get_type.buy,value:3e3},{skinId:"9",skins:["Shoe8"],type:t.get_type.buy,value:3e3},{skinId:"10",skins:["Shoe10"],type:t.get_type.buy,value:3e3},{skinId:"11",skins:["Shoe11"],type:t.get_type.buy,value:5e3},{skinId:"12",skins:["Shoe12"],type:t.get_type.buy,value:5e3},{skinId:"13",skins:["Shoe13"],type:t.get_type.buy,value:5e3},{skinId:"14",skins:["Shoe14"],type:t.get_type.buy,value:5e3}],t.arraySkinDaughter=[{skinId:"0",skins:["Clothes1"],type:t.get_type.level,value:16},{skinId:"1",skins:["Clothes2"],type:t.get_type.buy,value:5e3},{skinId:"2",skins:["Clothes3"],type:t.get_type.buy,value:5e3},{skinId:"3",skins:["Clothes4"],type:t.get_type.buy,value:5e3},{skinId:"4",skins:["Clothes5"],type:t.get_type.buy,value:5e3},{skinId:"5",skins:["Clothes6"],type:t.get_type.buy,value:5e3},{skinId:"6",skins:["Clothes7"],type:t.get_type.buy,value:5e3},{skinId:"7",skins:["Clothes8"],type:t.get_type.buy,value:5e3},{skinId:"8",skins:["Clothes9"],type:t.get_type.buy,value:5e3},{skinId:"9",skins:["Clothes10"],type:t.get_type.buy,value:5e3},{skinId:"10",skins:["Clothes12"],type:t.get_type.buy,value:5e3},{skinId:"11",skins:["Clothes11"],type:t.get_type.buy,value:75e3},{skinId:"12",skins:["Clothes13"],type:t.get_type.buy,value:75e3},{skinId:"13",skins:["Clothes14"],type:t.get_type.buy,value:75e3},{skinId:"14",skins:["Clothes15"],type:t.get_type.buy,value:75e3}],t.arrayHatDaughter=[{skinId:"0",skins:["Hat_Red"],type:t.get_type.level,value:13},{skinId:"1",skins:["Hat2"],type:t.get_type.buy,value:3e3},{skinId:"2",skins:["Hat3"],type:t.get_type.buy,value:3e3},{skinId:"3",skins:["Hat4"],type:t.get_type.buy,value:3e3},{skinId:"4",skins:["Hat5"],type:t.get_type.buy,value:3e3},{skinId:"5",skins:["Hat6"],type:t.get_type.buy,value:3e3},{skinId:"6",skins:["Hat7"],type:t.get_type.buy,value:3e3},{skinId:"7",skins:["Hat8"],type:t.get_type.buy,value:3e3},{skinId:"8",skins:["Hat9"],type:t.get_type.buy,value:3e3},{skinId:"9",skins:["Hat10"],type:t.get_type.buy,value:3e3},{skinId:"10",skins:["Hat12"],type:t.get_type.buy,value:3e3},{skinId:"11",skins:["Hat11"],type:t.get_type.buy,value:3e3},{skinId:"12",skins:["Hat13"],type:t.get_type.buy,value:3e3},{skinId:"13",skins:["Hat14"],type:t.get_type.buy,value:5e3},{skinId:"14",skins:["Hat15"],type:t.get_type.buy,value:5e3}],t.arrayShoesDaughter=[{skinId:"0",skins:["Boots"],type:t.get_type.level,value:14},{skinId:"1",skins:["Shoe2"],type:t.get_type.buy,value:3e3},{skinId:"2",skins:["Shoe3"],type:t.get_type.buy,value:3e3},{skinId:"3",skins:["Shoe4"],type:t.get_type.buy,value:3e3},{skinId:"4",skins:["Shoe5"],type:t.get_type.buy,value:3e3},{skinId:"5",skins:["Shoe6"],type:t.get_type.buy,value:3e3},{skinId:"6",skins:["Shoe7"],type:t.get_type.buy,value:3e3},{skinId:"7",skins:["Shoe8"],type:t.get_type.buy,value:3e3},{skinId:"8",skins:["Shoe9"],type:t.get_type.buy,value:3e3},{skinId:"9",skins:["Shoe10"],type:t.get_type.buy,value:3e3},{skinId:"10",skins:["Shoe12"],type:t.get_type.buy,value:3e3},{skinId:"11",skins:["Shoe11"],type:t.get_type.buy,value:3e3},{skinId:"12",skins:["Shoe13"],type:t.get_type.buy,value:5e3},{skinId:"13",skins:["Shoe14"],type:t.get_type.buy,value:5e3},{skinId:"14",skins:["Shoe15"],type:t.get_type.buy,value:5e3}],t.arrayPinSkin=[{skinId:"SkinShop_PinBasic",skins:["SkinShop_PinBasic"],type:t.get_type.free,value:3e3},{skinId:"SkinShop_Pin1",skins:["SkinShop_Pin1"],type:t.get_type.daily_reward,value:3e3},{skinId:"SkinShop_Pin2",skins:["SkinShop_Pin2"],type:t.get_type.daily_reward,value:3e3},{skinId:"SkinShop_Pin3",skins:["SkinShop_Pin3"],type:t.get_type.daily_reward,value:3e3},{skinId:"SkinShop_Pin4",skins:["SkinShop_Pin4"],type:t.get_type.daily_reward,value:3e3},{skinId:"SkinShop_Pin5",skins:["SkinShop_Pin5"],type:t.get_type.daily_reward,value:3e3},{skinId:"SkinShop_Pin6",skins:["SkinShop_Pin6"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin7",skins:["SkinShop_Pin7"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin8",skins:["SkinShop_Pin8"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin9",skins:["SkinShop_Pin9"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin10",skins:["SkinShop_Pin10"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin11",skins:["SkinShop_Pin11"],type:t.get_type.buy,value:3e3},{skinId:"SkinShop_Pin12",skins:["SkinShop_Pin12"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin13",skins:["SkinShop_Pin13"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin14",skins:["SkinShop_Pin14"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin15",skins:["SkinShop_Pin15"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin16",skins:["SkinShop_Pin16"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin17",skins:["SkinShop_Pin17"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin18",skins:["SkinShop_Pin18"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin19",skins:["SkinShop_Pin19"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin20",skins:["SkinShop_Pin20"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin21",skins:["SkinShop_Pin21"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin22",skins:["SkinShop_Pin22"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin23",skins:["SkinShop_Pin23"],type:t.get_type.buy,value:5e3},{skinId:"SkinShop_Pin24",skins:["SkinShop_Pin24"],type:t.get_type.buy,value:5e3}],t}();o.SkinConfig=n,cc._RF.pop()},{}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"2f495wKQ/JFyJrI9qhSlw0S","SkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/SkinConfig"),c=t("../GameData"),s=t("../base/utils/GUIUtil"),l=t("../MainScene"),p=t("../base/SetLabelLanguage"),u=t("../base/glance_Global"),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.btn_level=null,e.btn_daily_reward=null,e.btn_buy=null,e.label_price=null,e.label_level=null,e.light=null,e.skinConfig=null,e.btn_click=null,e.person=null,e.type=null,e.skinClickCallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button))},e.prototype.onClickBoss=function(){this.skinClickCallback&&this.skinClickCallback(this.skinConfig)},e.prototype.onClickBuySkinBoss=function(){var t=this;this.skinConfig.value<c.GameData.playerCoin&&c.GameData.addSkinBoss(this.arraySkin,this.skinConfig.skinId,function(e){if(!e){c.GameData.addCoin(-t.skinConfig.value);var o=t.dir.replace("_Unactive","");t.loadSkinImage(o,function(e){t.sprite.spriteFrame=e}),t.updateUI(),u.default.instance.sendEventransactions(c.GameData.currentLevelId,t.person+" "+t.type)}})},e.prototype.onClickGiftCode=function(){l.default.instance.showDailyPopup()},e.prototype.onClickDailyReward=function(){},e.prototype.initSkinItem=function(t,e,o,n,i){var r=this;this.skinConfig=n,this.skinClickCallback=i,this.arraySkin=this.getCurrentArraySkin(e,o,function(e){switch(n.skins[n.skins.length-1]===r.currentSkin&&(r.light.active=!0),t+=n.skinId,e.key){case c.GameData.KEY_BOSS_HATS:-1==c.GameData.myBossHats.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_BOSS_SKINS:-1==c.GameData.myBossSkins.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_BOSS_SHOES:-1==c.GameData.myBossShoes.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_DAUGHTER_HATS:-1==c.GameData.myDaughterHats.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_DAUGHTER_SKINS:-1==c.GameData.myDaughterSkins.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_DAUGHTER_SHOES:-1==c.GameData.myDaughterShoes.indexOf(n.skinId)&&(t+="_Unactive");break;case c.GameData.KEY_PIN_SKINS:}r.dir=t,r.loadSkinImage(r.dir,function(t){r.sprite.spriteFrame=t}),r.updateUI()})},e.prototype.updateUI=function(){var t=this.skinConfig;if(-1!=this.arrayData.indexOf(t.skinId))return this.btn_buy.node.active=!1,this.btn_daily_reward.node.active=!1,void(this.btn_level.node.active=!1);switch(t.type){case a.SkinConfig.get_type.buy:this.btn_buy.node.active=!0,this.label_price.string=t.value+"",this.btn_buy.interactable=c.GameData.playerCoin>=t.value;break;case a.SkinConfig.get_type.daily_reward:this.btn_daily_reward.node.active=!0;break;case a.SkinConfig.get_type.level:this.btn_level.node.active=!0,this.label_level.string=p.ChangeLanguage.getText("level")+t.value}},e.prototype.loadSkinImage=function(t,e){cc.resources.load(t,function(t,o){if(!t&&e){var n=new cc.SpriteFrame;n.setTexture(o),e(n)}})},e.prototype.getCurrentArraySkin=function(t,e,o){void 0===o&&(o=null);var n={};switch(this.person=t,this.type=e,s.default.addClickListener(this.btn_click,this.node,"SkinItem","onClickBoss"),s.default.addClickListener(this.btn_buy,this.node,"SkinItem","onClickBuySkinBoss"),s.default.addClickListener(this.btn_level,this.node,"SkinItem","onClickLevel"),s.default.addClickListener(this.btn_daily_reward,this.node,"SkinItem","onClickDailyReward"),t){case"Mom":switch(e){case"Hat":this.arrayData=c.GameData.myBossHats,this.currentSkin=c.GameData.currentHatBoss,n.array=c.GameData.myBossHats,n.key=c.GameData.KEY_BOSS_HATS;break;case"Shirt":this.arrayData=c.GameData.myBossSkins,this.currentSkin=c.GameData.currentSkinBoss,n.array=c.GameData.myBossSkins,n.key=c.GameData.KEY_BOSS_SKINS;break;case"Shoes":this.currentSkin=c.GameData.currentShoeBoss,this.arrayData=c.GameData.myBossShoes,n.array=c.GameData.myBossShoes,n.key=c.GameData.KEY_BOSS_SHOES}break;case"Child":switch(e){case"Hat":this.currentSkin=c.GameData.currentHatDaughter,this.arrayData=c.GameData.myDaughterHats,n.array=c.GameData.myDaughterHats,n.key=c.GameData.KEY_DAUGHTER_HATS;break;case"Shirt":this.currentSkin=c.GameData.currentSkinDaughter,this.arrayData=c.GameData.myDaughterSkins,n.array=c.GameData.myDaughterSkins,n.key=c.GameData.KEY_DAUGHTER_SKINS;break;case"Shoes":this.currentSkin=c.GameData.currentShoeDaughter,this.arrayData=c.GameData.myDaughterShoes,n.array=c.GameData.myDaughterShoes,n.key=c.GameData.KEY_DAUGHTER_SHOES}break;case"Pin":this.currentSkin=c.GameData.currentPinSkin,this.arrayData=c.GameData.myPinSkins,n.array=c.GameData.myPinSkins,n.key=c.GameData.KEY_PIN_SKINS}return o&&o(n),n},r([h(cc.Sprite)],e.prototype,"sprite",void 0),r([h(cc.Button)],e.prototype,"btn_level",void 0),r([h(cc.Button)],e.prototype,"btn_daily_reward",void 0),r([h(cc.Button)],e.prototype,"btn_buy",void 0),r([h(cc.Label)],e.prototype,"label_price",void 0),r([h(cc.Label)],e.prototype,"label_level",void 0),r([h(cc.Node)],e.prototype,"light",void 0),r([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../base/glance_Global":"glance_Global","../base/utils/GUIUtil":"GUIUtil","../config/SkinConfig":"SkinConfig"}],SkinPopup:[function(t,e,o){"use strict";cc._RF.push(e,"077a2KjJEZJZpHqt/lLWN7i","SkinPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemType=o.Person=void 0;var a=t("./SkinItem"),c=t("../config/SkinConfig"),s=t("../config/GlobalSignals"),l=t("../GameData"),p=t("../ui/ButtonActive"),u=t("../config/ItemLevelSkin"),f=t("../ResUtil"),d=t("../base/glance_Global"),h=t("../base/audio/AudioManager"),_=function(){function t(){}return t.Mom="Mom",t.Child="Child",t.Pin="Pin",t}();o.Person=_;var y=function(){function t(){}return t.Hat="Hat",t.Outfit="Shirt",t.Shoe="Shoes",t}();o.ItemType=y;var g=cc._decorator,v=g.ccclass,b=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.skeletonDaughter=null,e.pinSprite=null,e.btnSkin=null,e.container=null,e.rowPrefab=null,e.skinPrefab=null,e.buttonActive=[],e.buttonPinSkin=null,e.buttonOutfit=null,e.arraySkin=[],e.isPerson=_.Mom,e.isType=y.Hat,e.hasHat=!1,e.hasShoe=!1,e.defaultSkeleton=null,e.defaultSkeletonDaughter=null,e}return i(e,t),e.prototype.onLoad=function(){this.initData(y.Hat,_.Mom),this.reloadMomCurrentSkin(),this.resetButton(0),this.buttonOutfit.active=!0,this.pinSprite.node.active=!1},e.prototype.onEnable=function(){this.reloadMomCurrentSkin(),this.reloadChildCurrentSkin()},e.prototype.initData=function(t,e){var o=this;this.arraySkin=[],this.container.removeAllChildren();for(var n=this.getSkinConfig(),i=n.length,r=Math.ceil(i/3),c=0,s=0;s<r;s++){var l=cc.instantiate(this.rowPrefab);this.container.addChild(l);for(var p=0;p<3&&!(c>=i);p++){var u=n[c],f=cc.instantiate(this.skinPrefab);f.position=l.children[p].position,l.addChild(f);var d=f.getComponent(a.default),h="HomePin2/PopupSkin/Skin/Pin/";e!=_.Pin&&(h="HomePin2/PopupSkin/Skin/"+t+"/"+e+"/"),d.initSkinItem(h,this.isPerson,this.isType,u,function(t){o.selectSkinByCfg(t)}),this.arraySkin.push(d),c++}}},e.prototype.onClickBack=function(){this.node.active=!1},e.prototype.clickPin=function(){this.isPerson==_.Pin&&(this.initData("",_.Pin),this.reloadPinCurrentSkin())},e.prototype.clickHat=function(){this.resetButton(0),this.isType=y.Hat,this.isPerson==_.Mom?(this.initData(y.Hat,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(y.Hat,_.Child),this.reloadChildCurrentSkin())},e.prototype.clickOutfit=function(){this.resetButton(1),this.isType=y.Outfit,this.isPerson==_.Mom?(this.initData(y.Outfit,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(y.Outfit,_.Child),this.reloadChildCurrentSkin())},e.prototype.clickShoe=function(){this.resetButton(2),this.isType=y.Shoe,this.isPerson==_.Mom?(this.initData(y.Shoe,_.Mom),this.reloadMomCurrentSkin()):this.isPerson==_.Child&&(this.initData(y.Shoe,_.Child),this.reloadChildCurrentSkin())},e.prototype.resetButton=function(t){this.buttonActive[0].deactiveBtn(),this.buttonActive[1].deactiveBtn(),this.buttonActive[2].deactiveBtn(),this.buttonActive[t].activeBtn()},e.prototype.changePerson=function(){var t=this;this.btnSkin.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){t.btnSkin.getComponent(cc.Button).interactable=!0},.5),this.isPerson==_.Mom?(this.reloadChildCurrentSkin(),this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Daughter_Active",!1),this.isPerson=_.Child,this.skeleton.node.active=!1,this.skeletonDaughter.node.active=!0):(this.reloadMomCurrentSkin(),this.isPerson=_.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0),this.clickHat()},e.prototype.onClickPin=function(){this.buttonPinSkin.children[0].active=!0,this.buttonOutfit.active=!0,this.buttonPinSkin.children[1].active=!1,this.btnSkin.active=!1,this.buttonActive[0].node.parent.active=!1,this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!1,this.pinSprite.node.active=!0,this.isPerson=_.Pin,this.isType="",this.clickPin(),this.reloadPinCurrentSkin()},e.prototype.onOutfit=function(){this.buttonPinSkin.children[0].active=!1,this.buttonOutfit.active=!1,this.buttonPinSkin.children[1].active=!0,this.btnSkin.active=!0,this.buttonActive[0].node.parent.active=!0,this.pinSprite.node.active=!1,this.reloadMomCurrentSkin(),this.isPerson=_.Mom,this.btnSkin.children[0].getComponent(sp.Skeleton).setAnimation(0,"Mother_Active",!1),this.skeletonDaughter.node.active=!1,this.skeleton.node.active=!0,this.clickHat()},e.prototype.getSkinConfig=function(){var t=[];if(_.Mom==this.isPerson)switch(this.isType){case y.Hat:c.SkinConfig.arrayHatBoss.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)});break;case y.Outfit:c.SkinConfig.arraySkinBoss.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)});break;case y.Shoe:c.SkinConfig.arrayShoesBoss.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)})}else if(_.Child==this.isPerson)switch(this.isType){case y.Hat:c.SkinConfig.arrayHatDaughter.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)});break;case y.Outfit:c.SkinConfig.arraySkinDaughter.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)});break;case y.Shoe:c.SkinConfig.arrayShoesDaughter.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)})}else _.Pin==this.isPerson&&c.SkinConfig.arrayPinSkin.forEach(function(e){e.type!=c.SkinConfig.get_type.gift_code&&t.push(e)});return t},e.prototype.selectSkinByCfg=function(t){switch(this.isPerson){case _.Mom:switch(this.isType){case y.Hat:this.mySkinsArray=l.GameData.myBossHats,this.selectHatBossByCfg(t);break;case y.Outfit:this.mySkinsArray=l.GameData.myBossSkins,this.selectSkinBossByCfg(t);break;case y.Shoe:this.mySkinsArray=l.GameData.myBossShoes,this.selectShoeBossByCfg(t)}break;case _.Child:switch(this.isType){case y.Hat:this.mySkinsArray=l.GameData.myDaughterHats,this.selectHatDaughterByCfg(t);break;case y.Outfit:this.mySkinsArray=l.GameData.myDaughterSkins,this.selectSkinDaughterByCfg(t);break;case y.Shoe:this.mySkinsArray=l.GameData.myDaughterShoes,this.selectShoeDaughterByCfg(t)}break;case _.Pin:this.mySkinsArray=l.GameData.myPinSkins,this.selectPinByCfg(t)}},e.prototype.selectHatBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setHatBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectSkinBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setSkinBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectShoeBossByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadMomCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setShoeBoss(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectHatDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.addSkinDaughter(this.skeletonDaughter,o),this.reloadChildCurrentSkin(null,o,void 0),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setHatDaughter(o,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})})},e.prototype.selectSkinDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadChildCurrentSkin(o),t.type!==c.SkinConfig.get_type.free&&-1==this.mySkinsArray.indexOf(t.skinId)||l.GameData.setSkinDaughter(o,function(o){o||(s.GlobalSignals.changeSkinBossSignal.dispatch(),e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}))})},e.prototype.selectShoeDaughterByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadChildCurrentSkin(null,void 0,o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setShoeDaughter(o,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})})},e.prototype.selectPinByCfg=function(t){var e=this,o=t.skins[t.skins.length-1];this.reloadPinCurrentSkin(o),-1!=this.mySkinsArray.indexOf(t.skinId)&&l.GameData.setCurrentPin(o,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})})},e.prototype.addSkinDaughter=function(t,e){t.skeletonData.getRuntimeData().findSkin("Temp")&&t.skeletonData.getRuntimeData().skins.pop();var o=t.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),n=new sp.spine.Skin("Temp"),i=t.skeletonData.getRuntimeData().findSkin(e);n.addSkin(i),n.addSkin(o),t.skeletonData.getRuntimeData().skins.push(n),t.setSkin(n.name)},e.prototype.reloadChildCurrentSkin=function(t,e,o){var n;this.skeletonDaughter.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeletonDaughter.skeletonData.getRuntimeData().skins.pop();var i=new sp.spine.Skin("Temp");if(t?(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(t),t==c.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,u.ItemSkinLevel.getSkinName(u.ItemLevelSkin.GLOVES),this.skeletonDaughter)):(n=this.skeletonDaughter.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinDaughter),l.GameData.currentSkinDaughter==c.SkinConfig.arraySkinBoss[0].skins[0]&&this.addSkin(i,u.ItemSkinLevel.getSkinName(u.ItemLevelSkin.GLOVES),this.skeletonDaughter)),i.addSkin(n),e){var r=e;this.addSkin(i,r,this.skeletonDaughter),e==c.SkinConfig.arrayHatBoss[0].skins[0]&&this.addSkin(i,u.ItemSkinLevel.getSkinName(u.ItemLevelSkin.HAT),this.skeletonDaughter)}else r=l.GameData.currentHatDaughter,this.addSkin(i,r,this.skeletonDaughter),l.GameData.currentHatDaughter&&l.GameData.currentHatDaughter!=c.SkinConfig.arrayHatDaughter[0].skins[0]||this.addSkin(i,l.GameData.currentEarDaughter,this.skeletonDaughter);o?(r=o,this.addSkin(i,r,this.skeletonDaughter)):(r=l.GameData.currentShoeDaughter,this.addSkin(i,r,this.skeletonDaughter)),this.skeletonDaughter.skeletonData.getRuntimeData().skins.push(i),this.skeletonDaughter.setSkin(i.name)},e.prototype.reloadMomCurrentSkin=function(t,e,o){var n;this.skeleton.skeletonData.getRuntimeData().findSkin("Temp")&&this.skeleton.skeletonData.getRuntimeData().skins.pop(),n=t?this.skeleton.skeletonData.getRuntimeData().findSkin(t):this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentSkinBoss);var i=new sp.spine.Skin("Temp");if(i.addSkin(n),e){var r=e;this.addSkin(i,r,this.skeleton)}else r=l.GameData.currentHatBoss,this.addSkin(i,r,this.skeleton);o?(r=o,this.addSkin(i,r,this.skeleton)):(r=l.GameData.currentShoeBoss,this.addSkin(i,r,this.skeleton));var a=this.skeleton.skeletonData.getRuntimeData().findSkin(l.GameData.currentScarfBoss);a&&t==c.SkinConfig.arraySkinBoss[0].skins[0]&&i.addSkin(a),this.skeleton.skeletonData.getRuntimeData().skins.push(i),this.skeleton.setSkin(i.name)},e.prototype.reloadPinCurrentSkin=function(t){var e=this;if(t){var o="HomePin2/PopupSkin/Skin/Pin/"+t;f.ResUtil.loadSprite(o,function(t){var o=new cc.SpriteFrame;o.setTexture(t),e.pinSprite.spriteFrame=o})}},e.prototype.addSkin=function(t,e,o){var n=o.skeletonData.getRuntimeData().findSkin(e);n&&t.addSkin(n)},e.prototype.watchReceiveCoins=function(){d.default.instance.rewardType="receiveCoinsSKin",d.default.instance.effectSoundState=h.default.EffectEnable,d.default.instance.musicSoundState=h.default.MusicEnable,d.default.instance.sendEventReward(),d.default.instance.rewardEvent()},r([b(sp.Skeleton)],e.prototype,"skeleton",void 0),r([b(sp.Skeleton)],e.prototype,"skeletonDaughter",void 0),r([b(cc.Sprite)],e.prototype,"pinSprite",void 0),r([b(cc.Node)],e.prototype,"btnSkin",void 0),r([b(cc.Node)],e.prototype,"container",void 0),r([b(cc.Prefab)],e.prototype,"rowPrefab",void 0),r([b(cc.Prefab)],e.prototype,"skinPrefab",void 0),r([b([p.default])],e.prototype,"buttonActive",void 0),r([b(cc.Node)],e.prototype,"buttonPinSkin",void 0),r([b(cc.Node)],e.prototype,"buttonOutfit",void 0),r([b(sp.SkeletonData)],e.prototype,"defaultSkeleton",void 0),r([b(sp.SkeletonData)],e.prototype,"defaultSkeletonDaughter",void 0),r([v],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../base/audio/AudioManager":"AudioManager","../base/glance_Global":"glance_Global","../config/GlobalSignals":"GlobalSignals","../config/ItemLevelSkin":"ItemLevelSkin","../config/SkinConfig":"SkinConfig","../ui/ButtonActive":"ButtonActive","./SkinItem":"SkinItem"}],SkinShopConfig:[function(t,e,o){"use strict";cc._RF.push(e,"21f4eD9UxxAD45789jXEkih","SkinShopConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.smd=o.SkinMainData=void 0;var n=t("../GameData");o.SkinMainData={base:"Base",clothes:[{id:0,skin:"Clothes0",type:"owned",value:0},{id:1,skin:"Clothes1",type:"buy",value:2500},{id:2,skin:"Clothes2",type:"ads",value:0},{id:3,skin:"Clothes3",type:"buy",value:2500},{id:4,skin:"Clothes4",type:"buy",value:2500},{id:5,skin:"Clothes5",type:"buy",value:2500},{id:6,skin:"Clothes6",type:"buy",value:2500},{id:7,skin:"Clothes7",type:"buy",value:2500},{id:8,skin:"Clothes8",type:"buy",value:2500}],shoes:[{id:0,skin:"Shoes0",type:"owned",value:0},{id:1,skin:"Shoes1",type:"buy",value:2500},{id:2,skin:"Shoes2",type:"ads",value:0},{id:3,skin:"Shoes3",type:"buy",value:2500},{id:4,skin:"Shoes4",type:"buy",value:2500},{id:5,skin:"Shoes5",type:"buy",value:2500},{id:6,skin:"Shoes6",type:"buy",value:2500},{id:7,skin:"Shoes7",type:"buy",value:2500},{id:8,skin:"Shoes8",type:"buy",value:2500}],hats:[{id:0,skin:"Hat0",type:"owned",value:0},{id:1,skin:"Hat1",type:"buy",value:2500},{id:2,skin:"Hat2",type:"ads",value:0},{id:3,skin:"Hat3",type:"buy",value:2500},{id:4,skin:"Hat4",type:"buy",value:2500},{id:5,skin:"Hat5",type:"buy",value:2500},{id:6,skin:"Hat6",type:"buy",value:2500},{id:7,skin:"Hat7",type:"buy",value:2500},{id:8,skin:"Hat8",type:"buy",value:2500}],pins:[{id:0,skin:"SkinShop_Pin0",type:"owned",value:1500},{id:1,skin:"SkinShop_Pin1",type:"buy",value:1500},{id:2,skin:"SkinShop_Pin2",type:"ads",value:1500},{id:3,skin:"SkinShop_Pin3",type:"buy",value:1500},{id:4,skin:"SkinShop_Pin4",type:"buy",value:1500},{id:5,skin:"SkinShop_Pin5",type:"ads",value:1500},{id:6,skin:"SkinShop_Pin6",type:"buy",value:1500},{id:7,skin:"SkinShop_Pin7",type:"buy",value:1500},{id:8,skin:"SkinShop_Pin8",type:"ads",value:1500},{id:9,skin:"SkinShop_Pin9",type:"buy",value:1500},{id:10,skin:"SkinShop_Pin10",type:"buy",value:1500},{id:11,skin:"SkinShop_Pin11",type:"ads",value:1500},{id:12,skin:"SkinShop_Pin12",type:"buy",value:1500},{id:13,skin:"SkinShop_Pin13",type:"buy",value:1500},{id:14,skin:"SkinShop_Pin14",type:"ads",value:1500},{id:15,skin:"SkinShop_Pin15",type:"buy",value:1500},{id:16,skin:"SkinShop_Pin16",type:"buy",value:1500},{id:17,skin:"SkinShop_Pin17",type:"ads",value:1500},{id:18,skin:"SkinShop_Pin18",type:"buy",value:1500},{id:19,skin:"SkinShop_Pin19",type:"buy",value:1500},{id:20,skin:"SkinShop_Pin20",type:"ads",value:1500},{id:21,skin:"SkinShop_Pin21",type:"buy",value:1500},{id:22,skin:"SkinShop_Pin22",type:"buy",value:1500},{id:23,skin:"SkinShop_Pin23",type:"ads",value:1500},{id:24,skin:"SkinShop_Pin24",type:"buy",value:1500}],get_skin_by_id:function(t,e){void 0===e&&(e="clothes");for(var n=Math.floor(t),i=0,r=o.SkinMainData[e];i<r.length;i++){var a=r[i];if(a.id===n)return a}return null},get_clothes_by_id:function(t){var e=o.SkinMainData.get_skin_by_id(t);return e?e.skin:o.SkinMainData.base},get_skin_list:function(t){return o.SkinMainData[t]},get_buyable_pins_skin:function(){var t=o.SkinMainData.get_skin_list("pins"),e=n.GameData.myPinSkins;return t.filter(function(t){return!e.includes(t.id.toString())})}},o.smd=o.SkinMainData,cc._RF.pop()},{"../GameData":"GameData"}],SkinShopItem:[function(t,e,o){"use strict";cc._RF.push(e,"8f0ccfe+MdHc68DRxzcEXYJ","SkinShopItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SkinShopItem=o.get_skin_shop_dir=void 0;var a=t("../GameData"),c=t("../TS/Helper/Global"),s=t("../TS/Language/AIOLangConfig"),l=t("../base/glance_Global"),p=t("../config/GlobalSignals"),u=t("../ui/DynamicButton"),f=cc._decorator,d=f.ccclass,h=f.property,_=f.menu,y="PinDetective/SkinShop/";function g(t,e){return"string"==typeof e?""+y+t+"/"+e:""+y+t+"/"+e.skin}o.get_skin_shop_dir=g;var v=function(){function t(){this._target=null,this._dynamic=null,this._button=null,this._label=null}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,t?(this._dynamic=c.PTS.component.get_component_in_childs(t,u.DynamicButton),this._button=c.PTS.component.get_component_in_childs(t,cc.Button),this._label=this._target.getComponentInChildren(cc.Label),this._button.node!=t&&this._revoke()):this._revoke()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamic",{get:function(){return this._dynamic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"button",{get:function(){return this._button},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),t.prototype._revoke=function(){this._button=this._dynamic=null},Object.defineProperty(t.prototype,"status",{set:function(t){1==t?this._dynamic.wakeActive(!0):this._dynamic.wakeInactive(0,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"node_status",{set:function(t){this._target.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{set:function(t){this.label&&(this.label.string=t.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label_active",{set:function(t){this.label.node.active=t},enumerable:!1,configurable:!0}),r([h(cc.Node)],t.prototype,"_target",void 0),r([h({tooltip:"",type:cc.Node})],t.prototype,"target",null),r([h(u.DynamicButton)],t.prototype,"_dynamic",void 0),r([h({type:u.DynamicButton,visible:function(){return!!this._target&&!!this._dynamic}})],t.prototype,"dynamic",null),r([h(cc.Button)],t.prototype,"_button",void 0),r([h({type:cc.Button,visible:function(){return!!this._target&&!!this._button}})],t.prototype,"button",null),r([h(cc.Label)],t.prototype,"_label",void 0),r([h({type:cc.Label,visible:function(){return!!this._target&&!!this._label}})],t.prototype,"label",null),r([d("SkinShopItemButton")],t)}(),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.light=null,e.btn_buy=new v,e.skin=null,e.big_coin_frame=null,e.watch_ads_label=null,e._data=null,e._type="hats",e._owned=!1,e._active_light=null,e._equip_callback=null,e._tween=null,e._refresh=null,e}var o;return i(e,t),o=e,e.prototype.onEnable=function(){var t;this._active_light=this.activeLight.bind(this),null===(t=this._tween)||void 0===t||t.stop(),this.skin.node.opacity=0,this._tween=cc.tween(this.skin.node).to(.35,{opacity:255}).start(),this._refresh=this.refresh_shop.bind(this),p.GlobalSignals.updateItemLight.add(this._active_light),p.GlobalSignals.refreshShopSignal.add(this._refresh)},e.prototype.onDisable=function(){this._tween=cc.tween(this.skin.node).to(.25,{opacity:0}).start(),p.GlobalSignals.updateItemLight.remove(this._active_light),p.GlobalSignals.refreshShopSignal.remove(this._refresh)},e.prototype.refresh_shop=function(){"buy"===this._data.type&&(this._owned?this.updateUI():this._initBuyItem())},e.prototype.initData=function(t,e,o,n){switch(void 0===n&&(n=1),this._data=e,this._type=t,this._equip_callback=o,this._initSprite(n),c.PTS.component.clean_up_button(this.btn_buy.button),e.type){case"owned":this._initOwnedItem();break;case"buy":this._initBuyItem();break;case"ads":this._initAds()}this.activeLight()},e.prototype._initSprite=function(t){var e=this;if(this.skin){this.skin.node.opacity=0,this.skin.node.setScale(t);var o=g(this._type,this._data);c.PTS.loader.sprite_changer(o,function(t){e.skin.spriteFrame=t,cc.tween(e.skin.node).to(.35,{opacity:255}).start()})}},e.prototype._initOwnedItem=function(){this.btn_buy.node_status=!1},e.prototype._initBuyItem=function(){this.light.active=!1,this.btn_buy.label_active=!0,this.big_coin_frame.node.active=!0,this.btn_buy.text=this._data.value,this.watch_ads_label.node.active=!1,this.btn_buy.status=a.GameData.playerCoin>=this._data.value,c.PTS.component.settup_button(this.btn_buy.button,this.node,o,"clickBuyBTN")},e.prototype._initAds=function(){this.light.active=!1,this.big_coin_frame.node.active=!1,this.btn_buy.label_active=!1,this.watch_ads_label.node.active=!0,this.btn_buy.text=s.AIOLang.get_current_lang_text_at_key("watch_ads"),this.btn_buy.status=!0,c.PTS.component.settup_button(this.btn_buy.button,this.node,o,"clickWatchAdsBTN")},e.prototype.clickBuyBTN=function(){var t=this;a.GameData.playerCoin>=this._data.value&&a.GameData.addSkinMain(this._type,this._data,function(e){e||(a.GameData.addCoin(-t._data.value),p.GlobalSignals.refreshShopSignal.dispatch(),t.updateUI(),l.default.instance.sendEventransactions(a.GameData.currentLevelId,"main "+t._type))})},e.prototype.clickWatchAdsBTN=function(){var t=this;l.default.instance.dispatchCallbackAdsEvent(function(){a.GameData.addSkinMain(t._type,t._data,function(){t.updateUI(),l.default.instance.sendEventransactions(a.GameData.currentLevelId,"main "+t._type)})})},e.prototype.clickEquipBTN=function(){this._equip_callback&&this._equip_callback(this._type,this._data),this._owned&&(a.GameData.setCurrentMainSkin(this._type,this._data),p.GlobalSignals.updateItemLight.dispatch(),p.GlobalSignals.changeSkinBossSignal.dispatch())},e.prototype.updateUI=function(){this.btn_buy.node_status=!1,this._owned=!0},e.prototype.activeLight=function(){a.GameData.getCurrentMainSkin(this._type)===this._data.skin?this.light.active=!0:this.light.active=!1},e.prototype.is_equal=function(t){return"string"==typeof t?this._data.id.toString()===t:"number"==typeof t?this._data.id===t:this._data.id==t.id},r([h({type:cc.Node})],e.prototype,"light",void 0),r([h({tooltip:"",type:v})],e.prototype,"btn_buy",void 0),r([h({tooltip:"",type:cc.Sprite})],e.prototype,"skin",void 0),r([h({type:cc.Sprite})],e.prototype,"big_coin_frame",void 0),r([h({type:cc.Label})],e.prototype,"watch_ads_label",void 0),o=r([d,_("Shop/Skin Item")],e)}(cc.Component);o.SkinShopItem=b,cc._RF.pop()},{"../GameData":"GameData","../TS/Helper/Global":"Global","../TS/Language/AIOLangConfig":"AIOLangConfig","../base/glance_Global":"glance_Global","../config/GlobalSignals":"GlobalSignals","../ui/DynamicButton":"DynamicButton"}],SkinShopRow:[function(t,e,o){"use strict";cc._RF.push(e,"bb56aknABdBaIo0GDgSgLJp","SkinShopRow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SkinShopRow=void 0;var a=t("../TS/Helper/Global"),c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._container=[],e}return i(e,t),Object.defineProperty(e.prototype,"push",{get:function(){return null},set:function(t){t&&(this._container.push(t),this._container=a.PTS.utils.no_duplicate(a.PTS.utils.no_null_array(this._container)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return Array.from(this._container)},set:function(){},enumerable:!1,configurable:!0}),r([l(cc.Node)],e.prototype,"push",null),r([l([cc.Node])],e.prototype,"_container",void 0),r([l([cc.Node])],e.prototype,"container",null),r([s,p("Shop/Skin Row")],e)}(cc.Component);o.SkinShopRow=u,cc._RF.pop()},{"../TS/Helper/Global":"Global"}],SkinShop:[function(t,e,o){"use strict";cc._RF.push(e,"a0ce6a+WrRBA4aRzrfJaEKe","SkinShop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SkinShop=void 0;var a=t("../GameData"),c=t("../MainScene"),s=t("../TS/Helper/Global"),l=t("../base/glance_Global"),p=t("../config/AudioPlayId"),u=t("../config/GameConfig"),f=t("../config/GlobalSignals"),d=t("../ui/DynamicButton"),h=t("../ui/LinkListDynamicButton"),_=t("./SkinShopConfig"),y=t("./SkinShopItem"),g=t("./SkinShopRow"),v=cc._decorator,b=v.ccclass,m=v.property,S=v.menu,C=s.PTS.creator.link_list("hats","clothes","shoes"),O=function(){function t(){this.root=null,this._renderer=null,this._tween=null}return Object.defineProperty(t.prototype,"node_renderer",{get:function(){return this._renderer?this._renderer.node:null},set:function(t){this._renderer=t?t.getComponent(cc.RenderComponent):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),t.prototype.off=function(t){var e,o=this;void 0===t&&(t=!0),t?(null===(e=this._tween)||void 0===e||e.stop(),this._tween=cc.tween(this.root).to(.35,{opacity:0}).call(function(){return o.root.active=!1}).start()):this.root.active=!1},t.prototype.on=function(t){var e;void 0===t&&(t=!0),t?(null===(e=this._tween)||void 0===e||e.stop(),this.root.opacity=0,this.root.active=!0,this._tween=cc.tween(this.root).to(.35,{opacity:255}).start()):this.root.active=!0},r([m(cc.Node)],t.prototype,"root",void 0),r([m(cc.Node)],t.prototype,"node_renderer",null),r([m(cc.RenderComponent)],t.prototype,"_renderer",void 0),r([m({type:cc.RenderComponent,visible:function(){return this._renderer}})],t.prototype,"renderer",null),r([b("SkinShopViewModelHelper")],t)}(),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toSkinShopBTN=null,e.changeSkinTypeBTN=null,e.toPinShopBTN=null,e.main_model=new O,e.pin_model=new O,e._rowPrefab=null,e._skinItemPrefab=null,e.container=null,e.watchads_BTN=null,e.coin_displayer=null,e._shopType="main",e._shopMainType="hats",e._itemShops=[],e.num_in_row=3,e._onUpdateCoin=null,e.__loaded_pin=!1,e}return i(e,t),Object.defineProperty(e.prototype,"rowPrefab",{get:function(){return this._rowPrefab},set:function(t){this._rowPrefab=t,t&&(s.PTS.checker.prefab_contain_component(t,g.SkinShopRow,{error_msg:"[SKIN SHOP] ERROR: 'THIS PREFAB DOES NOT CONTAIN { SkinShopRow } COMPONENT.'"})||(this._rowPrefab=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skinItem",{get:function(){return this._skinItemPrefab},set:function(t){this._skinItemPrefab=t,t&&(s.PTS.checker.prefab_contain_component(t,y.SkinShopItem,{error_msg:"[SKIN SHOP] ERROR: 'THIS PREFAB DOES NOT CONTAIN { SkinShopItem } COMPONENT.'"})||(this._skinItemPrefab=null))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.toSkinShopBTN.node.active=!1,this.initSkinData()},e.prototype._initOwnedSkins=function(){},e.prototype.initSkinData=function(){this.container.node.removeAllChildren(),this._itemShops=[],"pin"===this._shopType?this._init_skin(this._getSkinConfig("pins"),"pins",.65):this._init_skin(this._getSkinConfig(this._shopMainType),this._shopMainType),this._change_model()},e.prototype._init_skin=function(t,e,o){void 0===o&&(o=1);for(var n=a.GameData.getMainSkins(e),i=0,r=Math.ceil(t.length/this.num_in_row),c=0;c<r;c++){var s=cc.instantiate(this._rowPrefab),l=s.getComponent(g.SkinShopRow);this.container.node.addChild(s);for(var p=function(r){if(i>=t.length)return{value:void 0};var a=cc.instantiate(u._skinItemPrefab),c=a.getComponent(y.SkinShopItem);u._itemShops.push(c),c.initData(e,t[i],u._reloadMainSkin.bind(u),o),n=n.filter(function(t){return!c.is_equal(t)||(c.updateUI(),!1)}),l.container[r].addChild(a),i++},u=this,f=0;f<this.num_in_row;f++){var d=p(f);if("object"==typeof d)return d.value}}},e.prototype._change_model=function(){switch(this._shopType){case"main":this.main_model.on(),this.pin_model.off();break;case"pin":this.main_model.off(),this.pin_model.on()}},e.prototype._getSkinConfig=function(t){return _.smd.get_skin_list(t)},e.prototype.initAllSkinData=function(){},e.prototype.onEnable=function(){this.__reloadMainSkin(),this.__loaded_pin?this.__reloadPinSkin():this.__first_pin_load(),this._onUpdateCoin=this.onUpdateCoin.bind(this),f.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin)},e.prototype.onDisable=function(){f.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin)},e.prototype.onUpdateCoin=function(){this.coin_displayer.string=a.GameData.currentCoin.toString()},e.prototype.goBackBNM=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_click,!1,.55),this.node.active=!1},e.prototype.watchAdGetCoinBTN=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_click,!1,.55),l.default.instance.dispatchCallbackAdsEvent(this._ads_coin_add.bind(this))},e.prototype._ads_coin_add=function(){var t=this,e={current:a.GameData.playerCoin,add:u.GameConfig.coin_watch_skin};this.watchads_BTN.interactable=!1,a.GameData.addCoin(e.add),this.coin_displayer.string=e.current.toString(),f.GlobalSignals.refreshShopSignal.dispatch(),c.default.instance.fx_flying_coins.settup_full_pack(this.watchads_BTN.node,this.coin_displayer.node),cc.tween(e).by(.5,{current:e.add},{progress:function(e,o,n,i){return t.coin_displayer.string=Math.ceil(n).toString(),e+(o-e)*i}}).call(function(){t.watchads_BTN.interactable=!0,t.coin_displayer.string=a.GameData.playerCoin.toString()}).start()},e.prototype.enterShopPinBTN=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_click,!1,.55),"pin"!=this._shopType&&(this._shopType="pin",this.toPinShopBTN.wakeActive(),this.changeSkinTypeBTN.disable(),this.toSkinShopBTN.node.active=!0,this.initSkinData(),this._change_model())},e.prototype.enterShopMainBTN=function(){c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_click,!1,.55),this._shopType="main",this.toPinShopBTN.wakeInactive(),this.changeSkinTypeBTN.enable(),this.toSkinShopBTN.node.active=!1,this.initSkinData(),this._change_model()},e.prototype.changeShopTypeBTN=function(){var t=this;c.default.instance.audioPlayer.playAudio(p.AudioPlayId.effect_click,!1,.55),this.changeSkinTypeBTN.execute(function(){t._shopMainType=C.next(),t.initSkinData(),t.__reloadMainSkin()})},e.prototype._reloadMainSkin=function(t,e){switch(this._shopType){case"main":switch(t){case"clothes":this.__reloadMainSkin(e.skin);break;case"hats":this.__reloadMainSkin(null,e.skin);break;case"shoes":this.__reloadMainSkin(null,null,e.skin)}return;case"pin":return void this.__reloadPinSkin(e)}},e.prototype.__reloadMainSkin=function(t,e,o){s.PTS.spine.reload_skin_fullpack(this.main_model.model,{target:t,replacer:a.GameData.currentSkinBoss},{target:e,replacer:a.GameData.currentHatBoss},{target:o,replacer:a.GameData.currentShoeBoss})},e.prototype.__reloadPinSkin=function(t){for(var e=t||a.GameData.currentPinSkin,o=0,n=this._itemShops;o<n.length;o++){var i=n[o];if(i.is_equal(e))return void(this.pin_model.model.spriteFrame=i.skin.spriteFrame)}},e.prototype.__first_pin_load=function(){var t=this,e=y.get_skin_shop_dir("pins",a.GameData.currentPinSkin);s.PTS.loader.sprite_changer(e,function(e){t.pin_model.model.spriteFrame=e,t.__loaded_pin=!0})},r([m(cc.Button)],e.prototype,"toSkinShopBTN",void 0),r([m(h.LinkListDynamicButton)],e.prototype,"changeSkinTypeBTN",void 0),r([m(d.DynamicButton)],e.prototype,"toPinShopBTN",void 0),r([m(O)],e.prototype,"main_model",void 0),r([m(O)],e.prototype,"pin_model",void 0),r([m(cc.Prefab)],e.prototype,"_rowPrefab",void 0),r([m(cc.Prefab)],e.prototype,"rowPrefab",null),r([m(cc.Prefab)],e.prototype,"_skinItemPrefab",void 0),r([m(cc.Prefab)],e.prototype,"skinItem",null),r([m(cc.Layout)],e.prototype,"container",void 0),r([m(cc.Button)],e.prototype,"watchads_BTN",void 0),r([m(cc.Label)],e.prototype,"coin_displayer",void 0),r([m({type:cc.Integer,min:1})],e.prototype,"num_in_row",void 0),r([b,S("Shop/Skin Shop")],e)}(cc.Component);o.SkinShop=P,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../TS/Helper/Global":"Global","../base/glance_Global":"glance_Global","../config/AudioPlayId":"AudioPlayId","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","../ui/DynamicButton":"DynamicButton","../ui/LinkListDynamicButton":"LinkListDynamicButton","./SkinShopConfig":"SkinShopConfig","./SkinShopItem":"SkinShopItem","./SkinShopRow":"SkinShopRow"}],SlotsSpineDuplicate:[function(t,e,o){"use strict";cc._RF.push(e,"3f81cx9dWdGVJ9YoRqMkiNl","SlotsSpineDuplicate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ske=null,e.once=!0,e._sync=null,e.isThief=!1,e}return i(e,t),e.prototype.start=function(){this.setAlpha(!1);var t=new cc.Node("DUP");this.node.parent.addChild(t),t.scale=this.ske.node.scale,this.node.scaleX<0&&(t.scaleX=-t.scaleX);var e=t.addComponent(sp.Skeleton);t.setPosition(this.node.getPosition()),e.skeletonData=this.ske.skeletonData,e.defaultSkin="default",e.animation=this.ske.animation,this.isThief||(this.dup("HandR",e,this.ske),this.dup("HandR2",e,this.ske),this.dup("HandR3",e,this.ske),this.dup("HandR4",e,this.ske),this.dup("Gloves/GloveR",e,this.ske)),this._sync=e},e.prototype.dup=function(t,e,o){var n=o.findSlot(t),i=e.findSlot(t);if(n&&i){var r=n.getAttachment();i.setAttachment(r)}},e.prototype.next_anim=function(t,e){void 0===e&&(e=!1),this._sync&&this._sync.setAnimation(0,t,e)},e.prototype.addAnimation=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0),this._sync&&this._sync.addAnimation(0,t,e,o)},e.prototype.onDisable=function(){this.setAlpha(!0)},e.prototype.setAlpha=function(t){void 0===t&&(t=!1);var e=0;if(t&&(e=1),this.isThief)for(var o=0;o<this.ske.skeletonData.getRuntimeData().slots.length;o++)this.ske.skeletonData.getRuntimeData().slots[o].name.includes("HandR")||(this.ske.skeletonData.getRuntimeData().slots[o].color.a=e)},r([s(sp.Skeleton)],e.prototype,"ske",void 0),r([s(cc.Boolean)],e.prototype,"isThief",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SmokeGO:[function(t,e,o){"use strict";cc._RF.push(e,"2d1deLpUf1Ik7qr/J03Wp2m","SmokeGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.force=700,e}return i(e,t),e.prototype.update=function(){var t=this.force/10*Math.random(),e=this.force*Math.random();this.body.applyForceToCenter(cc.v2(t,e),!0)},r([s(cc.RigidBody)],e.prototype,"body",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SnowGO:[function(t,e,o){"use strict";cc._RF.push(e,"114d3NpwDFJL7EK1S8sR0Cw","SnowGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../level/MapLevel"),s=t("../../config/PhysicsConfig"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.icePrefab=null,e.available=!0,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"snow")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=c.default.instance.rockContainer,e=cc.instantiate(this.icePrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.destroy()},e.prototype.onCollisionEnter=function(t){this.available&&(t.node.group!==a.GroupConfig.WATER&&t.node.group!==a.GroupConfig.ROCK||(this.available=!1,this.transformToRock()))},r([u(cc.Node)],e.prototype,"border",void 0),r([u(cc.Node)],e.prototype,"drop",void 0),r([u(cc.Prefab)],e.prototype,"icePrefab",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],SpawnerRect:[function(t,e,o){"use strict";cc._RF.push(e,"82331TZMZVByLTafJ/H2nI1","SpawnerRect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SpawnerRect=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._loaded=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.update=function(){},Object.defineProperty(e.prototype,"rect",{get:function(){return cc.rect(this.node.x,this.node.y,this.node.width,this.node.height)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){return cc.rect(0,0,this.node.width,this.node.height)},enumerable:!1,configurable:!0}),r([s()],e.prototype,"_loaded",void 0),r([c,l],e)}(cc.Component);o.SpawnerRect=p,cc._RF.pop()},{}],SpineSkinHelper:[function(t,e,o){"use strict";cc._RF.push(e,"e88eaPiY99K4bgtH6j8T45P","SpineSkinHelper");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.ssh=o.SpineSkinHelper=void 0;var i=t("../TS/Helper/Global"),r=t("../config/GameConfig");o.SpineSkinHelper={create_temp_skin:function(){return new sp.spine.Skin(r.GameConfig.skin_temp)},add_skin:function(t,e,o){if(t&&e){var n=t.findSkin(o);return e.addSkin(n),e}},reload_skin:function(t,e){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];t.findSkin(r.GameConfig.skin_temp)&&t.skins.pop();var c=null,s=i.PTS.spine.create_temp_skin(),l=e.target?e.target:e.replacer;c=t.findSkin(l),s.addSkin(c);for(var p=0,u=n;p<u.length;p++){var f=u[p];if(!f)return;var d=f.target?f.target:f.replacer;o.SpineSkinHelper.add_skin(t,s,d)}return s},reload_skin_fullpack:function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var a=t.skeletonData.getRuntimeData(),c=o.SpineSkinHelper.reload_skin.apply(o.SpineSkinHelper,n([a,e],i));a.skins.push(c),t.setSkin(c.name)},make_spine_anim_mixing:function(t,e){void 0===e&&(e=.33);for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];if(!t)return null;var i=new sp.spine.AnimationStateData(t.skeletonData.getRuntimeData());i.defaultMix=e;for(var r=0,a=o;r<a.length;r++){var c=a[r];i.setMix(c.from,c.to,c.duration)}return t.setAnimationStateData(i),i}},o.ssh=o.SpineSkinHelper,i.PTS.spine=o.SpineSkinHelper,cc._RF.pop()},{"../TS/Helper/Global":"Global","../config/GameConfig":"GameConfig"}],StaticSetLabelLang:[function(t,e,o){"use strict";cc._RF.push(e,"5ef8fZvO6NH/akYFs+STrhx","StaticSetLabelLang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeLanguage=void 0;var a=t("../MainScene"),c=t("../config/GlobalEnum"),s=t("./Language"),l=cc._decorator,p=l.ccclass,u=l.property,f=l.requireComponent,d=(l.mixins,function(){function t(){this.enable_repos=!1,this.pos=cc.v2()}t.prototype.execute=function(){this.enable_repos},r([u()],t.prototype,"enable_repos",void 0),r([u({visible:function(){return this.enable_repos}})],t.prototype,"pos",void 0),t=r([p("LanguageOption")],t)}(),function(){function t(){this.name=c.LANG.EN,this.size=0,this.preview_text="",this.bold=!1,this.italic=!1}return Object.defineProperty(t.prototype,"off_font",{get:function(){return this.name===c.LANG.JA},enumerable:!1,configurable:!0}),t.prototype.setup=function(t){t&&(t.string=this.preview_text,this.size>0&&(t.fontSize=this.size),t.useSystemFont=this.off_font,t.enableBold=this.bold,t.enableItalic=this.italic)},r([u({type:cc.Enum(c.LANG),readonly:!0})],t.prototype,"name",void 0),r([u({displayName:"Font size"})],t.prototype,"size",void 0),r([u({readonly:!0})],t.prototype,"preview_text",void 0),r([u()],t.prototype,"off_font",null),r([u()],t.prototype,"bold",void 0),r([u()],t.prototype,"italic",void 0),r([p("AllLanguage")],t)}()),h=function(){function t(){}return t.getText=function(t){return s.TextLanguage[a.default.instance.language][t]},t}();o.ChangeLanguage=h;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prefix="",e._key="",e._surfix="",e._sizeLanguage=[],e}return i(e,t),Object.defineProperty(e.prototype,"keyz",{get:function(){return Object.keys(s.TextLanguage.EN)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefix",{get:function(){return this._prefix},set:function(t){this._prefix=t,this._previewTextConstructor(this._key)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(t){null!=s.TextLanguage.EN[t]&&(this._key=t,this._previewTextConstructor(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surfix",{get:function(){return this._surfix},set:function(t){this._surfix=t,this._previewTextConstructor(this._key)},enumerable:!1,configurable:!0}),e.prototype._previewTextConstructor=function(t){for(var e=0,o=this._sizeLanguage;e<o.length;e++){var n=o[e];switch(n.name){case c.LANG.EN:n.preview_text=this.prefix+s.TextLanguage.EN[t]+this.surfix;break;case c.LANG.JA:n.preview_text=this.prefix+s.TextLanguage.JA[t]+this.surfix;break;case c.LANG.ID:n.preview_text=this.prefix+s.TextLanguage.ID[t]+this.surfix;break;case c.LANG.DE:n.preview_text=this.prefix+s.TextLanguage.DE[t]+this.surfix}}},Object.defineProperty(e.prototype,"sizeLanguage",{get:function(){return this.do_refresh(),this._sizeLanguage},set:function(t){this._sizeLanguage=t},enumerable:!1,configurable:!0}),e.prototype.do_refresh=function(){for(var t=Object.keys(s.TextLanguage),e=0;e<t.length;e++)if(this._sizeLanguage[e])this._sizeLanguage[e].name=c.LANG[""+t[e]];else{var o=new d;o.name=c.LANG[""+t[e]],this._sizeLanguage[e]=o}},e.prototype.onEnable=function(){var t=this.node.getComponent(cc.Label),e=c.LANG[""+a.default.instance.language];this.sizeLanguage[e].setup(t)},r([u([cc.String])],e.prototype,"keyz",null),r([u()],e.prototype,"_prefix",void 0),r([u()],e.prototype,"prefix",null),r([u(cc.String)],e.prototype,"_key",void 0),r([u()],e.prototype,"key",null),r([u()],e.prototype,"_surfix",void 0),r([u()],e.prototype,"surfix",null),r([u({type:[d]})],e.prototype,"_sizeLanguage",void 0),r([u({type:[d]})],e.prototype,"sizeLanguage",null),r([p,f(cc.Label)],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../MainScene":"MainScene","../config/GlobalEnum":"GlobalEnum","./Language":"Language"}],StaticSetSpriteLang:[function(t,e,o){"use strict";cc._RF.push(e,"7d79fXEj7BGSqE2xYijD2Fc","StaticSetSpriteLang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StaticSetSpriteLang=o.AllLanguageSprite=void 0;var a=t("../MainScene"),c=t("../config/GlobalEnum"),s=t("./Language"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(){function t(){this.name=c.LANG.EN,this.sprite=null}return r([u({type:cc.Enum(c.LANG)})],t.prototype,"name",void 0),r([u(cc.SpriteFrame)],t.prototype,"sprite",void 0),r([p("AllLanguageSprite")],t)}();o.AllLanguageSprite=f;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spriteLanguage=[],e}return i(e,t),Object.defineProperty(e.prototype,"spriteLanguage",{get:function(){return this.do_refresh(),this._spriteLanguage},set:function(t){this._spriteLanguage=t},enumerable:!1,configurable:!0}),e.prototype.do_refresh=function(){for(var t=Object.keys(s.TextLanguage),e=0;e<t.length;e++)if(this._spriteLanguage[e])this._spriteLanguage[e].name=c.LANG[""+t[e]];else{var o=new f;o.name=c.LANG[""+t[e]],this._spriteLanguage[e]=o}},e.prototype.onEnable=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.spriteLanguage[c.LANG[""+a.default.instance.language]].sprite},r([u({type:[f]})],e.prototype,"_spriteLanguage",void 0),r([u({type:[f]})],e.prototype,"spriteLanguage",null),r([p],e)}(cc.Component);o.StaticSetSpriteLang=d,cc._RF.pop()},{"../MainScene":"MainScene","../config/GlobalEnum":"GlobalEnum","./Language":"Language"}],StickHold:[function(t,e,o){"use strict";cc._RF.push(e,"ac6a0Le9y5BMIU4IVuP9T0u","StickHold");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StickHoldType=void 0;var a,c=t("../../config/GroupConfig"),s=t("../../base/utils/GUIUtil"),l=t("../../base/ColliderCallback"),p=cc.easeInOut,u=cc.easeOut,f=t("../../GameData"),d=t("../../MainScene"),h=t("../../config/AudioPlayId"),_=t("../../config/GlobalSignals"),y=t("../../config/GameConfig"),g=cc._decorator,v=g.ccclass,b=g.property;(function(t){t[t.FREE=0]="FREE",t[t.SLIDER=1]="SLIDER"})(a=o.StickHoldType||(o.StickHoldType={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickHoldType=a.FREE,e.points=[],e.headCollider=null,e._active=!0,e.headRootPos=null,e.holdCallback=null,e.activeStickBonus=null,e.isBonus=!1,e.isBlink=!1,e.fxBonusCoin=null,e.coinBonus=0,e}return i(e,t),e.prototype.onLoad=function(){this.getSkin();var t=this.getComponent(cc.PhysicsCircleCollider),e=this.getComponent(cc.PhysicsBoxCollider),o=this.getComponent(cc.BoxCollider),n=this.node.width-2*t.radius;o.size.height+=8,o.size.width=this.node.width-10,e.size.width=n;var i=2*t.radius+n/2;if(e.offset.x=-i,o.offset.x=-n/2-t.radius,this.stickHoldType===a.SLIDER&&(this.p0=this.points[0].position,this.p1=this.points[1].position,this.p0.x+=this.node.x,this.p0.y+=this.node.y,this.p1.x+=this.node.x,this.p1.y+=this.node.y),this.headCollider&&this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.isBonus){this.fxBonusCoin.active=!1,this.node.parent.getComponentInChildren(cc.Label).string=this.coinBonus.toString();var r=Math.abs(this.node.parent.angle%360);this.node.parent.angle<0?this.fxBonusCoin.angle=360+r:this.fxBonusCoin.angle=360-r}this.isBlink&&cc.tween(this.node.children[0]).sequence(cc.tween(this.node.children[0]).to(.4,{opacity:255},{easing:"quadIn"}),cc.tween(this.node.children[0]).to(.4,{opacity:0},{easing:"quadOut"})).repeat(2).start()},e.prototype.onEnable=function(){this.headRootPos=this.node.position},e.prototype.onClick=function(){var t=this;if(this._active)if(this._active=!1,this.stickHoldType===a.FREE)_.GlobalSignals.successStep.dispatch(),d.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_stick_move),(n=this.node.position).x+=1200,this.isBonus&&(this.fxBonusCoin.active=!0,d.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_bonus_star),cc.tween(this.fxBonusCoin).to(1,{opacity:0}).start()),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:n},p(2)).call(function(){t.holdCallback&&t.holdCallback(t),t.activeStickBonus&&t.activeStickBonus(t)}).start(),cc.tween(this.node).delay(.25).to(.25,{opacity:0}).start();else if(this.stickHoldType===a.SLIDER){var e=this.node,o=s.default.getDistancePoints(e.position,this.p0),n=s.default.getDistancePoints(e.position,this.p1)>o?this.p1:this.p0;cc.Tween.stopAllByTarget(e),cc.tween(e).to(.5,{position:n},p(1)).call(function(){t.holdCallback&&t.holdCallback(t),t._active=!0}).start()}},e.prototype.onHeadCollider=function(t){var e=this;if(t.node.group===c.GroupConfig.BERRIE&&t.node!=this.node){cc.log("onHeadCollider: "+t.node.name);var o=this.node;d.default.instance.audioPlayer.playAudio(h.AudioPlayId.effect_stick_block),this.scheduleOnce(function(){cc.Tween.stopAllByTarget(o),cc.tween(o).to(.5,{position:e.headRootPos},u(1)).call(function(){e._active=!0}).start()},.01)}},e.prototype.setHoldCallback=function(t){this.holdCallback=t},e.prototype.setActiveStickBonusCallback=function(t){this.activeStickBonus=t},e.prototype.onCollisionEnter=function(t){t.node.group===c.GroupConfig.TOUCH&&this.onClick()},e.prototype.getSkin=function(){var t,e=this,o=this.node.width;t=this.isBonus?y.GameConfig.pin_bonus_spr_dir:y.GameConfig.pin_skin_root_dir+f.GameData.currentPinSkin,cc.resources.load(t,cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n,e.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,e.node.width=o})},r([b({type:cc.Enum(a)})],e.prototype,"stickHoldType",void 0),r([b({type:[cc.Node],visible:function(){return this.stickHoldType===a.SLIDER}})],e.prototype,"points",void 0),r([b(l.default)],e.prototype,"headCollider",void 0),r([b(cc.Boolean)],e.prototype,"isBonus",void 0),r([b(cc.Boolean)],e.prototype,"isBlink",void 0),r([b({type:cc.Node,visible:function(){return this.isBonus}})],e.prototype,"fxBonusCoin",void 0),r([b({type:cc.Integer,visible:function(){return this.isBonus}})],e.prototype,"coinBonus",void 0),r([v],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../GameData":"GameData","../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/AudioPlayId":"AudioPlayId","../../config/GameConfig":"GameConfig","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig"}],StopSpine:[function(t,e){"use strict";cc._RF.push(e,"ada88s0oM1KIbYeV1VrqdkM","StopSpine");var o,n,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};(function(t){var e=cc._decorator,o=e.ccclass,n=e.property,a=e.menu,c=function(){function t(){this._name_="",this._duration_=0}var e;return e=t,Object.defineProperty(t.prototype,"name",{get:function(){return this._name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration_},enumerable:!1,configurable:!0}),t.create=function(t,o){var n=new e;return n._name_=t,n._duration_=o,n},r([n()],t.prototype,"_name_",void 0),r([n()],t.prototype,"name",null),r([n()],t.prototype,"_duration_",void 0),r([n()],t.prototype,"duration",null),e=r([o("SPHelper")],t)}();t.SPHelper=c;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target_=null,e.list=[],e}return i(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target_},set:function(t){if(this._target_=t,t){var e=t.skeletonData.getRuntimeData().animations;this.list=[];for(var o=0,n=e;o<n.length;o++){var i=n[o];this.list.push(c.create(i.name,i.duration))}}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.destroy()},r([n(sp.Skeleton)],e.prototype,"_target_",void 0),r([n(sp.Skeleton)],e.prototype,"target",null),r([n([c])],e.prototype,"list",void 0),r([o,a("TSEditor/Spine/Helper")],e)}(cc.Component);t.StopSpine=s})(n||(n={})),cc._RF.pop()},{}],StringUtil:[function(t,e,o){"use strict";cc._RF.push(e,"bfe30UxyK5LBZkfVpU92f7E","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function t(){}return t.toKMBString=function(t){var e="";return t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.preprocessingMoney=function(e){e=parseInt(e+"");var o=Math.abs(e)+"",n=t.preprocessingString(o);return e<0&&(n="-"+n),n},t.preprocessingString=function(t){if(t.length<4)return t+"";for(var e="",o=1,n=0;n<t.length;n++)e=t[t.length-1-n]+e,o%3==0&&o!==t.length&&(e=","+e),o++;return e},t.preprocessingMoneyWithK=function(t){return t<1e3?t+"":t>=1e6?this.preprocessingMoney(t/1e3)+"K":t/1e3+"K"},t.toMoneyResultString=function(t){var e="";return t>0?e+="+":t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.processTimeNumber=function(t){var e=Math.abs(t)+"";return e.length<=1?"0"+e:e},t.preprocessSignMoney=function(t){return t>0?"+"+this.preprocessingMoney(t):this.preprocessingMoney(t)},t.getDateOnly=function(t){return isNaN(Date.parse(t))?t:t.split(" ")[0]},t.parseNumberSecondToClock=function(t){if(t<=0)return"00:00:00";var e=Math.floor(t/3600);t%=3600;var o=Math.floor(t/60),n=t%60;return(e<10?"0"+e:""+e)+":"+(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t.ONE_BILLION=1e9,t.ONE_MILLION=1e6,t.ONE_THOUSAND=1e3,t}();o.StringUtil=n,cc._RF.pop()},{}],SubGOSettup:[function(t,e,o){"use strict";cc._RF.push(e,"aeac1zBD1JK0IrZ9qraxhPp","SubGOSettup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SubGOSettup=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drop=null,e.border=null,e}return i(e,t),e.prototype.onEnable=function(){this.drop.node.active=!0,this.border.node.active=!0,this.getComponent(cc.Sprite).enabled=!1},r([s(cc.Sprite)],e.prototype,"drop",void 0),r([s(cc.Sprite)],e.prototype,"border",void 0),r([c],e)}(cc.Component);o.SubGOSettup=l,cc._RF.pop()},{}],Suppoter:[function(t,e,o){"use strict";cc._RF.push(e,"57e7dit0+pPM6XPcjwkuuOl","Suppoter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.smart_rounding_number=function(t,e){return void 0===e&&(e=2),parseFloat(t.toFixed(e).replace(/\.?0+$/,""))},t.prototype.random_int=function(t,e){return t=Math.ceil(t),e=Math.ceil(e),Math.floor(Math.random()*(e-t+1))+t},t}();n.PTS.supporter=new i,cc._RF.pop()},{"./Global":"Global"}],SyncPosition:[function(t,e,o){"use strict";cc._RF.push(e,"4dbea0lmVpG1I5bkQIqiedJ","SyncPosition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SyncPosition=void 0;var a=t("./RootSync"),c=cc._decorator,s=c.ccclass,l=c.menu,p=c.disallowMultiple,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.sync=function(){this.node.setPosition(this.node.parent.convertToNodeSpaceAR(this.target.convertToWorldSpaceAR(cc.Vec3.ZERO)))},r([s,l("TSEditor/Sync/Position"),p],e)}(a.RootSync);o.SyncPosition=u,cc._RF.pop()},{"./RootSync":"RootSync"}],SyncRemove:[function(t,e,o){"use strict";cc._RF.push(e,"5cf2emkXodNOoiBg4RG+GvL","SyncRemove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e.target=null,e}return i(e,t),e.prototype.update=function(){var t=this;this.target&&void 0!==this.target&&this.target.activeInHierarchy||this.scheduleOnce(function(){t.node.removeFromParent(!0)},this.delay)},r([s({min:0})],e.prototype,"delay",void 0),r([s({type:cc.Node})],e.prototype,"target",void 0),r([c,l("TSEditor/Sync/Remove")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SyncRotation:[function(t,e,o){"use strict";cc._RF.push(e,"b242f7BJC5MJol/AWNvI2Yb","SyncRotation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./RootSync"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu),p=c.disallowMultiple,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.sync=function(){if(this.target){var t=this.target.convertToWorldSpaceAR(cc.v2(0,0)),e=this.target.convertToWorldSpaceAR(cc.v2(200,0)).subtract(t),o=cc.v2(1e3,0).signAngle(e);this.node.angle=180*o/3.14}},r([s,l("TSEditor/Sync/Rotation"),p],e)}(a.RootSync);o.default=u,cc._RF.pop()},{"./RootSync":"RootSync"}],TagObject:[function(t,e,o){"use strict";cc._RF.push(e,"2f711BbpIFCeLUhgrTNsc6d","TagObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TagConfig=void 0;var a,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.NONE=0]="NONE",t[t.BOSS=1]="BOSS",t[t.BOSS_STICK=2]="BOSS_STICK",t[t.GIRL=3]="GIRL",t[t.GIRL_WONDER=4]="GIRL_WONDER",t[t.BOSS_SUPER=5]="BOSS_SUPER",t[t.MAIN=6]="MAIN",t[t.GEMS=99]="GEMS",t[t.LAVA=100]="LAVA",t[t.WATER=101]="WATER",t[t.SNOW=102]="SNOW",t[t.ROCK=103]="ROCK",t[t.BIG_ROCK=104]="BIG_ROCK",t[t.ICE=105]="ICE",t[t.GAS=106]="GAS",t[t.BOMB=107]="BOMB",t[t.SAW=108]="SAW",t[t.POW=109]="POW",t[t.TRAP=110]="TRAP",t[t.BULLET=111]="BULLET",t[t.FIRE_BALL=112]="FIRE_BALL",t[t.HOLY_WATER=113]="HOLY_WATER",t[t.LAZE=114]="LAZE",t[t.SMOKE=115]="SMOKE",t[t.CHARCOAL=116]="CHARCOAL",t[t.CANDY=117]="CANDY",t[t.COIN=118]="COIN",t[t.WALLBREAK=119]="WALLBREAK",t[t.SCISSOR=120]="SCISSOR",t[t.NOTE_BOOK=121]="NOTE_BOOK",t[t.FLASH_LIGHT=122]="FLASH_LIGHT",t[t.HAMER=123]="HAMER",t[t.BROOM=124]="BROOM",t[t.CAMERA=125]="CAMERA",t[t.GRANDMA_PICTURE=126]="GRANDMA_PICTURE",t[t.GAS_MASK=127]="GAS_MASK",t[t.BATTERY=128]="BATTERY",t[t.MATCHES=129]="MATCHES",t[t.GLASSES=130]="GLASSES",t[t.SECRET_CARD=131]="SECRET_CARD",t[t.NEWSPAPER=132]="NEWSPAPER",t[t.DOCUMENT=133]="DOCUMENT",t[t.KEY=150]="KEY",t[t.MONEY_BAG=151]="MONEY_BAG",t[t.MILK=152]="MILK",t[t.BREAD=153]="BREAD",t[t.SCAFT=154]="SCAFT",t[t.GLOVES=155]="GLOVES",t[t.HAT=156]="HAT",t[t.SHIRT=157]="SHIRT",t[t.SHOE=158]="SHOE",t[t.LIFEBOUY=159]="LIFEBOUY",t[t.TI=160]="TI",t[t.HEAD_SNOW=161]="HEAD_SNOW",t[t.GIFT_BOX=162]="GIFT_BOX",t[t.PUZZLE=163]="PUZZLE",t[t.STEALER=200]="STEALER",t[t.DEMON=201]="DEMON",t[t.BIGFOOT=202]="BIGFOOT",t[t.DRAGON=203]="DRAGON",t[t.DOG=204]="DOG",t[t.SCIENTIST=205]="SCIENTIST",t[t.CHEST=299]="CHEST",t[t.ITEM=300]="ITEM",t[t.STICK=301]="STICK",t[t.MEAT=302]="MEAT",t[t.REDIRECT_LEFT=303]="REDIRECT_LEFT",t[t.REDIRECT_RIGHT=304]="REDIRECT_RIGHT",t[t.REDIRECT_STOP=305]="REDIRECT_STOP",t[t.REDIRECT_ANIM=306]="REDIRECT_ANIM",t[t.HIT=1e3]="HIT",t[t.GROUND=2e3]="GROUND"})(a=o.TagConfig||(o.TagConfig={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag=a.NONE,e.tag2=a.NONE,e}return i(e,t),e.prototype.onLoad=function(){this.node.name=""+this.tag},e.prototype.setTag=function(t){this.tag=t,this.node.name=""+this.tag},e.prototype.setTag2=function(t){this.tag2=t},r([l({type:cc.Enum(a)})],e.prototype,"tag",void 0),r([l({type:cc.Enum(a)})],e.prototype,"tag2",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],TargetGO:[function(t,e,o){"use strict";cc._RF.push(e,"637c1M4fkpPMpBRRrzmzgHP","TargetGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TargetGO=void 0;var a=t("../../level/WinLoseManager"),c=t("./BallGO"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fx_hightlight=null,e._gravity_scale=5,e.on_object_complete=function(){if(e.fx_hightlight)for(var t=0,o=e.fx_hightlight.getComponentsInChildren(cc.ParticleSystem);t<o.length;t++){var n=o[t];e.tween(n).to(.5,{totalParticles:0}).start()}},e.on_object_outside=function(){e.is_done&&cc.instance(a.WinLoseManager).invoke_fail()},e.on_burn=function(){e.do_outside(null)},e}return i(e,t),r([p({type:cc.Node})],e.prototype,"fx_hightlight",void 0),r([l],e)}(c.BallGO);o.TargetGO=u,cc._RF.pop()},{"../../level/WinLoseManager":"WinLoseManager","./BallGO":"BallGO"}],Task:[function(t,e,o){"use strict";cc._RF.push(e,"48773qwl0FBG4Q1DVTbXLY/","Task"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManager=o.Task=void 0;var n=function(){function t(t){this._callback=t}return t.prototype.completed=function(){this._completeCallback&&this._completeCallback()},t}();o.Task=n;var i=function(){function t(){this.tasks=[]}return t.prototype.addTask=function(t){this.tasks.push(t)},t.prototype.run=function(t,e){var o=this;if(0!==this.tasks.length){var n=this.tasks.length;t(0,n);for(var i=function(e){r.tasks[e]._completeCallback=function(){t(e+1,n),o.tasks[e+1]._callback()}},r=this,a=0;a<n-1;a++)i(a);this.tasks[n-1]._completeCallback=function(){t(n,n),e()},this.tasks[0]._callback()}else e()},t}();o.TaskManager=i,cc._RF.pop()},{}],TestPhysics:[function(t,e,o){"use strict";cc._RF.push(e,"7047dYKXU1Dt6HAam9U89Vs","TestPhysics");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClick=function(){cc.tween(this.node).by(.1,{position:new cc.Vec3(700,0,0)}).start()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],TestRedirect:[function(t,e,o){"use strict";cc._RF.push(e,"6984aWwr3JIZK1/ExKzycgK","TestRedirect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TestRedirect=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lang="en",e}return i(e,t),e.prototype.redirect=function(){var t=window.location.href+"?hl="+this.lang;window.location.href=t},r([s()],e.prototype,"lang",void 0),r([c],e)}(cc.Component);o.TestRedirect=l,cc._RF.pop()},{}],TestSkeleton:[function(t,e,o){"use strict";cc._RF.push(e,"e04b2/qKM9HOLZ/xuDYNMPc","TestSkeleton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e}return i(e,t),e.prototype.changeSkin=function(){this.skeleton.setSkin("Boss0/Stick"),this.skeleton.setSlotsToSetupPose(),this.skeleton.setAnimation(0,"Idle",!0)},e.prototype.onEnable=function(){cc.log("TestSkeleton")},r([s(sp.Skeleton)],e.prototype,"skeleton",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TheGate:[function(t,e,o){"use strict";cc._RF.push(e,"1174fdgORdCeI4Ct3zrL3la","TheGate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TheGate=o.TheGateType=void 0;var a,c=t("../../config/AudioPlayId"),s=t("../../config/GlobalSignals"),l=t("../../MainScene"),p=cc._decorator,u=p.ccclass,f=p.property,d=p.menu;(function(t){t[t.ENTRANCE=0]="ENTRANCE",t[t.EXIT=1]="EXIT"})(a=o.TheGateType||(o.TheGateType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.ENTRANCE,e.move_by_y=300,e.duration=.75,e._open_gate=null,e}return i(e,t),Object.defineProperty(e.prototype,"is_exit",{get:function(){return this.type===a.EXIT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_entrance",{get:function(){return this.type===a.ENTRANCE},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.type==a.EXIT&&(this._open_gate=this.do_gate.bind(this),s.GlobalSignals.questPassSignal.add(this._open_gate))},e.prototype.onDisable=function(){this._open_gate&&s.GlobalSignals.questPassSignal.remove(this._open_gate)},e.prototype.do_gate=function(){return l.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_stone_gate),cc.tween(this.node).by(this.duration,{y:this.move_by_y}).start(),this.duration},r([f({type:cc.Enum(a)})],e.prototype,"type",void 0),r([f()],e.prototype,"move_by_y",void 0),r([f({min:0})],e.prototype,"duration",void 0),r([u,d("Level/The Gate")],e)}(cc.Component);o.TheGate=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GlobalSignals":"GlobalSignals"}],Theif:[function(t,e,o){"use strict";cc._RF.push(e,"274b2uYUAdFQbgHTgcpKU4e","Theif");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../MainScene"),c=t("../../../config/GroupConfig"),s=t("../../../config/TagObject"),l=t("../Character"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animIdle2="idle2",e.animLose="Lose",e.animWin1="Win",e.animWin2="Win2",e.animGetcoin="GetCoin",e.isFat=!1,e.isThin=!1,e.soundIdle=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),o._instance=this},e.prototype.start=function(){this.onSoundIdle()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onSoundIdle=function(){},e.prototype.offSoundIdle=function(){a.default.instance.audioPlayer.stopAudioPlay(this.soundIdle)},e.prototype.onSoundWin=function(){},e.prototype.onSoundLose=function(){},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.animWin1).addAnimation(this.animWin2,!0),this.offSoundIdle(),this.onSoundLose())},e.prototype.onQuestPass=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.animLose,!0),this.offSoundIdle(),this.onSoundWin())},e.prototype.onHeadCollider=function(t){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==s.TagConfig.BOMB)return void this.onDieFire();(t.node.name==s.TagConfig.GAS||t.node.name==s.TagConfig.BOMB||t.node.name==s.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}},e.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1},e.prototype.onDieFire=function(){this.stopMove(),this.playAnimation(this.dieFireAnim,!0),this.isAlive=!1},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1},e._instance=null,r([f(cc.String)],e.prototype,"animIdle2",void 0),r([f(cc.String)],e.prototype,"animLose",void 0),r([f(cc.String)],e.prototype,"animWin1",void 0),r([f(cc.String)],e.prototype,"animWin2",void 0),r([f(cc.String)],e.prototype,"animGetcoin",void 0),r([f({visible:function(){return!this.isThin}})],e.prototype,"isFat",void 0),r([f({visible:function(){return!this.isFat}})],e.prototype,"isThin",void 0),o=r([u],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../Character":"Character"}],ToastReward:[function(t,e,o){"use strict";cc._RF.push(e,"e3b8cf5NOVAqZVszbj4A2Y4","ToastReward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.easeBackOut,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.show=function(t,e){var o=this;t<0?cc.warn("Reward = "+t):(this.label.string="+"+t,this.node.active=!0,this.node.opacity=0,this.node.scale=.4,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{opacity:255,scale:1},a()).delay(e).call(function(){o.hide()}).start())},e.prototype.hide=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{opacity:0}).call(function(){t.node.active=!1}).start()},r([l(cc.Label)],e.prototype,"label",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ToggleSliderGroup:[function(t,e,o){"use strict";cc._RF.push(e,"4e0b2j91yNIqqpERehDI5ZE","ToggleSliderGroup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ToggleSlider"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleOn=null,e.toggleOff=null,e.isOn=!0,e.onClickCallback=null,e}return i(e,t),e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t){this.isOn=t,this.toggleOn.setToggleState(t),this.toggleOff.setToggleState(!t),this.onClickCallback&&this.onClickCallback(t)},e.prototype.setOnClickCallback=function(t){this.onClickCallback=t},r([l(a.default)],e.prototype,"toggleOn",void 0),r([l(a.default)],e.prototype,"toggleOff",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ToggleSlider":"ToggleSlider"}],ToggleSlider:[function(t,e,o){"use strict";cc._RF.push(e,"3df517scY9F7pmGd1WW8uMz","ToggleSlider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isOn=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t){this.isOn=t,this.node.active=!!t},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"dc0adXk/RtCCZVCopuiIlm/","TouchManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchCollision=null,e.moving=!1,e._active=!0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onDestroy=function(){o._instance=null},e.prototype.pause=function(){this.reset(),this._active=!1},e.prototype.resume=function(){this.reset(),this._active=!0},e.prototype.onEnable=function(){cc.log("init TouchManager"),this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e.prototype.onMouseDown=function(t){this._active&&(this.moving=!0,this.touchCollision.active=!0,this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onMouseMove=function(t){this.moving&&(this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onMouseUp=function(){this.reset()},e.prototype.reset=function(){this.moving=!1,this.touchCollision.active=!1},e._instance=null,r([s(cc.Node)],e.prototype,"touchCollision",void 0),o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Typers:[function(t,e,o){"use strict";cc._RF.push(e,"5c268NeyotG0K5bDP+D87K9","Typers"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],UIController:[function(t,e,o){"use strict";cc._RF.push(e,"f3b9aq19AtO4qv/6GznHKk3","UIController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UINode=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.onUINode()},e.prototype.offUINode=function(){this.UINode.forEach(function(t){t&&(t.active=!1)})},e.prototype.onUINode=function(){this.UINode&&this.UINode.forEach(function(t){t&&(t.active=!0)})},e._instance=null,r([s([cc.Node])],e.prototype,"UINode",void 0),o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Utf8:[function(t,e,o){"use strict";cc._RF.push(e,"3334eM32qZDoa95PQXWOPUh","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var n=t("./Latin1"),i=function(){function t(){}return t.stringify=function(t){try{return decodeURIComponent(escape(n.Latin1.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},t.parse=function(t){return n.Latin1.parse(unescape(encodeURIComponent(t)))},t}();o.Utf8=i,cc._RF.pop()},{"./Latin1":"Latin1"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"be611pnGuZDz5eFmK81YQL7","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),i=function(){function t(){}return t.prototype.no_null_array=function(t){return t.filter(function(t){return null!==t})},t.prototype.no_duplicate=function(t){return Array.from(new Set(t))},t.prototype.must_includes_array=function(t,e,o){return void 0===o&&(o=function(t,e){return t.includes(e)}),t.every(function(t){return o(e,t)})},t}();n.PTS.utils=new i,cc._RF.pop()},{"./Global":"Global"}],WallBreak:[function(t,e,o){"use strict";cc._RF.push(e,"168f6nACllB+ZR9a7SRaEXR","WallBreak");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/TagObject"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bumPrefab=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.COLLIDER||t.node.name==c.TagConfig.BOMB&&(this.node.active=!1)},e.prototype.showBum=function(){cc.instantiate(this.bumPrefab)},r([p(cc.Prefab)],e.prototype,"bumPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject"}],WaterGO:[function(t,e,o){"use strict";cc._RF.push(e,"e8ed1MjmJVIJ6/Y/dlAHXfS","WaterGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/TagObject"),s=t("../../level/MapLevel"),l=t("../../config/PhysicsConfig"),p=t("../homePin2/ContainType"),u=cc._decorator,f=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.icePrefab=null,e.dirtyPrefab=null,e.charcoalPrefab=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"water")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.transformToRock=function(t){var e=s.default.instance.rockContainer,n=cc.instantiate(t);if(n.setSiblingIndex(this.node.getSiblingIndex()),n.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=e,this.node.destroy(),s.default.instance.container)switch(s.default.instance.container.containType){case p.ContainType.SINK:case p.ContainType.STOVE:case p.ContainType.SHOWER:case p.ContainType.CHIMNEY:}!o.isTransform&&s.default.instance.isPlaying&&(o.isTransform=!0)},e.prototype.onCollisionEnter=function(t){var e=this;if(this.available){if(t.node.group===a.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},2));if(t.node.group!==a.GroupConfig.COLLIDER){var n=null;switch(t.node.group){case a.GroupConfig.ROCK:t.node.name==c.TagConfig.ROCK?n=this.rockPrefab:t.node.name==c.TagConfig.ICE?n=this.icePrefab:t.node.name==c.TagConfig.CHARCOAL&&(n=this.charcoalPrefab);break;case a.GroupConfig.LAVA:n=this.charcoalPrefab;break;case a.GroupConfig.SNOW:n=this.icePrefab;break;case a.GroupConfig.DIRTY:n=this.dirtyPrefab}n&&(this.available=!1,this.scheduleOnce(function(){e.transformToRock(n)},.2))}else if(t.node.name==c.TagConfig.BOMB){var i=t.node.getComponent(c.default).tag2;if(i==c.TagConfig.GROUND){var r=cc.v2(this.node.position.x,this.node.position.y);return r=cc.v2(1e5*r.x,1e5*r.y),void this.node.getComponent(cc.RigidBody).applyForceToCenter(r,!0)}if(i==c.TagConfig.NONE)return void(this.node.active=!1)}}},e.isTransform=!1,e.colliderBarrieCount=0,r([d(cc.Node)],e.prototype,"border",void 0),r([d(cc.Node)],e.prototype,"drop",void 0),r([d(cc.Prefab)],e.prototype,"rockPrefab",void 0),r([d(cc.Prefab)],e.prototype,"icePrefab",void 0),r([d(cc.Prefab)],e.prototype,"dirtyPrefab",void 0),r([d(cc.Prefab)],e.prototype,"charcoalPrefab",void 0),o=r([f],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel","../homePin2/ContainType":"ContainType"}],WereWolfHome:[function(t,e,o){"use strict";cc._RF.push(e,"cb237UDgA9NFpeFi3aYZCyh","WereWolfHome");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],WereWolfNormal:[function(t,e,o){"use strict";cc._RF.push(e,"5bda3oS0+ZJ3LzoVWKm2NLq","WereWolfNormal");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WereWolfNormal=void 0;var a=t("../../../config/GlobalEnum"),c=t("./XEnemy"),s=cc._decorator,l=s.ccclass,p=s.property,u=s.mark_singleton,f=s.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roar="",e}var o;return i(e,t),o=e,e.prototype.playAnim=function(t,e,o){return t.setAnimation(0,this[e],o)},e.prototype.addAnim=function(t,e,o){return t.addAnimation(0,this[e],o)},e.prototype.getAnimDuration=function(t,e){return t.findAnimation(this[e]).duration},Object.defineProperty(e,"WEREWOLF",{get:function(){var t=new o;return t.idle="Idle",t.move="Walk",t.killed="Fall",t.die_rock="Die_Rock",t.die_bomb="Die_Bomb",t.die_ice="Freeze",t.roar="Roar",t.attack="Attack",t.lose="",t.win="",t},enumerable:!1,configurable:!0}),r([p({tooltip:""})],e.prototype,"roar",void 0),o=r([l("WereWolfAnimations")],e)}(c.EnemyAnimations),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._attack_anim_tracker=null,e.animation=null,e}return i(e,t),e.prototype.onSetSkeleton=function(t){t&&(this.animation=d.WEREWOLF)},e.prototype.roar_then_idle=function(t){var e=this;void 0===t&&(t=!1),this.onSoundIdle(),this.playAnim("roar",!1,{complete_cb:function(){e.do_idle(),t&&e.active_search_detector()}})},e.prototype.after_lose=function(){this.pool&&this.pool.kill_a_enemy(),this.unscheduleAllCallbacks()},e.prototype._startup_intro=function(){var t=this;this.playAnim("idle"),this.lvl_transition.complete_event.add(function(){return t.roar_then_idle(!0)})},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.onQuestPass=function(){},e.prototype.onQuestFail=function(){var t=this;this._state===a.ECharacterState.ATTACK&&this._attack_anim_tracker?this.setAnimationCompleteListener(this._attack_anim_tracker,function(){t.setAnimationCompleteListener(t._attack_anim_tracker,function(){}),t._attack_anim_tracker=null,t._state=a.ECharacterState.WIN,t.stop_move(),t.roar_then_idle()}):this._state!=a.ECharacterState.WIN&&this._state!==a.ECharacterState.LOSE&&(this._state=a.ECharacterState.WIN,this.stop_move(),this.roar_then_idle())},e.prototype.onCollectGem=function(){},e.prototype.onAutoMove=function(){},e.prototype.initSkin=function(){},e.prototype.playAnim=function(e,o,n){void 0===o&&(o=!0),void 0===n&&(n=null);var i=t.prototype.playAnim.call(this,e,o,n);switch(e){case"roar":return i;case"attack":return this._attack_anim_tracker=i,i}return i},e.prototype._on_searched_target=function(){this.move_forward()},r([p({type:d,override:!0,visible:function(){return!!this.animation}})],e.prototype,"animation",void 0),r([l,u,f("Character/WereWolf")],e)}(c.XEnemy);o.WereWolfNormal=h,cc._RF.pop()},{"../../../config/GlobalEnum":"GlobalEnum","./XEnemy":"XEnemy"}],WinEvents:[function(t,e,o){"use strict";cc._RF.push(e,"e73abZCAUZFZq105Dqq4jCr","WinEvents");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c,s=t("../TS/Fast/FOpacity"),l=t("../TS/Fast/FPosition"),p=t("../config/GlobalSignals"),u=cc._decorator,f=u.ccclass,d=u.property,h=u.menu;(function(t){t[t.ACTIVE_NODE=0]="ACTIVE_NODE",t[t.MOVING_NODE=1]="MOVING_NODE",t[t.TRANSPARENT=2]="TRANSPARENT"})(a||(a={})),function(t){t[t.WIN_SIGNAL=0]="WIN_SIGNAL",t[t.LOSE_SIGNAL=1]="LOSE_SIGNAL",t[t.BOTH_SIGNAL=2]="BOTH_SIGNAL"}(c||(c={}));var _,y=function(){function t(){this.target=null}return r([d(cc.Node)],t.prototype,"target",void 0),r([f("WinEventsHelper")],t)}();function g(t,e){var o=new e;return o.target=t,o}(function(t){t[t.ON=0]="ON",t[t.OFF=1]="OFF",t[t.DESTROY=2]="DESTROY"})(_||(_={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=_.ON,e}return i(e,t),e.prototype.execute=function(){switch(this.status){case _.ON:this.target.active=!0;break;case _.OFF:this.target.active=!1;break;case _.DESTROY:this.target.destroy()}},r([d({type:cc.Enum(_)})],e.prototype,"status",void 0),r([f("NodeController")],e)}(y),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=new l.FPositionHelper,e}return i(e,t),e.prototype.execute=function(){this.position.generate(cc.tween(this.target)).start()},r([d(l.FPositionHelper)],e.prototype,"position",void 0),r([f("NodeMoving")],e)}(y),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.option=new s.FOpacityHelper,e}return i(e,t),e.prototype.execute=function(){this.option.generate(cc.tween(this.target)).start()},r([d(s.FOpacityHelper)],e.prototype,"option",void 0),r([f("NodeTransparent")],e)}(y),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=a.ACTIVE_NODE,e.signal_type=c.WIN_SIGNAL,e.pre_delay=0,e.eventor=g(e.node,v),e._on_signal_callback=null,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){switch(this._type=t,t){case a.ACTIVE_NODE:this.eventor=g(this.node,v);break;case a.MOVING_NODE:this.eventor=g(this.node,b);break;case a.TRANSPARENT:this.eventor=g(this.node,m)}},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){switch(this._on_signal_callback=this.onSignalCall.bind(this),this.signal_type){case c.WIN_SIGNAL:p.GlobalSignals.questPassSignal.add(this._on_signal_callback,this);break;case c.LOSE_SIGNAL:p.GlobalSignals.questFailSignal.add(this._on_signal_callback,this);break;case c.BOTH_SIGNAL:p.GlobalSignals.questPassSignal.add(this._on_signal_callback,this),p.GlobalSignals.questFailSignal.add(this._on_signal_callback,this)}},e.prototype.onDisable=function(){switch(this.signal_type){case c.WIN_SIGNAL:p.GlobalSignals.questPassSignal.remove(this._on_signal_callback,this);break;case c.LOSE_SIGNAL:p.GlobalSignals.questFailSignal.remove(this._on_signal_callback,this);break;case c.BOTH_SIGNAL:p.GlobalSignals.questPassSignal.remove(this._on_signal_callback,this),p.GlobalSignals.questFailSignal.remove(this._on_signal_callback,this)}},e.prototype.onSignalCall=function(){var t=this;this.scheduleOnce(function(){t.eventor.execute()},this.pre_delay)},r([d({type:cc.Enum(a)})],e.prototype,"_type",void 0),r([d({type:cc.Enum(a)})],e.prototype,"type",null),r([d({type:cc.Enum(c)})],e.prototype,"signal_type",void 0),r([d({min:0})],e.prototype,"pre_delay",void 0),r([d({type:y,visible:function(){return!!this.eventor}})],e.prototype,"eventor",void 0),r([f,h("Level/Win Events")],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../TS/Fast/FOpacity":"FOpacity","../TS/Fast/FPosition":"FPosition","../config/GlobalSignals":"GlobalSignals"}],WinLoseManager:[function(t,e,o){"use strict";cc._RF.push(e,"8c955U8NsBKGr+4kVhfgpfg","WinLoseManager");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.WinLoseManager=o.WinLoseState=void 0;var r,a=t("../MainScene"),c=t("../PDBoards/PDBoardNewClue"),s=t("../PDTasks/PDTaskDataManager"),l=t("../PlayScreen"),p=t("../SubGameData/PDBoardGameData"),u=t("../SubGameData/PDTaskGameData"),f=t("../base/TouchManager"),d=t("../config/GlobalSignals"),h=t("./LevelDataController"),_=cc._decorator.mark_singleton;(function(t){t[t.PLAYING=0]="PLAYING",t[t.WIN=1]="WIN",t[t.LOSE=2]="LOSE"})(r=o.WinLoseState||(o.WinLoseState={}));var y=function(){function t(){this._state=r.PLAYING,this._ivk_win_toid=NaN}return t.prototype.reset=function(){this._state=r.PLAYING,this.clear_timeout()},t.prototype.invoke_fail=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._state===r.PLAYING&&(console.log("[] >>>>>>>>> INVOKE LOSE"),f.default.instance.pause(),this.clear_timeout(),this._state=r.LOSE,(t=d.GlobalSignals.questFailSignal).dispatch.apply(t,e),console.log("[WinLoseManager] Log: INVOKE FAIL"))},t.prototype.invoke_win=function(t){void 0===t&&(t=2);for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._state==r.PLAYING&&f.default.instance.pause();var n=cc.instance(h.LevelDataController),_=n.win_option;switch(_){case h.ELDWinLevelOptions.NONE:this._invoke_win.apply(this,i([t],e));break;case h.ELDWinLevelOptions.DONE_TASK_POPUP:this._invoke_win.apply(this,i([t],e)).then(function(){cc.instance(u.PDTaskGameData).is_marked_this_lvl(n.level_mark_uuid)||d.GlobalSignals.startLevel.add(function(){cc.instance(s.PDTaskDataManager).done_current_state(n.level_mark_uuid),d.GlobalSignals.startLevel.removeAll()})});break;case h.ELDWinLevelOptions.COLLECT_CLUE:if(this._invoke_win(t,!0,10),d.GlobalSignals.closeBoard.add(function(){l.default.instance.showWinPanel(!0)}),cc.instance(p.PDBoardGameData).set_next_state(n.level_mark_uuid)){cc.instance(c.PDBoardNewClue).settup();var y=cc.director.getScene().getComponentInChildren(cc.Canvas);null==y||y.scheduleOnce(function(){return a.default.instance.showNewClue()},.5)}else d.GlobalSignals.closeBoard.dispatch()}},t.prototype._invoke_win=function(t){for(var e=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return new Promise(function(n){e._ivk_win_toid=setTimeout(function(){var t;e._state==r.PLAYING&&(e._state=r.WIN,(t=d.GlobalSignals.questPassSignal).dispatch.apply(t,o)),n()},1e3*t)})},t.prototype.on_targetGO_outside=function(){},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.clear_timeout=function(){Number.isNaN(this._ivk_win_toid)||(clearTimeout(this._ivk_win_toid),this._ivk_win_toid=NaN)},n([_],t)}();o.WinLoseManager=y,cc._RF.pop()},{"../MainScene":"MainScene","../PDBoards/PDBoardNewClue":"PDBoardNewClue","../PDTasks/PDTaskDataManager":"PDTaskDataManager","../PlayScreen":"PlayScreen","../SubGameData/PDBoardGameData":"PDBoardGameData","../SubGameData/PDTaskGameData":"PDTaskGameData","../base/TouchManager":"TouchManager","../config/GlobalSignals":"GlobalSignals","./LevelDataController":"LevelDataController"}],WinPanelUI:[function(t,e,o){"use strict";cc._RF.push(e,"15d70G5qe9HFZZ5aBofMan1","WinPanelUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WinPanelUI=void 0;var a=t("../GameData"),c=t("../MainScene"),s=t("../config/AudioPlayId"),l=t("../config/GameConfig"),p=t("../objects/character/Main/Main"),u=t("./BgWinPanel"),f=t("./CinematicCamera"),d=cc._decorator,h=d.ccclass,_=d.property,y=d.menu,g=function(){function t(){this.root=null,this.claim_ads=null,this.claim_button=null}return t.prototype.settup=function(){this.onClaim(),this.root.active=!1},t.prototype.activate=function(){var t=this;this.onClaim(),this.root.active=!0,cc.tween(this.claim_button.node).delay(1).to(.5,{scale:1}).call(function(){t.claim_button.interactable=!0,t.claim_ads.interactable=!0}).start()},t.prototype.onClaim=function(){cc.Tween.stopAllByTarget(this.claim_button.node),this.claim_button.node.scale=0,this.claim_button.interactable=!1,this.claim_ads.interactable=!1},r([_(cc.Node)],t.prototype,"root",void 0),r([_({type:cc.Button,visible:function(){return!!this.root}})],t.prototype,"claim_ads",void 0),r([_({type:cc.Button,visible:function(){return!!this.root}})],t.prototype,"claim_button",void 0),r([h("PanelUI")],t)}(),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.win=new g,e.lose=new g,e.target_flying_coin=null,e.phao_giay=null,e._phao_giay=null,e}return i(e,t),e.prototype.onLoad=function(){this.init_phao_giay(),this.hide()},e.prototype.init_phao_giay=function(){this._phao_giay||(this._phao_giay=cc.instantiate(this.phao_giay),this.win.root.addChild(this._phao_giay))},e.prototype.startup=function(t){var e=u.default.instance?u.default.instance.fade_in():.5;f.CinematicCamera.instance.focusTo({position:p.Main.instance.world_cam_focus_position,is_world_pos:!0},1.3,e),cc.tween(this.node).to(e,{scale:1}).call(t.bind(this)).start()},e.prototype.showWin=function(){var t=this;this.node.active=!0,this.startup(function(){c.default.instance.audioPlayer.playAudio(s.AudioPlayId.music_win_level),c.default.instance.effectFadeSoundBackground(1,0,.3),t.win.activate(),a.GameData.addCoin(l.GameConfig.coin_level_up)})},e.prototype.showLose=function(){var t=this;this.node.active=!0,this.startup(function(){c.default.instance.audioPlayer.playAudio(s.AudioPlayId.music_lose_level),c.default.instance.effectFadeSoundBackground(1,0,.3),t.lose.activate()})},e.prototype.hide=function(){this.win.settup(),this.lose.settup(),this.node.scale=0,u.default.instance&&u.default.instance.deActive(),this.node.active=!1},e.prototype.onClaimCoinAnim=function(){c.default.instance.fx_flying_coins.settup_full_pack(this.node,this.target_flying_coin),this.win.onClaim()},r([_(g)],e.prototype,"win",void 0),r([_(g)],e.prototype,"lose",void 0),r([_(cc.Node)],e.prototype,"target_flying_coin",void 0),r([_(cc.Prefab)],e.prototype,"phao_giay",void 0),r([h,y("Level/Win Panel UI")],e)}(cc.Component);o.WinPanelUI=v,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId","../config/GameConfig":"GameConfig","../objects/character/Main/Main":"Main","./BgWinPanel":"BgWinPanel","./CinematicCamera":"CinematicCamera"}],WinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"49d10hGJHpIfIQtdvk9YuUz","WinPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../config/GameConfig"),s=cc.Camera,l=cc.easeOut,p=t("./BgWinPanel"),u=t("./MapLevel"),f=t("../config/GameState"),d=t("../objects/character/Theif/Theif"),h=t("./UIController"),_=t("../base/SetLabelLanguage"),y=t("../MainScene"),g=t("../objects/character/Main/Main"),v=cc._decorator,b=v.ccclass,m=v.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.changeCoinLabel=null,e.camera=null,e.cameraScale=1.3,e.winNode=null,e.loseNode=null,e.iconCoin=null,e.coinFlyPrefab=null,e.targetPos=null,e}return i(e,t),e.prototype.onEnable=function(){if(this.levelLabel.string=_.ChangeLanguage.getText("level")+(a.GameData.currentLevelId+1),g.Main.instance){var t,e=1/this.cameraScale;(u.default.instance.gameState,f.GameState.LOSE,t=g.Main.instance.node.position).y+=200,u.default.instance.gameState==f.GameState.LOSE&&(d.default.instance,t.x+=0);var o=(cc.winSize.height-1280)*e;t.y-=o,y.default.instance.screenManager.setPosFlash(this.node.parent.convertToWorldSpaceAR(t)),this.focusPanelTo(t,e,.3),this.focusCameraTo(t,this.cameraScale,.3),h.default.instance&&this.scheduleOnce(function(){h.default.instance.offUINode()},.1)}else cc.warn("Main intance is null")},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.camera.zoomRatio=1,this.camera.node.position=cc.Vec3.ZERO},e.prototype.showWin=function(){p.default.instance.active(),this.winNode.active=!0,this.loseNode.active=!1,this.node.active=!0,this.showChangeCoin(c.GameConfig.coin_level_up+a.GameData.coinStickBonus)},e.prototype.showLose=function(){p.default.instance.active(),this.winNode.active=!1,this.loseNode.active=!0,this.node.active=!0},e.prototype.hide=function(){p.default.instance&&p.default.instance.deActive(),this.node.active=!1},e.prototype.showChangeCoin=function(t){a.GameData.addCoin(t),this.changeCoinLabel.string="+"+t},e.prototype.loadCoinFly=function(){y.default.instance.fx_flying_coins.settup_full_pack(this.node,this.targetPos)},e.prototype.focusPanelTo=function(t,e,o){void 0===o&&(o=.7),cc.tween(this.node).to(o,{position:t,scale:e},l(5)).start()},e.prototype.focusCameraTo=function(t,e,o){void 0===o&&(o=.7),cc.tween(this.camera).to(o,{zoomRatio:e}).start(),cc.tween(this.camera.node).to(o,{position:t}).start()},r([m(cc.Label)],e.prototype,"levelLabel",void 0),r([m(cc.Label)],e.prototype,"changeCoinLabel",void 0),r([m(s)],e.prototype,"camera",void 0),r([m(cc.Float)],e.prototype,"cameraScale",void 0),r([m(cc.Node)],e.prototype,"winNode",void 0),r([m(cc.Node)],e.prototype,"loseNode",void 0),r([m(cc.Node)],e.prototype,"iconCoin",void 0),r([m(cc.Prefab)],e.prototype,"coinFlyPrefab",void 0),r([m(cc.Node)],e.prototype,"targetPos",void 0),r([b],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/SetLabelLanguage":"SetLabelLanguage","../config/GameConfig":"GameConfig","../config/GameState":"GameState","../objects/character/Main/Main":"Main","../objects/character/Theif/Theif":"Theif","./BgWinPanel":"BgWinPanel","./MapLevel":"MapLevel","./UIController":"UIController"}],WordArray:[function(t,e,o){"use strict";cc._RF.push(e,"1740aPVA7pFNq+ypDP1ARNo","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var n=t("../enc/Hex"),i=function(){function t(t,e){this.words=t||[],this.sigBytes=void 0!==e?e:4*this.words.length}return t.random=function(e){for(var o=[],n=function(t){var e=987654321,o=4294967295;return function(){var n=((e=36969*(65535&e)+(e>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},i=0,r=void 0;i<e;i+=4){var a=n(4294967296*(r||Math.random()));r=987654071*a(),o.push(4294967296*a()|0)}return new t(o,e)},t.prototype.toString=function(t){return(t||n.Hex).stringify(this)},t.prototype.concat=function(t){if(this.clamp(),this.sigBytes%4)for(var e=0;e<t.sigBytes;e++){var o=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=o<<24-(this.sigBytes+e)%4*8}else for(e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this},t.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t}();o.WordArray=i,cc._RF.pop()},{"../enc/Hex":"Hex"}],XCharacter:[function(t,e,o){"use strict";cc._RF.push(e,"3927a2fv1lNy7NxghOiUeIS","XCharacter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.XCharacter=o.CharacterAudio=o.AudioObj=o.CharacterAnimations=void 0;var a=t("../../TS/Helper/Global"),c=t("../../base/ColliderCallback"),s=t("../../config/GameConfig"),l=t("../../base/audio/AudioPlayer"),p=t("../../config/AudioPlayId"),u=t("../../config/GlobalSignals"),f=t("../../config/TagObject"),d=t("./ColliderGround"),h=t("./ColliderSearch"),_=t("./MoveCtrl"),y=t("../drop/ObjectGO"),g=t("../drop/LiquidGO"),v=t("../drop/DeathGO"),b=t("../../config/GlobalEnum"),m=t("../../config/GroupConfig"),S=t("../../level/LevelTransition"),C=cc._decorator,O=C.ccclass,P=C.property,k=function(){function t(){this.idle="",this.killed="",this.move="",this.win="",this.lose="",this.die_ice="",this.die_bomb="",this.die_rock=""}var e;return e=t,t.prototype.playAnim=function(t,e,o){return t.setAnimation(0,this[e],o)},t.prototype.addAnim=function(t,e,o){return t.addAnimation(0,this[e],o)},t.prototype.get=function(t){return this[t]},Object.defineProperty(t,"dog_collie_default",{get:function(){var t=new e;return t.move="Walk",t.idle="Idle",t.win="Happy",t.lose="Sad",t.die_ice="Sad",t.die_bomb="Die_Bomb",t.die_rock="Die_Rock",t.killed="Fall",t},enumerable:!1,configurable:!0}),r([P({tooltip:""})],t.prototype,"idle",void 0),r([P({tooltip:""})],t.prototype,"killed",void 0),r([P({tooltip:""})],t.prototype,"move",void 0),r([P({tooltip:""})],t.prototype,"win",void 0),r([P({tooltip:""})],t.prototype,"lose",void 0),r([P({tooltip:""})],t.prototype,"die_ice",void 0),r([P({tooltip:""})],t.prototype,"die_bomb",void 0),r([P({tooltip:""})],t.prototype,"die_rock",void 0),e=r([O("CharacterAnimations")],t)}();o.CharacterAnimations=k;var R=function(){function t(){this.sound=p.AudioPlayId.none,this.loop=!1,this.volume=1}return r([P({type:cc.Enum(p.AudioPlayId)})],t.prototype,"sound",void 0),r([P(cc.Boolean)],t.prototype,"loop",void 0),r([P({type:cc.Float,slide:!0,range:[0,1]})],t.prototype,"volume",void 0),r([O("AudioObj")],t)}();o.AudioObj=R;var A=function(){function t(){this._soundIdle=[],this._soundWin=[],this._soundLose=[],this._soundDie=[],this._soundAttack=[],this._soundMove=[]}return Object.defineProperty(t.prototype,"soundIdle",{get:function(){return this._soundIdle},set:function(t){this._soundIdle=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundWin",{get:function(){return this._soundWin},set:function(t){this._soundWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundLose",{get:function(){return this._soundLose},set:function(t){this._soundLose=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundDie",{get:function(){return this._soundDie},set:function(t){this._soundDie=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundAttack",{get:function(){return this._soundAttack},set:function(t){this._soundAttack=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"soundMove",{get:function(){return this._soundMove},set:function(t){this._soundMove=t},enumerable:!1,configurable:!0}),r([P({type:[R]})],t.prototype,"_soundIdle",void 0),r([P({type:[R]})],t.prototype,"soundIdle",null),r([P({type:[R]})],t.prototype,"_soundWin",void 0),r([P({type:[R]})],t.prototype,"soundWin",null),r([P({type:[R]})],t.prototype,"_soundLose",void 0),r([P({type:[R]})],t.prototype,"soundLose",null),r([P({type:[R]})],t.prototype,"_soundDie",void 0),r([P({type:[R]})],t.prototype,"soundDie",null),r([P({type:[R]})],t.prototype,"_soundAttack",void 0),r([P({type:[R]})],t.prototype,"soundAttack",null),r([P({type:[R]})],t.prototype,"_soundMove",void 0),r([P({type:[R]})],t.prototype,"soundMove",null),r([O("CharacterAudio")],t)}();o.CharacterAudio=A;var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._skeleton=null,e.move_ctrl=null,e._lvl_transition=null,e.animation=null,e.audio=new A,e.groundCollider=null,e.headCollider=null,e.bodyCollider=null,e.attackCollider=null,e.searchCollider=null,e.rootCollider=null,e._onQuestPass=null,e._onQuestFail=null,e._onCollectGem=null,e._onAutoMove=null,e._onNextLeveL=null,e._state=b.ECharacterState.NONE,e._is_facing_left=!0,e._alive=!0,e._moving_tween=null,e.soundIdleObj=[],e.soundWinObj=[],e.soundLoseObj=[],e.soundMoveObj=[],e.soundDieObj=[],e.soundAttackObj=[],e._prev_die_reason=null,e}return i(e,t),Object.defineProperty(e.prototype,"skeleton",{get:function(){return this._skeleton},set:function(t){this._skeleton=t,this.onSetSkeleton(t)},enumerable:!1,configurable:!0}),e.prototype.init_skeleton=function(){a.PTS.spine.make_spine_anim_mixing(this._skeleton,s.GameConfig.spine_mixin_timer)},e.prototype.onSetSkeleton=function(t){this.animation=t?new k:null},Object.defineProperty(e.prototype,"lvl_transition",{get:function(){return this._lvl_transition||(this._lvl_transition=a.PTS.component.get_component_in_parents(this.node,S.LevelTransition)),this._lvl_transition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_ground",{get:function(){return!this.move_ctrl||this.move_ctrl.is_ground},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.init_skeleton()},e.prototype.auto_resize=function(){},e.prototype.onEnable=function(){this._state=b.ECharacterState.NONE,this.rootCollider.active=!0,this._prev_die_reason=null,this._is_facing_left=this._skeleton.node.scaleX>0,this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onCollectGem=this.onCollectGem.bind(this),this._onAutoMove=this.onAutoMove.bind(this),u.GlobalSignals.questPassSignal.add(this._onQuestPass),u.GlobalSignals.questFailSignal.add(this._onQuestFail),this.groundCollider.setGroundColliderCallback(this._ground_ccb.bind(this)),this.headCollider.setColliderCallback(this._enter_head_ccb.bind(this)),this.bodyCollider.setColliderCallback(this._enter_body_ccb.bind(this)),this.attackCollider.setColliderCallback(this._enter_attack_ccb.bind(this)),this.searchCollider&&this.searchCollider.setColliderCallback(this._on_search_target.bind(this)),this._quick_settup_collider()},e.prototype._quick_settup_collider=function(){this.attackCollider&&(this.attackCollider.node.active=!1),this.searchCollider&&(this.searchCollider.node.active=!1)},e.prototype.attive_attack=function(){this.attackCollider.node.active=!0},e.prototype.flip=function(){this._skeleton.node.scaleX*=-1,this._is_facing_left=!this._is_facing_left},e.prototype.move_right=function(){this.do_move()&&this.move_ctrl.moveRight()},e.prototype.move_forward=function(){this.do_move()&&this.move_ctrl.move_forward(this._is_facing_left)},e.prototype.tween_move_forward=function(){var t=this;if(this.do_move()){var e=this.move_ctrl?this.move_ctrl.Velocity_X:120,o=function(){return cc.tween(t.node).by(.5,{x:(t._is_facing_left?-1:1)*e}).call(function(){return t._moving_tween=o()}).start()};this._moving_tween=o()}},e.prototype.tween_moving_to=function(t,e,o){if(this.do_move()){var n=a.PTS.node.get_local_position(this.node,t);this._moving_tween=cc.tween(this.node).to(e,{position:n}).call(function(){o&&o()}).start()}},e.prototype.do_move=function(){return this._state!==b.ECharacterState.LOSE&&this._state!==b.ECharacterState.MOVE&&(this._state=b.ECharacterState.MOVE,this.playAnim("move"),!0)},e.prototype.stop_move=function(){var t,e;console.log("REQUEST STOP MOVE"),this._state===b.ECharacterState.MOVE&&this.offSoundMove(),null===(t=this.move_ctrl)||void 0===t||t.stopMove(),null===(e=this._moving_tween)||void 0===e||e.stop(),this._moving_tween=null,console.log("TWEEN MOVING STOP")},e.prototype._enter_head_ccb=function(t){var e=t.getComponent(y.ObjectGO);if(e&&this.invoke_spawn_fx_event(e),e instanceof v.DeathGO){if(e.check_type(f.TagConfig.BOMB))return void this.do_lose(b.ECharacterDieReason.FIRE);if(e.check_type(f.TagConfig.ROCK))return void this.do_lose(b.ECharacterDieReason.STUN)}e instanceof g.LiquidGO&&e.check_type(f.TagConfig.LAVA)&&this.do_lose(b.ECharacterDieReason.FIRE)},e.prototype.invoke_spawn_fx_event=function(t){u.GlobalSignals.spawnFxEvent.have_any_listeners()&&(t.check_type(f.TagConfig.WATER)||t.check_type(f.TagConfig.LAVA)||t.check_type(f.TagConfig.ROCK))&&(u.GlobalSignals.spawnFxEvent.dispatch(t.node,t.type),t.do_complete(!0))},e.prototype._ground_ccb=function(){},e.prototype._enter_body_ccb=function(t){if(t.node.group!==m.GroupConfig.CHARACTER){if(t.node.group===m.GroupConfig.COLLIDER){if(t.node.name==f.TagConfig.REDIRECT_ANIM+"")return void this._on_body_collide_to_redirect_anim(t);if(t.node.name==f.TagConfig.HIT+"")return void this._on_hit(t)}var e=t.getComponent(y.ObjectGO);if(e){if(!(e instanceof v.DeathGO&&e.check_type(f.TagConfig.BOMB)))return e instanceof g.LiquidGO&&e.check_type(f.TagConfig.LAVA)?(this.do_lose(b.ECharacterDieReason.FIRE),void e.do_outside(this.node)):void(e&&this._on_body_collide_to_ogo(e));this.do_lose(b.ECharacterDieReason.FIRE)}}else this._on_body_collide_to_character(t)},e.prototype.stop_move_then_idle=function(){return this._state===b.ECharacterState.MOVE&&(this.stop_move(),this.do_idle(),!0)},e.prototype._on_body_collide_to_ogo=function(){},e.prototype._on_body_collide_to_character=function(){},e.prototype._on_hit=function(){},e.prototype._on_body_collide_to_redirect_anim=function(t){this.stop_move_then_idle()&&(t.done=!0)},e.prototype._enter_attack_ccb=function(){},e.prototype._on_search_target=function(){},e.prototype.start=function(){this.initSkin(),this._startup_intro()},e.prototype.onDisable=function(){u.GlobalSignals.questPassSignal.remove(this._onQuestPass),u.GlobalSignals.questFailSignal.remove(this._onQuestFail),u.GlobalSignals.stopTogether.remove(this.stop_move_then_idle.bind(this))},e.prototype.onDestroy=function(){},e.prototype.do_win=function(){},e.prototype.do_lose=function(t){if(void 0===t&&(t=b.ECharacterDieReason.NORMAL),!(null!=this._prev_die_reason&&this._prev_die_reason>=t)){switch(this.stop_move(),this.unscheduleAllCallbacks(),this._prev_die_reason=t,this.offSoundIdle(),console.log(this.name,"DIE",b.ECharacterDieReason[t],this._alive),t){case b.ECharacterDieReason.NORMAL:this.playAnim("lose");break;case b.ECharacterDieReason.GAS:case b.ECharacterDieReason.STUN:this.playAnim("die_rock"),this._alive=!1;break;case b.ECharacterDieReason.KILL:this.playAnim("killed",!1),this._alive=!1;break;case b.ECharacterDieReason.FIRE:this.playAnim("die_bomb",!1),this._alive=!1;break;case b.ECharacterDieReason.ICE:this.playAnim("die_ice",!1),this._alive=!1}this._state!==b.ECharacterState.LOSE&&(this._state=b.ECharacterState.LOSE,this.onSoundLose(),this.after_lose())}},e.prototype.after_lose=function(){},e.prototype.do_idle=function(){return this._state!==b.ECharacterState.IDLE&&this._state!==b.ECharacterState.LOSE&&(this._state===b.ECharacterState.MOVE&&this.stop_move(),this._state=b.ECharacterState.IDLE,this.onSoundIdle(),this.playAnim("idle"),!0)},e.prototype._startup_intro=function(){this.do_idle()},e.prototype.playAnim=function(t,e,o){void 0===e&&(e=!0),void 0===o&&(o=null);var n=this.animation.playAnim(this.skeleton,t,e);return o&&(o.start_cb&&this.setAnimationStartListener(n,o.start_cb),o.complete_cb&&this.setAnimationCompleteListener(n,o.complete_cb)),n},e.prototype.setAnimationCompleteListener=function(t,e){this._skeleton.setTrackCompleteListener(t,e)},e.prototype.setAnimationStartListener=function(t,e){this._skeleton.setTrackStartListener(t,e)},e.prototype.onSoundDie=function(){this.soundDieObj=l.default.playArrAudioObj(this.audio.soundDie)},e.prototype.onSoundIdle=function(){0==this.soundIdleObj.length&&(this.soundIdleObj=l.default.playArrAudioObj(this.audio.soundIdle))},e.prototype.offSoundIdle=function(){l.default.stopArrAudioObj(this.soundIdleObj)},e.prototype.onSoundWin=function(){0==this.soundWinObj.length&&(this.soundWinObj=l.default.playArrAudioObj(this.audio.soundWin))},e.prototype.onSoundLose=function(){console.log(this.name,"DIE",this._alive),this._alive?0==this.soundWinObj.length&&(this.soundLoseObj=l.default.playArrAudioObj(this.audio.soundLose)):this.onSoundDie()},e.prototype.onSoundMove=function(){this.soundMoveObj=l.default.playArrAudioObj(this.audio.soundMove)},e.prototype.offSoundMove=function(){l.default.stopArrAudioObj(this.soundMoveObj)},e.prototype.onSoundAttack=function(){this.soundAttackObj=l.default.playArrAudioObj(this.audio.soundAttack)},e.prototype.offSoundAttack=function(){l.default.stopArrAudioObj(this.soundAttackObj)},r([P(sp.Skeleton)],e.prototype,"_skeleton",void 0),r([P({tooltip:"",type:sp.Skeleton})],e.prototype,"skeleton",null),r([P(_.default)],e.prototype,"move_ctrl",void 0),r([P(S.LevelTransition)],e.prototype,"_lvl_transition",void 0),r([P(S.LevelTransition)],e.prototype,"lvl_transition",null),r([P({type:k,visible:function(){return!!this.animation}})],e.prototype,"animation",void 0),r([P({type:A})],e.prototype,"audio",void 0),r([P(d.default)],e.prototype,"groundCollider",void 0),r([P(c.default)],e.prototype,"headCollider",void 0),r([P(c.default)],e.prototype,"bodyCollider",void 0),r([P(c.default)],e.prototype,"attackCollider",void 0),r([P(h.default)],e.prototype,"searchCollider",void 0),r([P(cc.Node)],e.prototype,"rootCollider",void 0),r([O],e)}(cc.Component);o.XCharacter=E,u.GlobalSignals.stopTogether.add(function(){console.log("DISPATCH STOP TOGETHEr"),console.log(u.GlobalSignals.stopTogether)}),cc._RF.pop()},{"../../TS/Helper/Global":"Global","../../base/ColliderCallback":"ColliderCallback","../../base/audio/AudioPlayer":"AudioPlayer","../../config/AudioPlayId":"AudioPlayId","../../config/GameConfig":"GameConfig","../../config/GlobalEnum":"GlobalEnum","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/LevelTransition":"LevelTransition","../drop/DeathGO":"DeathGO","../drop/LiquidGO":"LiquidGO","../drop/ObjectGO":"ObjectGO","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],XEnemy:[function(t,e,o){"use strict";cc._RF.push(e,"33113Ozo8BEKKxEb65zEceC","XEnemy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.XEnemy=o.EnemyAnimations=o.EnemyType=void 0;var a,c=t("../../../TS/Helper/Global"),s=t("../../../config/GlobalEnum"),l=t("../../../config/GroupConfig"),p=t("../XCharacter"),u=t("./EnemyPool"),f=cc._decorator,d=f.ccclass,h=f.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.HOME=1]="HOME"})(a=o.EnemyType||(o.EnemyType={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attack="",e}var o;return i(e,t),o=e,e.prototype.playAnim=function(t,e,o){return t.setAnimation(0,this[e],o)},e.prototype.addAnim=function(t,e,o){return t.addAnimation(0,this[e],o)},e.prototype.getAnimDuration=function(t,e){return t.findAnimation(this[e]).duration},Object.defineProperty(e,"default_enemy",{get:function(){var t=new o;return t.idle="Idle",t.move="Walk",t.killed="Fall",t.die_rock="Die_Rock",t.die_bomb="Die_Bomb",t.die_ice="Freeze",t.attack="Attack",t.lose="",t.win="",t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"default_mad_scientist",{get:function(){var t=o.default_enemy;return t.die_bomb="Dead_Lava",t.die_rock="Dead_Rock",t},enumerable:!1,configurable:!0}),r([h({tooltip:""})],e.prototype,"attack",void 0),o=r([d("EnemyAnimations")],e)}(p.CharacterAnimations);o.EnemyAnimations=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemy_type=a.NORMAL,e._hit=null,e.pool=null,e._active_search_detector=!1,e}return i(e,t),Object.defineProperty(e.prototype,"hit",{get:function(){return this._hit},set:function(t){t.getComponent(cc.Collider)&&(this._hit=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enemy_pool",{get:function(){return this.pool||(this.pool=c.PTS.component.get_component_in_childs(cc.director.getScene(),u.EnemyPool)),this.pool},enumerable:!1,configurable:!0}),e.prototype._startup_intro=function(){var e=this;this.lvl_transition.complete_event.add(function(){e.active_search_detector()}),t.prototype._startup_intro.call(this)},e.prototype.active_search_detector=function(){this.enemy_type==a.HOME&&(this._active_search_detector=!0)},e.prototype._on_search_target=function(t){this.enemy_type!==a.NORMAL&&t.node.group!=l.GroupConfig.BERRIE&&(this.attive_attack(),this._on_searched_target(t))},e.prototype.update=function(){this._active_search_detector&&(this.searchCollider.node.active=this.move_ctrl.is_ground)},e.prototype._on_searched_target=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this._hit&&(this._hit.active=!1)},e.prototype.playAnim=function(e,o,n){return void 0===o&&(o=!0),void 0===n&&(n=null),t.prototype.playAnim.call(this,e,o,n)},e.prototype.after_lose=function(){var t;null===(t=this.enemy_pool)||void 0===t||t.kill_a_enemy()},e.prototype._enter_attack_ccb=function(t){this._state!==s.ECharacterState.LOSE&&this.is_ground&&t.node.group===l.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node&&this.do_attack(t)},e.prototype.do_attack=function(){return this._state!==s.ECharacterState.ATTACK&&(this._state=s.ECharacterState.ATTACK,this.stop_move(),this._hit.active=!0,this.playAnim("attack",!1),!0)},e.prototype.onQuestPass=function(){},e.prototype.onQuestFail=function(){this.onSoundWin()},r([h({type:cc.Enum(a)})],e.prototype,"enemy_type",void 0),r([h(cc.Node)],e.prototype,"_hit",void 0),r([h(cc.Node)],e.prototype,"hit",null),r([h({type:u.EnemyPool,visible:!1})],e.prototype,"pool",void 0),r([h(u.EnemyPool)],e.prototype,"enemy_pool",null),r([d],e)}(p.XCharacter);o.XEnemy=y,cc._RF.pop()},{"../../../TS/Helper/Global":"Global","../../../config/GlobalEnum":"GlobalEnum","../../../config/GroupConfig":"GroupConfig","../XCharacter":"XCharacter","./EnemyPool":"EnemyPool"}],"crypto-ts":[function(t,e,o){"use strict";cc._RF.push(e,"6ad71ENhsBPeYpe5u6RElqq","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var n=t("./lib/WordArray"),i=t("./lib/BlockCipher"),r=t("./lib/CipherParams"),a=t("./lib/Hasher"),c=t("./lib/SerializableCipher"),s=t("./lib/PasswordBasedCipher");o.lib={BlockCipher:i.BlockCipher,WordArray:n.WordArray,CipherParams:r.CipherParams,Hasher:a.Hasher,SerializableCipher:c.SerializableCipher,PasswordBasedCipher:s.PasswordBasedCipher};var l=t("./algo/AES"),p=t("./algo/SHA256");o.algo={AES:l.AES,SHA256:p.SHA256};var u=t("./enc/Utf8"),f=t("./enc/Hex");o.enc={Utf8:u.Utf8,Hex:f.Hex};var d=t("./pad/NoPadding"),h=t("./pad/PKCS7");o.pad={NoPadding:d.NoPadding,PKCS7:h.PKCS7};var _=t("./mode/CBC"),y=t("./mode/ECB");o.mode={CBC:_.CBC,ECB:y.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],glance_Global:[function(t,e,o){"use strict";cc._RF.push(e,"296f46hpLFFd53/GtJsmxpw","glance_Global"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GameData"),i=t("../HomeScreen"),r=t("../MainScene"),a=t("../PlayScreen"),c=t("../ResUtil"),s=t("../config/AudioPlayId"),l=t("../config/GameConfig"),p=t("../config/GlobalSignals"),u=t("../level/MapLevel"),f=t("./audio/AudioManager");function d(t,e){console.log("AnalyticsEvent",t,e)}var h=function(){function t(){this.rewardType="skip",this.isPlayAd=!1,this.effectSoundState=!1,this.musicSoundState=!1,this.levelBefore=0,this._dailyBonus=0,this.callback=null}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.dispatchCallbackAdsEvent=function(e){t.instance.rewardType="callback",t.instance.effectSoundState=f.default.EffectEnable,t.instance.musicSoundState=f.default.MusicEnable,t.instance.callback=e,t.instance.sendEventReward(),t.instance.rewardEvent()},t.prototype.setDailyBonus=function(t,e){void 0===e&&(e=1),this._dailyBonus=t*e},t.prototype.getDailyBonus=function(){return this._dailyBonus},t.prototype.sendEventLoad=function(){d("game_load",{})},t.prototype.sendEventStart=function(){d("game_start",{})},t.prototype.sendEventLevel=function(t){d("game_level",{level:t})},t.prototype.sendEventReplay=function(t){d("game_replay",{level:t})},t.prototype.sendEventGameEnd=function(t){d("game_end",{level:t})},t.prototype.sendEventLifeEnd=function(t){d("game_life_end",{level:t})},t.prototype.sendEventLevelComplete=function(t){d("level_completed",{level:t})},t.prototype.sendEventReward=function(){d("rewarded_ad",{successCB:rewardDone,failureCB:rewardFail})},t.prototype.sendEventransactions=function(t,e){d("ingame_transactions",{transactionType:e,meta:null,level:t})},t.prototype.rewardEvent=function(){f.default.EffectEnable=!1,f.default.MusicEnable=!1,window.rewardDone()},t.prototype.replayEvent=function(){f.default.EffectEnable=!1,f.default.MusicEnable=!1,replayEvent()},t._instance=null,t}();o.default=h,window.rewardDone=function(){switch(console.log("ASFKS;"),h.instance.rewardType){case"receiveBonus":var t=l.GameConfig.coin_level_bonus;cc.log("onClickShowAdsToReceiveBonus: bonus = "+t),n.GameData.addCoin(t),a.default.instance.nextLevel(null,!0),a.default.instance.showToastReward(t,.5,0);break;case"skip":n.GameData.saveLevelUp(),n.GameData.saveLevelNormal(),a.default.instance.nextLevel(null,!0);break;case"receiveCoinsSKin":t=l.GameConfig.coin_watch_skin,n.GameData.addCoin(t);break;case"dailyBonus":h.instance.callback&&h.instance.callback(),n.GameData.addCoin(h.instance.getDailyBonus());break;case"callback":h.instance.callback&&h.instance.callback()}f.default.EffectEnable=h.instance.effectSoundState,f.default.MusicEnable=h.instance.musicSoundState},window.rewardFail=function(){f.default.EffectEnable=h.instance.effectSoundState,f.default.MusicEnable=h.instance.musicSoundState},window.replayDone=function(){f.default.EffectEnable=h.instance.effectSoundState,f.default.MusicEnable=h.instance.musicSoundState},window.pauseEvent=function(){cc.director.pause()},window.resumeEvent=function(){cc.director.resume()},window.replayGameEvent=function(){a.default.instance.loadCurrentLevel(!1)},window.nextLevelEvent=function(){n.GameData.saveLevelUp(),u.default.instance.isCollectPuzzle||n.GameData.saveLevelNormal(),a.default.instance.loadLevel(n.GameData.currentLevelId)},window.gotoHomeEvent=function(){r.default.instance.showHomeScreen(function(t){t.getComponent(i.default).activeHomeUI()})},window.gotoLevel=function(t){a.default.instance.unscheduleAllCallbacks(),r.default.instance.audioPlayer.stopAllEffect(),h.instance.levelBefore?(c.ResUtil.releaseAllLevel(),h.instance.levelBefore=t):h.instance.levelBefore=t,n.GameData.currentRoomId=1,t!=n.GameData.currentLevelId&&t%5==0&&n.GameData.setCurrentLevelPuzzle(),n.GameData.currentLevelId=t-1,n.GameData.saveLevelUp(),n.GameData.currentLevelNormal=t-1,n.GameData.saveLevelNormal(),n.GameData.currentLevelId%5==0&&0!=n.GameData.currentLevelId?(a.default.instance.loadLevel(n.GameData.currentLevelPuzzle,!0,!1),n.GameData.previousLevelPuzzle=n.GameData.currentLevelPuzzle):(a.default.instance.loadLevel(t,!1,!1),c.ResUtil.releaseLevelById(h.instance.levelBefore),5!=n.GameData.currentLevelId&&c.ResUtil.releaseLevelPuzzleById(n.GameData.previousLevelPuzzle)),a.default.instance.backgroundMusic||0!=n.GameData.currentLevelId&&(a.default.instance.backgroundMusic=r.default.instance.audioPlayer.playAudio(s.AudioPlayId.music_background,!0)),n.GameData.currentLevelId+1==4&&c.ResUtil.loadPrefab("prefabs/homePin2/Intro/IntroLevel4",null,null)},window.enableSound=function(t){1!=h.instance.isPlayAd&&(f.default.EffectEnable=t,f.default.MusicEnable=t,p.GlobalSignals.updateToggleSound.dispatch())},cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../PlayScreen":"PlayScreen","../ResUtil":"ResUtil","../config/AudioPlayId":"AudioPlayId","../config/GameConfig":"GameConfig","../config/GlobalSignals":"GlobalSignals","../level/MapLevel":"MapLevel","./audio/AudioManager":"AudioManager"}],index:[function(t,e,o){"use strict";cc._RF.push(e,"30180Ip+SVOjKHh++JZRJKF","index");var n=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),i=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||n(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(t("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],"mesh-texture-mask":[function(t,e){"use strict";function o(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}cc._RF.push(e,"2b916xDwOJDaq/ZFI4mGP7k","mesh-texture-mask");var r=cc.gfx;cc.Class({extends:cc.Component,editor:!1,properties:{_temp_refresh:!1,temp_refresh:{displayName:"Refresh",type:cc.Boolean,get:function(){return this._temp_refresh},set:function(t){this._temp_refresh=t,this._applyVertexes()}},_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this.temp_refresh,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_vertexes:{default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)]},type:[cc.Vec2]},vertexes:{tooltip:"Polygon",get:function(){return this._vertexes},set:function(t){this._vertexes=t,this._updateMesh(),this.temp_refresh,this._applyVertexes()},type:[cc.Vec2]}},onLoad:function(){this._meshCache={},this._updateMesh();var t=this.node.getComponent(cc.MeshRenderer);t||(t=this.node.addComponent(cc.MeshRenderer)),t.mesh=null,this.renderer=t;var e=cc.Material.getBuiltinMaterial("unlit");t.setMaterial(0,e),this._applySpriteFrame(),this._applyVertexes()},_updateMesh:function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),this.mesh=t},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(r.ATTR_POSITION,this.vertexes),this.texture){for(var n,i=[],a=o(this.vertexes);!(n=a()).done;){var c=n.value,s=(c.x+this.texture.width/2+this.offset.x)/this.texture.width,l=1-(c.y+this.texture.height/2+this.offset.y)/this.texture.height;i.push(cc.v2(s,l))}e.setVertices(r.ATTR_UV0,i)}if(this.vertexes.length>=3){for(var p=[],u=[].concat(this.vertexes),f=0,d=-1;u.length>3;){var h=u[f],_=u[(f+1)%u.length],y=u[(f+2)%u.length],g=_.sub(h),v=y.sub(_);if(g.cross(v)>=0){for(var b,m=!1,S=o(u);!(b=S()).done;){var C=b.value;if(C!==h&&C!==_&&C!==y&&this._testInTriangle(C,h,_,y)){m=!0;break}}if(m){if((f=(f+1)%u.length)===d){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else p=p.concat([this.vertexes.indexOf(h),this.vertexes.indexOf(_),this.vertexes.indexOf(y)]),u.splice(u.indexOf(_),1),d=f}else if((f=(f+1)%u.length)===d){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}f>u.length-1&&(f=u.length-1)}p=p.concat(u.map(function(e){return t.vertexes.indexOf(e)})),e.setIndices(p),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_testInTriangle:function(t,e,o,n){var i=o.sub(e),r=n.sub(e),a=n.sub(o),c=t.sub(e),s=t.sub(o);return i.cross(r)>=0^i.cross(c)<0&&i.cross(r)>=0^r.cross(c)>=0&&a.cross(i)>0^a.cross(s)>=0},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.renderer._materials[0],e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e),this.texture=e}}}),cc._RF.pop()},{}]},{},["CCDecorators","CCFunctions","BackgroundLoader","CheckLose","ChestPopupReward","DailyButton","PopupDaily","RandomPinPopup","Exporter","GameData","Guide","HomeScreen","IntroController","Loading","MainScene","EPDBoardDataViewer","PDBoardDataManager","PDBoardItem","PDBoardItemDetailPopup","PDBoardManager","PDBoardNewClue","PDDialogueController","PDLevelTaskmanager","PDTaskDataManager","PDTaskManager","PlayScreen","PrefabManager","PrefabType","ResUtil","ScreenManager","SpineSkinHelper","APDGameData","PDBoardGameData","PDTaskGameData","CCMTween","MultiLangsOption","Typers","FOpacity","FPosition","FRotation","FScaler","FSpineAnimation","FTotalParticle","FastComponent","CCComponent","CCNode","CCPrefab","Checker","Global","LinkList","Loader","Logger","Suppoter","Utils","AIOLangConfig","AIOLanguage","MaskPolygon","MeshPolygonSprite","ASpawner","BaseSpawner","LoopSpawner","SpawnerRect","RootSync","SyncPosition","SyncRemove","SyncRotation","FlashTransition","ActiveBox","ActiveFun","ColliderCallback","DynamicSpriteLanguage","Language","LocalStorageManager","MarkCollider","NodeFixSize","NumberUpdater","ParticleLoop","PhysicalEnable","PlayerCoinUpdater","PopupDisplay","RenderMask","SetLabelLanguage","Signal","SignalBinding","StaticSetLabelLang","StaticSetSpriteLang","Task","TouchManager","FrameByFrame","RotateByRepeatAnim","RotateByRepeatAnimX2","ScaleRepeatAnim","AudioInformation","AudioManager","AudioPlayer","MyAudioPlayer","IColliderCallback","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","glance_Global","mesh-texture-mask","ToggleSlider","ToggleSliderGroup","ArrayUtil","GUIUtil","MathUtil","StringUtil","AudioPlayId","CaseSound","DailyConfig","GameConfig","GameState","GlobalEnum","GlobalSignals","GroupConfig","ItemLevelSkin","ItemLevelType","LevelConfig","PhysicsConfig","PuzzlesConfig","QuestType","RoomConfig","SkinConfig","TagObject","GlanceWindow","Hand","BgWinPanel","CinematicCamera","LevelCutScene","LevelCutSceneController","LevelDataController","EAutoWall","EFakeCam","TheGate","LevelTransition","MapLevel","RedirectBox","UIController","WinEvents","WinLoseManager","WinPanel","WinPanelUI","StickHold","BoxCheckOut","CollidableTarget","Character","ColliderGround","ColliderSearch","Couple","Daughter","DogCollie","Dog","Enemies","EnemyPool","Phantom","WereWolfHome","WereWolfNormal","XEnemy","ICharacterCollider","MSAxitBottle","MadScientistNormal","Main","Mom","MoveCtrl","Theif","XCharacter","ContainerGO","ContainerWithPlayerGO","MatchBoxContainerGO","ScissorContainerGO","Ball","BallGO","DeathGO","GOCollider","GasGO","GemsGO","GemsPool","LavaGO","LiquidGO","ObjectGO","RockGO","SnowGO","SubGOSettup","TargetGO","WaterGO","CoalGO","ContainType","Container","DirtyGO","Libbey","SmokeGO","WallBreak","BigBang","BigStone","Bomb","Bullet","CampFire","FireBall","FxManager","ItemChest","ItemLevel","ItemLoot","ItemPuzzle","ItemSync","NormalBomb","RopeFull","RopePart","FBInstantData","CheckWinIntro","CheckWinPuzzles","PuzzlesPopup","DecorButton","FxUpgrade","MyRoom","OpenItem","ReplaceItem","RoomPopup","SelectRoomItem","SkinBossUpdater","SkinItem","SkinPopup","SkinShop","SkinShopConfig","SkinShopItem","SkinShopRow","SlotsSpineDuplicate","RunSpineAnim","StopSpine","TestPhysics","TestRedirect","TestSkeleton","ButtonActive","DynamicButton","FXFlyingCoins","FlyingCoins","IconQuest","LevelUIController","LevelUIIntromation","LinkListDynamicButton","SettingsPopup","ToastReward"]);