window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AES:[function(t,e,o){"use strict";cc._RF.push(e,"a8574L2byhNxZgSqKOjs1Vn","AES");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var r=t("../lib/BlockCipher"),a=[],c=[],s=[],l=[],p=[],u=[],d=[],f=[],h=[],y=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,n=0;for(e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,a[o]=i,c[i]=o;var r=t[o],g=t[r],_=t[g],v=257*t[i]^16843008*i;s[o]=v<<24|v>>>8,l[o]=v<<16|v>>>16,p[o]=v<<8|v>>>24,u[o]=v,v=16843009*_^65537*g^257*r^16843008*o,d[i]=v<<24|v>>>8,f[i]=v<<16|v>>>16,h[i]=v<<8|v>>>24,y[i]=v,o?(o=r^t[t[t[_^r]]],n^=t[t[n]]):o=n=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],_=function(t){function e(e,o,n){return t.call(this,e,o,n)||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,o=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],c=0;c<i;c++)if(c<n)r[c]=o[c];else{var s=r[c-1];c%n?n>6&&c%n==4&&(s=a[s>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s]):(s=a[(s=s<<8|s>>>24)>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s],s^=g[c/n|0]<<24),r[c]=r[c-n]^s}for(var l=this._invKeySchedule=[],p=0;p<i;p++)c=i-p,s=void 0,s=p%4?r[c]:r[c-4],l[p]=p<4||c<=4?s:d[a[s>>>24]]^f[a[s>>>16&255]]^h[a[s>>>8&255]]^y[a[255&s]]}},e.prototype.encryptBlock=function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,l,p,u,a)},e.prototype.decryptBlock=function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,d,f,h,y,c),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},e.prototype._doCryptBlock=function(t,e,o,n,i,r,a,c){for(var s=t[e]^o[0],l=t[e+1]^o[1],p=t[e+2]^o[2],u=t[e+3]^o[3],d=4,f=1;f<this._nRounds;f++){var h=n[s>>>24]^i[l>>>16&255]^r[p>>>8&255]^a[255&u]^o[d++],y=n[l>>>24]^i[p>>>16&255]^r[u>>>8&255]^a[255&s]^o[d++],g=n[p>>>24]^i[u>>>16&255]^r[s>>>8&255]^a[255&l]^o[d++],_=n[u>>>24]^i[s>>>16&255]^r[l>>>8&255]^a[255&p]^o[d++];s=h,l=y,p=g,u=_}var v=(c[s>>>24]<<24|c[l>>>16&255]<<16|c[p>>>8&255]<<8|c[255&u])^o[d++],m=(c[l>>>24]<<24|c[p>>>16&255]<<16|c[u>>>8&255]<<8|c[255&s])^o[d++],b=(c[p>>>24]<<24|c[u>>>16&255]<<16|c[s>>>8&255]<<8|c[255&l])^o[d++],C=(c[u>>>24]<<24|c[s>>>16&255]<<16|c[l>>>8&255]<<8|c[255&p])^o[d++];t[e]=v,t[e+1]=m,t[e+2]=b,t[e+3]=C},e.keySize=8,e}(r.BlockCipher);o.AES=_,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],ActiveBox:[function(t,e,o){"use strict";cc._RF.push(e,"7db68c+jzVO2bWlPO6OJ3A6","ActiveBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.requireComponent,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.once=!0,e.listEvents=[],e}return i(e,t),e.prototype.start=function(){this.node.opacity=0},e.prototype.onCollisionEnter=function(t){cc.log("ActiveBox "+t.node.name),t.node===this.targetNode&&(cc.Component.EventHandler.emitEvents(this.listEvents),this.once&&(this.node.active=!1))},r([l(cc.Node)],e.prototype,"targetNode",void 0),r([l(cc.Boolean)],e.prototype,"once",void 0),r([l([cc.Component.EventHandler])],e.prototype,"listEvents",void 0),r([s,a(cc.BoxCollider)],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ActiveFun:[function(t,e,o){"use strict";cc._RF.push(e,"2ca293bvCBCyJyFHvJJqHxD","ActiveFun");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"28273v0gFZBtJL9nAz3j17h","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MathUtil"),i=function(){function t(){}return t.shuffle=function(t){var e,o,n;for(n=t.length;n;n--)e=Math.floor(Math.random()*n),o=t[n-1],t[n-1]=t[e],t[e]=o},t.maxOf=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=t[0],n=1;n<t.length;n++)e(t[n],o)&&(o=t[n]);return o},t.getShuffleArray=function(t){for(var e,o,n=t.length;0!==n;)o=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[o],t[o]=e;return t},t.removeElement=function(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)},t.removeElements=function(t,e){e.forEach(function(e){this.removeElement(t,e)}.bind(this))},t.moveElementFromTo=function(t,e,o){var n=t.length;n<2||e<0||o<0||e>n-1||o>n-1||e===o||t.splice(o,0,t.splice(e,1)[0])},t.swapElement=function(t,e,o){if(e!==o){var n=t[e];t[e]=t[o],t[o]=n}},t.swapRandomElement=function(t){var e=t.length;if(!(e<2))for(var o=0;o<e;o++){var n=void 0;do{n=Math.floor(Math.random()*e)}while(o===n);this.swapElement(t,o,n)}},t.prototype.count=function(t,e){var o=0;return t.forEach(function(t){e(t)&&o++}),o},t.prototype.sortAscending_CardUIArray=function(t){t.sort(function(t,e){return t.id-e.id})},t.prototype.sortGroup_CardUIArray=function(e){t.shuffle(e)},t.prototype.indexOfMax=function(t,e){void 0===e&&(e=function(t,e){return t>e});for(var o=0,n=1;n<t.length;n++)e(t[n],t[o])&&(o=n);return o},t.prototype.firstIndexOf=function(t,e){for(var o=0;o<t.length;o++)if(e(t[o]))return o;return-1},t.prototype.lastIndexOf=function(t,e){for(var o=t.length-1;o>=0;o--)if(e(t[o]))return o;return-1},t.sumOf=function(t){return t.reduce(function(t,e){return t+e})},t.isStringInNoUpperLowerDistinguish=function(t,e){for(var o=t.toLowerCase(),n=0;n<e.length;n++)e[n]=e[n].toLowerCase();return e.indexOf(o)>=0},t.getRandomTwoSwapIndex=function(t){var e=n.default.randomInt(t),o=n.default.randomInt(t);return e===o&&((o+=1)===t&&(o-=2),o=o>=0?o:0),{first:e,sec:o}},t.findMaxLessThan=function(t,e,o){void 0===o&&(o=1);for(var n=t.length-1;n>0;n--)if(t[n]*o<=e)return n;return-1},t.getClone2DArray=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o].slice(0));return e},t.getClone1DArray=function(t){return[].concat(t)},t.get2DArrayOf1D=function(t,e){for(var o=[],n=Math.floor(t.length/e),i=0;i<n;i++){for(var r=[],a=i*e,c=a+e,s=a;s<c;s++)r.push(t[s]);o.push(r)}return o},t.concatNoDuplicate=function(t,e){for(var o=[].concat(t),n=0;n<e.length;n++)o.indexOf(e[n])<0&&o.push(e[n]);return o},t.getValue=function(t,e,o){return""===t[e]||null===t[e]||void 0===t[e]?o:t[e]},t}();o.default=i,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"4fd31cuiKBAkI896NGa51Ca","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"RealMusicVolume",{get:function(){return t._MusicEnable?t._MusicVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RealEffectVolume",{get:function(){return t._EffectEnable?t._EffectVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicVolume",{get:function(){return t._MusicVolume},set:function(e){t._MusicVolume=e,t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectVolume",{get:function(){return t._EffectVolume},set:function(e){t._EffectVolume=e,t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EffectEnable",{get:function(){return t._EffectEnable},set:function(e){cc.log("EffectEnable: "+e),t._EffectEnable=e;var o=e?t._EffectVolume:0;t.arrAudioPlayer.forEach(function(t){t.setEffectVolume(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MusicEnable",{get:function(){return t._MusicEnable},set:function(e){cc.log("MusicEnable: "+e),t._MusicEnable=e;var o=e?t._MusicVolume:0;t.arrAudioPlayer.forEach(function(t){t.setMusicVolume(o)})},enumerable:!1,configurable:!0}),t.add=function(e){t.arrAudioPlayer.push(e)},t.remove=function(e){var o=t.arrAudioPlayer.indexOf(e);-1!==o&&t.arrAudioPlayer.splice(o,1)},t._MusicVolume=1,t._EffectVolume=1,t._MusicEnable=!0,t._EffectEnable=!0,t.arrAudioPlayer=[],t}();o.default=n,cc._RF.pop()},{}],AudioPlayId:[function(t,e,o){"use strict";cc._RF.push(e,"64605gIrJdCDoFRiN/cHV+6","AudioPlayId"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlayId=void 0,function(t){t[t.none=0]="none",t[t.home_music=1]="home_music",t[t.game_play_music=2]="game_play_music",t[t.button_click=20]="button_click",t[t.button_open=21]="button_open",t[t.game_lose=22]="game_lose",t[t.game_win=23]="game_win",t[t.boss_crying=50]="boss_crying",t[t.boss_die=51]="boss_die",t[t.boss_take_stick=52]="boss_take_stick",t[t.boss_die_fire=53]="boss_die_fire",t[t.boss_jump_win=54]="boss_jump_win",t[t.stealer_attack=60]="stealer_attack",t[t.stealer_die=61]="stealer_die",t[t.demon_punch=62]="demon_punch",t[t.dog_bite=70]="dog_bite",t[t.dog_die=71]="dog_die",t[t.dragon_die=80]="dragon_die",t[t.dragon_fire=81]="dragon_fire",t[t.dragon_fire_ball=82]="dragon_fire_ball",t[t.girl_die=90]="girl_die",t[t.girl_help=91]="girl_help",t[t.effect_lava_appear=100]="effect_lava_appear",t[t.effect_lava_x_water=101]="effect_lava_x_water",t[t.effect_rock1=102]="effect_rock1",t[t.effect_gems=103]="effect_gems",t[t.stick_block=150]="stick_block",t[t.stick_move=151]="stick_move",t[t.rope_cut=152]="rope_cut",t[t.shoot=153]="shoot",t[t.chest_open=154]="chest_open"}(o.AudioPlayId||(o.AudioPlayId={})),cc._RF.pop()},{}],AudioPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"9bfc9UVsnVBHbXGh3Z4oKcE","AudioPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlay=o.AudioObject=void 0;var a=t("./AudioManager"),c=t("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(){function t(){this.name=c.AudioPlayId.none,this.audioClip=null,this.isMusic=!1}return r([p({type:cc.Enum(c.AudioPlayId)})],t.prototype,"name",void 0),r([p({type:cc.AudioClip})],t.prototype,"audioClip",void 0),r([p(cc.Boolean)],t.prototype,"isMusic",void 0),r([l("AudioObject")],t)}();o.AudioObject=u;var d=function(t,e,o){this.audioId=t,this.volume=e,this.isMusic=o};o.AudioPlay=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayAudioObj=[],e.maps=null,e.arrayMusic=[],e.arrayEffect=[],e}return i(e,t),e.prototype.playAudio=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=1);var n,i=this.getAudioObject(t);if(!i)return cc.error("playAudio: "+t),null;if(i.isMusic){var r=cc.audioEngine.play(i.audioClip,e,o*a.default.RealMusicVolume);n=new d(r,o,!0),this.arrayMusic.push(n)}else r=cc.audioEngine.play(i.audioClip,e,o*a.default.RealEffectVolume),n=new d(r,o,!1),this.arrayEffect.push(n);return n},e.prototype.stopAudioPlay=function(t){var e;t.isMusic?-1!==(e=this.arrayMusic.indexOf(t))&&(cc.audioEngine.stop(t.audioId),this.arrayMusic.splice(e,1)):-1!==(e=this.arrayEffect.indexOf(t))&&(cc.audioEngine.stop(t.audioId),this.arrayEffect.splice(e,1))},e.prototype.setAudioPlayVolume=function(t,e){t.volume=e,t.isMusic?cc.audioEngine.setVolume(t.audioId,e*a.default.RealMusicVolume):cc.audioEngine.setVolume(t.audioId,e*a.default.RealEffectVolume)},e.prototype.setVolume=function(t){this.setMusicVolume(t),this.setEffectVolume(t)},e.prototype.setMusicVolume=function(t){this.arrayMusic.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.setEffectVolume=function(t){this.arrayEffect.forEach(function(e){cc.audioEngine.setVolume(e.audioId,e.volume*t)})},e.prototype.stopAllAudio=function(){this.stopAllEffect(),this.stopAllMusic()},e.prototype.stopAllMusic=function(){this.arrayMusic.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayMusic=[]},e.prototype.stopAllEffect=function(){this.arrayEffect.forEach(function(t){cc.audioEngine.stop(t.audioId)}),this.arrayEffect=[]},e.prototype.getAudioObject=function(t){return cc.log("getAudioObject: "+t),this.maps||this.initMaps(),this.maps.get(t)},e.prototype.initMaps=function(){var t=this;this.maps=new Map,this.arrayAudioObj.forEach(function(e){t.maps.set(e.name,e)})},e.prototype.onLoad=function(){a.default.add(this)},e.prototype.onDestroy=function(){a.default.remove(this),this.stopAllAudio()},r([p([u])],e.prototype,"arrayAudioObj",void 0),r([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioManager":"AudioManager"}],BackgroundLoader:[function(t,e,o){"use strict";cc._RF.push(e,"0ca53y9yWNEqKSKCjv53pUd","BackgroundLoader"),Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundLoader=void 0;var n=function(){function t(){}return t.removeTask=function(t){var e=this.tasks.indexOf(t);-1!=e&&this.tasks.splice(e,1),cc.log("completed. Remain: "+this.tasks.length)},t.addTask=function(t){var e=this;if(this.tasks.length>0){var o=this.tasks[this.tasks.length-1];o._completeCallback=function(){e.removeTask(o),t._callback()}}else t._callback();t._completeCallback=function(){e.removeTask(t)},this.tasks.push(t)},t.tasks=[],t}();o.BackgroundLoader=n,cc._RF.pop()},{}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"fe7d21qbyVDDayHyj4vq4II","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){t.clamp();for(var e=[],o=0;o<t.sigBytes;o+=3)for(var n=(t.words[o>>>2]>>>24-o%4*8&255)<<16|(t.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t.words[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;i<4&&o+.75*i<t.sigBytes;i++)e.push(this._map.charAt(n>>>6*(3-i)&63));var r=this._map.charAt(64);if(r)for(;e.length%4;)e.push(r);return e.join("")},t.parse=function(t){var e=t.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var n=this._map.charAt(64);if(n){var i=t.indexOf(n);-1!==i&&(e=i)}return this.parseLoop(t,e,this._reverseMap)},t.parseLoop=function(t,e,o){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var c=o[t.charCodeAt(a-1)]<<a%4*2,s=o[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=(c|s)<<24-r%4*8,r++}return new n.WordArray(i,r)},t._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._reverseMap=void 0,t}();o.Base64=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Base:[function(t,e,o){"use strict";cc._RF.push(e,"6e617383w5PTrGEqN772dO6","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BgCustom:[function(t,e,o){"use strict";cc._RF.push(e,"ef321x83CVHx4biknCbwagX","BgCustom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/MathUtil"),c=t("../config/GlobalSignals"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listBgCustom=[],e.sp=null,e}return i(e,t),e.prototype.onLoad=function(){this.sp=this.node.getComponent(cc.Sprite)},e.prototype.onEnable=function(){this._onNextLevel=this.onNextLevel.bind(this),this.onNextLevel(),c.GlobalSignals.nextLevelSignal.add(this._onNextLevel)},e.prototype.onDisable=function(){c.GlobalSignals.nextLevelSignal.remove(this._onNextLevel)},e.prototype.onNextLevel=function(){console.log("time");var t=a.default.randomInt(this.listBgCustom.length);this.sp.spriteFrame=this.listBgCustom[t]},r([p([cc.SpriteFrame])],e.prototype,"listBgCustom",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../base/utils/MathUtil":"MathUtil","../config/GlobalSignals":"GlobalSignals"}],BigBang:[function(t,e,o){"use strict";cc._RF.push(e,"4b544/S0+VBi7Mf5oLI8B72","BigBang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../MainScene"),c=t("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeAttack=.5,e.hitAttack=null,e.bumPrefab=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.hitAttack.removeComponent(cc.CircleCollider),t.node.removeFromParent()},this.timeAttack),this.showBumEffect()},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=.66,this.node.getParent().addChild(t),a.default.instance.audioPlayer.playAudio(c.AudioPlayId.dragon_fire_ball),cc.tween(t).delay(2).call(function(){t.removeFromParent()}).start()},r([p(cc.Float)],e.prototype,"timeAttack",void 0),r([p(cc.Node)],e.prototype,"hitAttack",void 0),r([p(cc.Prefab)],e.prototype,"bumPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],BigFoot:[function(t,e,o){"use strict";cc._RF.push(e,"864ccLfh25I9J9aT7cExWE3","BigFoot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../config/AudioPlayId"),s=t("../../../MainScene"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_attack)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([p],e)}(a.default));o.default=u,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","./Enemies":"Enemies"}],BigStone:[function(t,e,o){"use strict";cc._RF.push(e,"ae47diI/DNKZ6oYDkVlYShG","BigStone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../MainScene"),s=t("../../config/AudioPlayId"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"big_stone")},e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.BERRIE&&t.node.group!==a.GroupConfig.ROCK||c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_rock1)},r([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],BlockCipherModeAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"215dcJ9eM1NZ5FV34H+5WBP","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var n=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this._cipher=t,this._iv=e},t}();o.BlockCipherModeAlgorithm=n,cc._RF.pop()},{}],BlockCipherMode:[function(t,e,o){"use strict";cc._RF.push(e,"2ccb35VwFBIlZEfT5t0TZkz","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var n=t("./BlockCipherModeAlgorithm"),i=function(){function t(){}return t.createEncryptor=function(t,e){return new(0,this.Encryptor)(t,e)},t.createDecryptor=function(t,e){return new(0,this.Decryptor)(t,e)},t.Encryptor=n.BlockCipherModeAlgorithm,t.Decryptor=n.BlockCipherModeAlgorithm,t}();o.BlockCipherMode=i,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(t,e,o){"use strict";cc._RF.push(e,"5c4e1pBgXZCvKCvVYX8KbUO","BlockCipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var r=t("./Cipher"),a=t("../mode/CBC"),c=t("../pad/PKCS7"),s=function(t){function e(e,o,n){return t.call(this,e,o,Object.assign({blockSize:4,mode:a.CBC,padding:c.PKCS7},n))||this}return i(e,t),e.prototype.reset=function(){if(t.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var e;this._xformMode===this.constructor._ENC_XFORM_MODE?e=this.cfg.mode.createEncryptor:(e=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===e?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=e.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=e)},e.prototype._doProcessBlock=function(t,e){this._mode.processBlock(t,e)},e.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var t;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),t=this._process(!0)}else t=this._process(!0),this.cfg.padding.unpad(t);return t},e}(r.Cipher);o.BlockCipher=s,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],Bomb:[function(t,e,o){"use strict";cc._RF.push(e,"27a9fLgW7hIIrOK0rr5oTkV","Bomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigBangPrefab=null,e}return i(e,t),e.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"bomb")},e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.CHARACTER&&t.node.group!==a.GroupConfig.BERRIE&&t.node.group!==a.GroupConfig.ROCK||this.attack()},e.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var t=cc.instantiate(this.bigBangPrefab),e=this.node.getParent().getParent();t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.addChild(t),this.node.removeFromParent()},r([p(cc.Prefab)],e.prototype,"bigBangPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],Boss:[function(t,e,o){"use strict";cc._RF.push(e,"ce935JmeGhBwKF+5C9yvUHZ","Boss");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../config/GlobalSignals"),c=t("../../../config/GroupConfig"),s=t("../Character"),l=t("../../../base/ColliderCallback"),p=t("../../../config/TagObject"),u=t("../hostage/Girl"),d=t("../../../level/MapLevel"),f=t("../../../config/GameState"),h=t("../../more/ItemLoot"),y=t("../../../config/AudioPlayId"),g=t("../../../MainScene"),_=t("../../more/ItemChest"),v=t("../../../config/SkinConfig"),m=t("../../../GameData"),b=t("../../../base/utils/GUIUtil"),C=t("../../../pets/PetDataManager"),P=cc._decorator,S=P.ccclass,k=P.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sitAnim="open ( k kiem)",e.winAnim="win",e.failAnim="die2",e.failAnim1="die3",e.openLockAnim="open ( k kiem)",e.rewardAnim="Lixi",e.flowerAnim="Flower",e.flowerAnim2="quy goi",e.stickSkin="Base/kiem",e.idleStickAnim="idle",e.superSkin="Songoku",e.superAppearAnim="SuperAppear",e.superAttackAnim="SuperAttack",e.superIdleAnim="SuperIdle",e.superWinAnim="SuperWin",e.superOpenLockAnim="SuperChest",e.superFlowerAnim="SuperFlower",e.superFlowerAnim2="SuperFlower2",e.attackAnim="attack (kiem)",e.jumpCollider=null,e.isAutoMove=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,t.prototype.onLoad.call(this),this.initBossSkin(),this.initPetSkin()},e.prototype.initBossSkin=function(){var t=v.SkinConfig.getSkinNameById(m.GameData.currentSkinBoss),e=t.split("/")[0];this.stickSkin=e+"/kiem",this.changeSkin(t);var o=v.SkinConfig.getSkinConfigById(m.GameData.currentSkinBoss);b.default.ativeSkinFeatureIfHave(o,this.node)},e.prototype.initPetSkin=function(){m.GameData.CurrentPet&&b.default.addPetForCharacter(this.node,cc.v3(-39,0,0))},e.prototype.start=function(){this.hit.active=!1,this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this))},e.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),a.GlobalSignals.questPassSignal.add(this._onQuestPass),a.GlobalSignals.questFailSignal.add(this._onQuestFail),a.GlobalSignals.collectGemsSignal.add(this._onCollectGems),a.GlobalSignals.autoMoveSignal.add(this._onAutoMove)},e.prototype.onDisable=function(){a.GlobalSignals.questPassSignal.remove(this._onQuestPass),a.GlobalSignals.questFailSignal.remove(this._onQuestFail),a.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),a.GlobalSignals.autoMoveSignal.remove(this._onAutoMove)},e.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},e.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var t=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){d.default.instance.gameState!=f.GameState.LOSE&&a.GlobalSignals.questPassSignal.dispatch()},t)},e.prototype.onQuestPass=function(){this.isAlive&&(d.default.instance.isQuestSaveHostage||(this.playAnimation(this.winAnim,!0),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_jump_win)))},e.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.playAnimation(this.failAnim).addAnimation(this.failAnim1,!0),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_crying))},e.prototype.onAutoMove=function(){var t=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&d.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){t.jumpCollider.node.active=!0},.2))},e.prototype.onGroundCollisionEnter=function(e){t.prototype.onGroundCollisionEnter.call(this,e),this.isAutoMove&&this.isAlive&&this.isGround&&d.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},e.prototype.onHeadCollider=function(t){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return t.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},e.prototype.onBodyCollider=function(t){if(this.isAlive&&d.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(t.node.group!==c.GroupConfig.GEMS)if(t.node.group!==c.GroupConfig.LAVA)if(t.node.group!==c.GroupConfig.SNOW){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==p.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(t.node.name==p.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(t.node.name==p.TagConfig.REDIRECT_STOP)return void this.stopMove();if(t.node.name==p.TagConfig.BOMB)return void this.onDieNormal();(t.node.name==p.TagConfig.GAS||t.node.name==p.TagConfig.BOMB||t.node.name==p.TagConfig.HIT&&t.node!=this.hit)&&this.onDieNormal()}}else this.onDieIce();else this.onDieFire();else d.default.instance.countGemsCollected++},e.prototype.onAttackCollider=function(t){var e=this;if(cc.log("onAttackCollider: group: "+t.node.group+", name: "+t.node.name+", "+(new Date).getTime()),this.isAlive&&d.default.instance.isPlaying){if(t.node.group===c.GroupConfig.ITEM){if(t.node.name==p.TagConfig.STICK){cc.log("Boss onAttackCollider: STICK = "+t.node.name),a.GlobalSignals.bossAttackSignal.dispatch();try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeFromParent()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(t.node.name==p.TagConfig.HOLY_WATER){try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeFromParent()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToSuperman()}if(t.node.name==p.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+t.node.name),a.GlobalSignals.bossAttackSignal.dispatch(),!(n=t.node.getComponent(h.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.chest_open);var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){d.default.instance.isPlaying&&d.default.instance.isQuestCollectItem&&a.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(t.node.name==p.TagConfig.CHEST)return a.GlobalSignals.bossAttackSignal.dispatch(),cc.log("Boss onAttackCollider: ITEM = "+t.node.name),(n=t.node.getComponent(_.default))?(this.stopMove(),this.rotateFaceToTarget(t.node),this.playAnimation(this.openLockAnim),n.openItem(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.chest_open),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){e.isAlive&&d.default.instance.isPlaying&&(d.default.instance.isCollectGems=!0,a.GlobalSignals.collectGemsSignal.dispatch(),e.scheduleOnce(function(){e.isAlive&&d.default.instance.isPlaying&&(d.default.instance.gameState=f.GameState.WIN,d.default.instance.isPlaying&&d.default.instance.isQuestOpenChest&&a.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return t.node.group===c.GroupConfig.CHARACTER?t.node.name==p.TagConfig.GIRL||t.node.name==p.TagConfig.GIRL_WONDER?(a.GlobalSignals.bossAttackSignal.dispatch(),void this.rescueTheGirl(t.node)):this.getCurrentSkin()===this.stickSkin&&(a.GlobalSignals.bossAttackSignal.dispatch(),t.node.name==p.TagConfig.STEALER)?void this.playAttack(t.node):void 0:void 0}},e.prototype.onJumpCollider=function(t){this.isAlive&&this.isGround&&t.node.group===c.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},e.prototype.onSearchCollider=function(t){if(this.isAlive&&d.default.instance.isPlaying)return cc.log("other.node.name: "+t.node.name),t.node.group===c.GroupConfig.CHARACTER&&t.node!=this.node&&this.getCurrentSkin()===this.stickSkin&&t.node.name==p.TagConfig.STEALER?(a.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(t.node)):void 0},e.prototype.playAttack=function(t){var e=this;this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){d.default.instance.isPlaying&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleStickAnim,!0),e.hit.active=!1,e.stopMove())})},e.prototype.changeSkinToStickBoss=function(){var t=this;this.changeSkin(this.stickSkin),this.playAnimation(this.idleStickAnim,!0),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_take_stick);var e=this.groundCollider.node.getComponent(p.default);e&&(e.setTag(p.TagConfig.BOSS_STICK),cc.log("changeSkinToStickBoss")),this.scheduleOnce(function(){t.searchCollider.refreshPingToTarget()},.1)},e.prototype.changeSkinToSuperman=function(){this.changeSkin(this.superSkin),this.playAnimation(this.superAppearAnim).addAnimation(this.superIdleAnim,!0);var t=this.skeleton.findAnimation(this.superAppearAnim).duration;cc.tween(this.skeleton.node).by(t,{position:new cc.Vec3(0,20,0)}).start(),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_take_stick);var e=this.groundCollider.node.getComponent(p.default);e&&(e.setTag(p.TagConfig.BOSS_SUPER),cc.log("changeSkinToSuperman"))},e.prototype.rescueTheGirl=function(t){var e=this,o=t.getParent().getParent().getComponent(u.default);if(o){this.stopMove(),cc.log("Boss: rotateFaceToTarget"),this.rotateFaceToTarget(t);var n=C.PetDataManager.pickRandomAEgg();this.getCurrentSkin()===this.superSkin?this.playAnimation(this.superOpenLockAnim).addAnimation(this.superWinAnim,!0):n?this.playAnimation(this.openLockAnim):this.playAnimation(this.openLockAnim).addAnimation(this.flowerAnim2,!0),this.scheduleOnce(function(){d.default.instance.isPlaying&&a.GlobalSignals.questPassSignal.dispatch()},3);var i=this.skeleton.findAnimation(this.openLockAnim).duration;this.scheduleOnce(function(){o.isAlive&&(n?o.playAnimationGiveEgg(e.node,n,function(){e.isAlive&&e.playAnimation(e.rewardAnim,!0)}):o.playOutAnimation(e.node))},i)}else cc.error("girl is null")},e.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die)},e.prototype.onDieFire=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die_fire)},e.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die)},e.prototype.stopMove=function(){t.prototype.stopMove.call(this),this.isAutoMove=!1},e._instance=null,r([k(cc.String)],e.prototype,"attackAnim",void 0),r([k(l.default)],e.prototype,"jumpCollider",void 0),o=r([S],e)}(s.default);o.default=O,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../base/ColliderCallback":"ColliderCallback","../../../base/utils/GUIUtil":"GUIUtil","../../../config/AudioPlayId":"AudioPlayId","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../../pets/PetDataManager":"PetDataManager","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character","../hostage/Girl":"Girl"}],BufferedBlockAlgorithmConfig:[function(t,e,o){"use strict";cc._RF.push(e,"bcd7aXTUztHaIlBMuneitvv","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(t,e,o){"use strict";cc._RF.push(e,"4389exlQERFmIkVyMSSB/Ub","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var n=t("../lib/WordArray"),i=t("../enc/Utf8"),r=function(){function t(t){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},t),this._data=new n.WordArray,this._nDataBytes=0}return t.prototype.reset=function(){this._data=new n.WordArray,this._nDataBytes=0},t.prototype._append=function(t){"string"==typeof t&&(t=i.Utf8.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var e,o=4*this.cfg.blockSize,i=this._data.sigBytes/o,r=(i=t?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0))*this.cfg.blockSize,a=Math.min(4*r,this._data.sigBytes);if(r){for(var c=0;c<r;c+=this.cfg.blockSize)this._doProcessBlock(this._data.words,c);e=this._data.words.splice(0,r),this._data.sigBytes-=a}return new n.WordArray(e,a)},t.prototype.clone=function(){var t=this.constructor();for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t._data=this._data.clone(),t},t}();o.BufferedBlockAlgorithm=r,cc._RF.pop()},{"../enc/Utf8":"Utf8","../lib/WordArray":"WordArray"}],BuildHousePopup:[function(t,e,o){"use strict";cc._RF.push(e,"7e7e3zz44BHvoOZ5MjnesS3","BuildHousePopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HouseItem"),c=t("../GameData"),s=t("./KingdomBuilder"),l=t("../ResUtil"),p=t("../CastleScreen"),u=cc._decorator,d=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.itemPrefab=null,e.arrayItem=[],e.currentKingdom="",e}return i(e,t),e.prototype.onEnable=function(){this.loadKingdomBuilder(p.default.instance.visibleKingdom)},e.prototype.loadKingdomBuilder=function(t){var e=this;cc.log("setCurrentKingdom: "+t),this.currentKingdom!==t?(this.currentKingdom=t,l.ResUtil.loadKingdomBuilderByName(t,function(t){var o=cc.instantiate(t).getComponent(s.default);o&&(e.initKingdomBuilder(o),e.reloadData())})):this.reloadData()},e.prototype.initKingdomBuilder=function(t){var e=t.arrayConfig;cc.log("initKingdomBuilder: "+e.length);for(var o=0;o<e.length;o++)e[o].kingdomName=t.kingdomName,this.createItem(e[o])},e.prototype.createItem=function(t){cc.log("createItem: "+t.houseName);var e=cc.instantiate(this.itemPrefab);this.container.addChild(e);var o=e.getComponent(a.default);this.arrayItem.push(o),o.initHouseItem(t,this.node)},e.prototype.reloadData=function(){var t=c.GameData.kingdoms[this.currentKingdom];t||(console.warn("Kingdom name = "+this.currentKingdom+" is undefined"),t={}),cc.log("reloadData: "+JSON.stringify(t)),this.arrayItem.forEach(function(e){var o=e.config.houseName,n=t[o];null!=n?e.updateBuild(n):e.updateBuild(0)})},r([f(cc.Node)],e.prototype,"container",void 0),r([f(cc.Prefab)],e.prototype,"itemPrefab",void 0),r([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../CastleScreen":"CastleScreen","../GameData":"GameData","../ResUtil":"ResUtil","./HouseItem":"HouseItem","./KingdomBuilder":"KingdomBuilder"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"ce76b+UskFF5pu2I3GghrjS","Bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;t.node.group===a.GroupConfig.CHARACTER&&(this.scheduleOnce(function(){e.node.opacity=0,cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.removeFromParent()},.2))},e.velocityHit=500,r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],ButtonRewardVideo:[function(t,e,o){"use strict";cc._RF.push(e,"c48cat8LANAC6ORdR0rjt3c","ButtonRewardVideo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../plugins/fb/FBInstantAds"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e.btn=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn=this.getComponent(cc.Button),this.loading.active=!1},e.prototype.onEnable=function(){this.onLoadingRewardVideo(!a.FBInstantAds.isRewardedVideoReady),this._onLoadingRewardVideo=this.onLoadingRewardVideo.bind(this),a.FBInstantAds.LoadingRewardedVideoSignal.add(this._onLoadingRewardVideo)},e.prototype.onDisable=function(){this._onLoadingRewardVideo&&a.FBInstantAds.LoadingRewardedVideoSignal.remove(this._onLoadingRewardVideo)},e.prototype.onLoadingRewardVideo=function(t){this.btn.interactable=!t,this.btn.node.opacity=t?0:255},r([l(cc.Node)],e.prototype,"loading",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../plugins/fb/FBInstantAds":"FBInstantAds"}],CBCDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"f9d4fl6l0ZOfKWQbNvYaQ8m","CBCDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=t.slice(e,e+this._cipher.cfg.blockSize);this._cipher.decryptBlock(t,e),this.xorBlock(t,e,this._cipher.cfg.blockSize),this._prevBlock=o},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"3156akD5EtMw61Y5xYGHwVX","CBCEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(t,e,this._cipher.cfg.blockSize),this._cipher.encryptBlock(t,e),this._prevBlock=t.slice(e,e+this._cipher.cfg.blockSize)},e.prototype.xorBlock=function(t,e,o){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var i=0;i<o;i++)t[e+i]^=n[i]},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(t,e,o){"use strict";cc._RF.push(e,"397bcXouhFJRIwYe7GnQ3+D","CBC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var r=t("./BlockCipherMode"),a=t("./CBCEncryptor"),c=t("./CBCDecryptor"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=a.CBCEncryptor,e.Decryptor=c.CBCDecryptor,e}(r.BlockCipherMode);o.CBC=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CaptureTexture:[function(t,e,o){"use strict";cc._RF.push(e,"dc9488+uhhO8Y82xoRnlwML","CaptureTexture");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e}return i(e,t),e.prototype.getImgBase64=function(){var t=cc.view.getVisibleSize(),e=t.width,o=t.height,n=new cc.RenderTexture,i=cc.game._renderContext;n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,i.STENCIL_INDEX8),this.camera.targetTexture=n;var r=document.createElement("canvas"),a=r.getContext("2d");r.width=e,r.height=o,this.camera.render();var c=new Uint8Array(e*o*4);n.readPixels(c);for(var s=4*e,l=0;l<o;l++){var p=o-1-l,u=new Uint8ClampedArray(c.buffer,p*e*4,s),d=new ImageData(u,e,1);a.putImageData(d,0,l)}return r.toDataURL("image/png")},r([s(cc.Camera)],e.prototype,"camera",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],CastleScreen:[function(t,e,o){"use strict";cc._RF.push(e,"5371cdaBe5Ff5P2DaYrD8SO","CastleScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ResUtil"),c=t("./MainScene"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibleKingdom="",e.buildPopupPrefab=null,e.kingdomNode=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onEnable=function(){this.showCastleByName(o.KingdomDefault)},e.prototype.onClickBack=function(){c.default.instance.showHomeScreen()},e.prototype.onClickBuild=function(){c.default.instance.showBuildKingdomPopup()},e.prototype.onClickMap=function(){c.default.instance.showSelectKingdomPopup()},e.prototype.showCastleByName=function(t,e){void 0===e&&(e=null),this.visibleKingdom===t?e&&e():this.loadCastleByName(t,e)},e.prototype.loadCastleByName=function(t,e){var o=this;void 0===e&&(e=null),c.default.instance.showLoading(),a.ResUtil.loadKingdomByName(t,function(n){c.default.instance.hideLoading(),o.kingdomNode&&(o.kingdomNode.removeFromParent(),o.kingdomNode=null),o.visibleKingdom=t,o.kingdomNode=cc.instantiate(n),o.node.addChild(o.kingdomNode,-1),a.ResUtil.loadKingdomBuilderByName(t),e&&e()},function(){})},e.KingdomDefault="spring",e._instance=null,r([p(cc.Prefab)],e.prototype,"buildPopupPrefab",void 0),o=r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./MainScene":"MainScene","./ResUtil":"ResUtil"}],Character:[function(t,e,o){"use strict";cc._RF.push(e,"028fayw1+FMb5Lyi+B6DgJG","Character");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("./MoveCtrl"),s=t("./ColliderSearch"),l=t("./ColliderGround"),p=t("../../config/TagObject"),u=t("../../config/GroupConfig"),d=t("../../config/PhysicsConfig"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.stun=null,e.hit=null,e.idleAnim="idle",e.runAnim="run",e.walkAnim="Walk",e.attackAnim="Attack",e.dieAnim="Die",e.dieFireAnim="DieFire",e.dieIceAnim="Ice",e.rootCollider=null,e.groundCollider=null,e.headCollider=null,e.bodyCollider=null,e.attackCollider=null,e.searchCollider=null,e.ignoreFluids=[],e.attackDistance=0,e.currentSkin="",e.deadCallback=null,e.isGround=!0,e._isAlive=!0,e.isRunning=!1,e.moveCtrl=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"isAlive",{get:function(){return this._isAlive},set:function(t){var e=this;this._isAlive=t,this._isAlive||(cc.log(this.node.name+" isAlive = false"),this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{e.rootCollider.active=!1}catch(t){cc.warn(t)}},.2))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.searchCollider&&(this.searchCollider.node.active=!0,this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this))),this.hit){var t=this.hit.getComponent(p.default);t&&(this.tagHit=t.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.moveCtrl=this.getComponent(c.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,this.playAnimation(this.idleAnim,!0),this.stun.node.active=!1,d.PhysicsConfig.initPhysicConfig(this.node,"character")},e.prototype.setDeadCallback=function(t){this.deadCallback=t},e.prototype.checkIgnoreFluid=function(t){return-1!=this.ignoreFluids.indexOf(t)},e.prototype.addToIgnoreSearchCollier=function(t){this.searchCollider&&this.searchCollider.addToIgnore(t)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.changeSkin=function(t){this.currentSkin=t,this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose()},e.prototype.getCurrentSkin=function(){return this.currentSkin},e.prototype.runToTarget=function(t){this.moveToTarget(t,this.runAnim)},e.prototype.walkToTarget=function(t){this.moveToTarget(t,this.walkAnim)},e.prototype.moveToTarget=function(t,e){var n=!0;if(t){var i=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),r=t.getComponent(cc.BoxCollider),a=r?r.offset.x+r.size.width/2:0;if(Math.abs(this.node.position.x-i.x)<this.attackDistance+a)return;n=this.node.position.x<i.x}else n=this.node.scaleX===o.SCALE_RIGHT;n?this.moveRight(e):this.moveLeft(e)},e.prototype.rotateFaceToTarget=function(t){var e=this.node.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position));this.node.position.x<e.x?this.node.scaleX=o.SCALE_RIGHT:this.node.scaleX=o.SCALE_LEFT},e.prototype.moveLeft=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveRight=function(t){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=t&&this.playAnimation(t,!0))},e.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},e.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},e.prototype.onAttackCollider=function(){},e.prototype.onBodyCollider=function(){},e.prototype.onHeadCollider=function(){},e.prototype.onSearchCollider=function(){},e.prototype.onGroundCollisionEnter=function(t){cc.log("onGroundCollisionEnter: "+t),this.isGround=t,this.attackCollider.node.active=t,this.searchCollider&&(this.searchCollider.node.active=t)},e.prototype.disablePhysicsBody=function(){var t=this.node.getComponent(cc.PhysicsCollider);t&&(t.enabled=!1,t.node.group=u.GroupConfig.DEAD,t.enabled=!0)},e.SCALE_RIGHT=1,e.SCALE_LEFT=-1,r([y(sp.Skeleton)],e.prototype,"skeleton",void 0),r([y(sp.Skeleton)],e.prototype,"stun",void 0),r([y(cc.Node)],e.prototype,"hit",void 0),r([y(cc.String)],e.prototype,"idleAnim",void 0),r([y(cc.String)],e.prototype,"runAnim",void 0),r([y(cc.String)],e.prototype,"walkAnim",void 0),r([y(cc.String)],e.prototype,"attackAnim",void 0),r([y(cc.String)],e.prototype,"dieAnim",void 0),r([y(cc.String)],e.prototype,"dieFireAnim",void 0),r([y(cc.String)],e.prototype,"dieIceAnim",void 0),r([y(cc.Node)],e.prototype,"rootCollider",void 0),r([y(l.default)],e.prototype,"groundCollider",void 0),r([y(a.default)],e.prototype,"headCollider",void 0),r([y(a.default)],e.prototype,"bodyCollider",void 0),r([y(a.default)],e.prototype,"attackCollider",void 0),r([y(s.default)],e.prototype,"searchCollider",void 0),r([y([cc.String])],e.prototype,"ignoreFluids",void 0),o=r([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],ChooseCountryPopup:[function(t,e,o){"use strict";cc._RF.push(e,"96b46e07CpEdqhRzqgThTd9","ChooseCountryPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/CountryConfig"),c=t("../GameData"),s=t("../MainScene"),l=t("../ResUtil"),p=t("../UserPlayFab"),u=t("./ItemChooseCountry"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbNameCountry=null,e.iconCountry=null,e.nodeChooseCountry=null,e.itemChooseCountry=null,e.scrollView=null,e._countryCode="",e._itemPrevious=null,e._itemCurrent=null,e}return i(e,t),e.prototype.onEnable=function(){try{this.lbName.string=FBInstant.player.getName()}catch(t){}},e.prototype.onDisable=function(){},e.prototype.start=function(){this.InitListCountry()},e.prototype.Show=function(t){this._cfg=t,this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1},e.prototype.onClickOk=function(){var t=this;if(""!=this.lbName.string){var e=this.lbName.string+"_"+this._countryCode;p.default.UpdateDisPlayName(e,function(o,n){n||(t.node.active=!1,p.default.UserCountryCode=t._countryCode,p.default.DisplayName=e,p.default.setLeaderborad(c.GameData.currentLevelId,p.StatisticNameConfig.BEST_LEVEL,function(){s.default.instance.showRankPopup(t._cfg)}),p.default.setLeaderborad(c.GameData.currentLevelId,p.StatisticNameConfig.BEST_LEVEL+"_"+t._countryCode,function(){p.default.UpdateUserCountryCode(t._countryCode)}))})}},e.prototype.InitListCountry=function(){var t=this,e=a.countryCodes,o="vi_VN";try{FBInstant&&(o=FBInstant.getLocale())}catch(c){}for(var n=function(n){var r=e[n],c=a.countryName[n],s=i.scrollView.content.children[n];s||(s=cc.instantiate(i.itemChooseCountry),i.scrollView.content.addChild(s));var l=s.getComponent(u.default);o.includes(r)&&i.UpdateInfo(c,r),l.InitInfor(c,r,function(){t._itemPrevious=t._itemCurrent,t._itemPrevious&&t._itemPrevious.deActiveIconCheck(),t._itemCurrent=l,t._itemCurrent.activeIconCheck(),t.UpdateInfo(c,r)})},i=this,r=0;r<e.length;r++)n(r)},e.prototype.onClickChooseCountry=function(){this.nodeChooseCountry.active=!0},e.prototype.onClickSelectCountry=function(){this.nodeChooseCountry.active=!1},e.prototype.UpdateInfo=function(t,e){var o=this;this._countryCode=e,this.lbNameCountry.string=t,l.ResUtil.getIconCountry(e,function(t,e){t||(o.iconCountry.spriteFrame=e)})},e.prototype.onClickClose=function(){this.node.active=!1},r([h(cc.EditBox)],e.prototype,"lbName",void 0),r([h(cc.Label)],e.prototype,"lbNameCountry",void 0),r([h(cc.Sprite)],e.prototype,"iconCountry",void 0),r([h(cc.Node)],e.prototype,"nodeChooseCountry",void 0),r([h(cc.Node)],e.prototype,"itemChooseCountry",void 0),r([h(cc.ScrollView)],e.prototype,"scrollView",void 0),r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../ResUtil":"ResUtil","../UserPlayFab":"UserPlayFab","../config/CountryConfig":"CountryConfig","./ItemChooseCountry":"ItemChooseCountry"}],CipherParamsInterface:[function(t,e,o){"use strict";cc._RF.push(e,"c75daeSX3JNJ6BVRuAL5QQB","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(t,e,o){"use strict";cc._RF.push(e,"04f98j4UgVD3rdnqkB3IuGk","CipherParams");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var r=function(t){function e(e){var o=t.call(this)||this;return o.ciphertext=e.ciphertext,o.key=e.key,o.iv=e.iv,o.salt=e.salt,o.algorithm=e.algorithm,o.mode=e.mode,o.padding=e.padding,o.blockSize=e.blockSize,o.formatter=e.formatter,o}return i(e,t),e.prototype.extend=function(t){return void 0!==t.ciphertext&&(this.ciphertext=t.ciphertext),void 0!==t.key&&(this.key=t.key),void 0!==t.iv&&(this.iv=t.iv),void 0!==t.salt&&(this.salt=t.salt),void 0!==t.algorithm&&(this.algorithm=t.algorithm),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.padding&&(this.padding=t.padding),void 0!==t.blockSize&&(this.blockSize=t.blockSize),void 0!==t.formatter&&(this.formatter=t.formatter),this},e.prototype.toString=function(t){if(t)return t.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},e}(t("../lib/Base").Base);o.CipherParams=r,cc._RF.pop()},{"../lib/Base":"Base"}],Cipher:[function(t,e,o){"use strict";cc._RF.push(e,"0822aDCGLVF/oR5hzoNBCgx","Cipher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var r=t("./BufferedBlockAlgorithm"),a=t("./SerializableCipher"),c=t("./PasswordBasedCipher"),s=function(t){function e(e,o,n){var i=t.call(this,Object.assign({blockSize:1},n))||this;return i._xformMode=e,i._key=o,i.reset(),i}return i(e,t),e.createEncryptor=function(t,e){return new this(this._ENC_XFORM_MODE,t,e)},e.createDecryptor=function(t,e){return new this(this._DEC_XFORM_MODE,t,e)},e._createHelper=function(t){return{encrypt:function(e,o,n){return"string"==typeof o?c.PasswordBasedCipher.encrypt(t,e,o,n):a.SerializableCipher.encrypt(t,e,o,n)},decrypt:function(e,o,n){return"string"==typeof o?c.PasswordBasedCipher.decrypt(t,e,o,n):a.SerializableCipher.decrypt(t,e,o,n)}}},e.prototype.process=function(t){return this._append(t),this._process()},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e._ENC_XFORM_MODE=1,e._DEC_XFORM_MODE=2,e.keySize=4,e.ivSize=4,e}(r.BufferedBlockAlgorithm);o.Cipher=s,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],ColliderCallback:[function(t,e,o){"use strict";cc._RF.push(e,"972fagnS5RCV7DBQ88ri4Nf","ColliderCallback");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderEnterCb=null,e.colliderExitCb=null,e}return i(e,t),e.prototype.setColliderCallback=function(t,e){void 0===e&&(e=null),this.colliderEnterCb=t,this.colliderExitCb=e},e.prototype.onCollisionEnter=function(t,e){this.colliderEnterCb&&this.colliderEnterCb(t,e)},e.prototype.onCollisionExit=function(t,e){this.colliderExitCb&&this.colliderExitCb(t,e)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ColliderGround:[function(t,e,o){"use strict";cc._RF.push(e,"addec/A/HVEDbijn4GbN/Wg","ColliderGround");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../base/utils/ArrayUtil"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groundConfig=[a.GroupConfig.BERRIE,a.GroupConfig.ROCK],e.arrayGround=[],e.callback=null,e.isGround=!1,e}return i(e,t),e.prototype.setGroundColliderCallback=function(t){this.callback=t},e.prototype.onCollisionEnter=function(t){if(-1!==this.groundConfig.indexOf(t.node.group)&&-1==this.arrayGround.indexOf(t.node))return this.arrayGround.push(t.node),this.isGround?void 0:(this.isGround=!0,void(this.callback&&this.callback(!0)))},e.prototype.onCollisionExit=function(t){-1!==this.groundConfig.indexOf(t.node.group)&&(c.default.removeElement(this.arrayGround,t.node),0===this.arrayGround.length&&(this.callback&&this.callback(!1),this.isGround=!1))},r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ColliderSearch:[function(t,e,o){"use strict";cc._RF.push(e,"fbc57yBL25Jzpq6ppx2EzJN","ColliderSearch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("../../config/GroupConfig"),s=t("../../base/utils/ArrayUtil"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.signalCollider=null,e.listIgnore=[],e.isDebug=!1,e.rootPosition=null,e.searchCallback=null,e.listColliderEnter=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this.signalCollider.node;t.getComponent(cc.Sprite).enabled=this.isDebug,this.rootPosition=t.position,this.signalCollider.setColliderCallback(this.onSignalCollider.bind(this)),this.listIgnore.push(t)},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.signalCollider.node)},e.prototype.addToIgnore=function(t){-1===this.listIgnore.indexOf(t)&&(cc.log("addToIgnore: "+t.name),this.listIgnore.push(t))},e.prototype.checkSearchTarget=function(t){return t.node.group==c.GroupConfig.CHARACTER&&-1==this.listIgnore.indexOf(t.node)},e.prototype.setColliderCallback=function(t){this.searchCallback=t},e.prototype.onCollisionEnter=function(t){this.checkSearchTarget(t)&&(-1==this.listColliderEnter.indexOf(t)&&this.listColliderEnter.push(t),cc.Tween.stopAllByTarget(this.signalCollider.node),this.pingToTarget(t))},e.prototype.onCollisionExit=function(t){this.checkSearchTarget(t)&&s.default.removeElement(this.listColliderEnter,t),this.refreshPingToTarget()},e.prototype.pingToTarget=function(t,e){var o=this;void 0===e&&(e=!0);var n=this.signalCollider.node;n.position=this.rootPosition;var i=n.getParent().convertToNodeSpaceAR(t.node.getParent().convertToWorldSpaceAR(t.node.position));i.y+=t.offset.y-t.size.height/2+20,i.x+=t.offset.x-t.size.width/2+20,cc.tween(n).to(.1,{position:i}).delay(.5).call(function(){e&&o.pingToTarget(t)}).start()},e.prototype.refreshPingToTarget=function(){this.listColliderEnter.length>0&&this.pingToTarget(this.listColliderEnter[0],!1)},e.prototype.onSignalCollider=function(t){if(-1==this.listIgnore.indexOf(t.node)){var e=this.signalCollider.node;e.position=this.rootPosition,cc.Tween.stopAllByTarget(e),this.searchCallback&&this.searchCallback(t)}},r([u(a.default)],e.prototype,"signalCollider",void 0),r([u([cc.Node])],e.prototype,"listIgnore",void 0),r([u(cc.Boolean)],e.prototype,"isDebug",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],CountryConfig:[function(t,e,o){"use strict";cc._RF.push(e,"80c57RLh7dHkL5lvZCC3W81","CountryConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GetNameContryWithCode=o.countryName=o.countryCodes=void 0,o.countryCodes=["AF","AX","AL","DZ","AS","AD","AO","AI","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BR","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CO","KM","CG","CD","CK","CR","CI","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FO","FJ","FI","FR","GF","PF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KR","XK","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PL","PT","PR","QA","RE","RO","RU","RW","BL","KN","LC","MF","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","SS","ES","LK","SD","SR","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UY","UZ","VU","VE","VN","VG","VI","EH","YE","ZM","ZW"],o.countryName=["Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State of","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Brazil","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Democratic Republic of the Congo","Cook Islands","Costa Rica","Cote D'ivoire","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Islamic Republic of Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Republic of Korea","Kosovo","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","The Former Yugoslav Republic of Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Federated States of Micronesia","Republic of Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barthelemy","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French Part)","Saint Vincent and The Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch Part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","United Republic of Tanzania","Thailand","Timor-leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Bolivarian Republic of Venezuela","Viet Nam","Virgin Islands, British","Virgin Islands, U.S.","Western Sahara","Yemen","Zambia","Zimbabwe"],o.GetNameContryWithCode=function(t){for(var e=0;e<o.countryCodes.length;e++)if(t==o.countryCodes[e])return o.countryName[e]},cc._RF.pop()},{}],DailyPopup:[function(t,e,o){"use strict";cc._RF.push(e,"14f48Nhe0dBnqHYRauDpkO4","DailyPopup");var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ReceiveConfig=void 0,function(t){t[t.RECEVIED=0]="RECEVIED",t[t.CAN_RECEVIE=1]="CAN_RECEVIE",t[t.CANT_NOT_RECEVIE=2]="CANT_NOT_RECEVIE"}(i=o.ReceiveConfig||(o.ReceiveConfig={}));var c=[{id:"hero_6",name:"dragon \n Knight"},{id:"hero_27",name:"The\n Angle"},{id:"hero_28",name:"The\n demon"}],s=t("../GameData"),l=t("../UserPlayFab"),p=t("./ItemDaily"),u=t("./ItemDailyPlus"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent=null,e.listItem=[],e.itemDailyPlus=null,e}return r(e,t),e.prototype.onEnable=function(){var t=this;l.default.loginsuccessful&&setTimeout(function(){var e=l.default.DailyData,o={day:-1,time:new Date};console.log(e,"time");var n=!1;if(""!=e){var r=JSON.parse(e),a=new Date(r.time);o.day=r.day,a.getMonth()==o.time.getMonth()?a.getDate()<o.time.getDate()?n=!0:0==r.day&&(o.day=7):n=!0}else o.day=0,n=!0;if(0!=t.listItem.length)for(var c=0;c<7;c++){var s,p=t.listItem[c];s=c>o.day?i.CANT_NOT_RECEVIE:c==o.day?n?i.CAN_RECEVIE:i.CANT_NOT_RECEVIE:i.RECEVIED;var u=t.getSkinReward(c+1);6!=c?p.InitInfo({gold:u.gold,day:c,skin:u.skin},s,function(t){var e=t.day,o={day:e+=1,time:new Date};l.default.SaveDailyData(o)}):t.itemDailyPlus.InitInfo({gold:u.gold,day:c,skin:u.skin},s,function(t){t.day;var e={day:0,time:new Date};l.default.SaveDailyData(e)})}},200)},e.prototype.Show=function(){this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1},e.prototype.getSkinReward=function(t){if(7!==t)return{gold:500,skin:null};for(var e=null,o=1,n=0;n<c.length;n++){var i=c[n];if(-1==(o=s.GameData.myBossSkins.indexOf(i.id))){e=i;break}}return 1==o?{gold:1e3,skin:null}:{gold:0,skin:e}},a([h(cc.Node)],e.prototype,"nodeContent",void 0),a([h([p.default])],e.prototype,"listItem",void 0),a([h(u.default)],e.prototype,"itemDailyPlus",void 0),a([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../UserPlayFab":"UserPlayFab","./ItemDaily":"ItemDaily","./ItemDailyPlus":"ItemDailyPlus"}],Demon:[function(t,e,o){"use strict";cc._RF.push(e,"115d2T2+exIPbUvPo0QVNGT","Demon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../config/AudioPlayId"),s=t("../../../MainScene"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.demon_punch)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([p],e)}(a.default));o.default=u,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","./Enemies":"Enemies"}],Dog:[function(t,e,o){"use strict";cc._RF.push(e,"3f19e8Qk9JDqLr7LacnS5JF","Dog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../config/GroupConfig"),s=t("../../../config/TagObject"),l=t("../../../config/AudioPlayId"),p=t("../../../MainScene"),u=cc._decorator,d=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eatAnim="eat",e.isEating=!1,e}return i(e,t),e.prototype.onAttackCollider=function(e,o){this.isEating||(t.prototype.onAttackCollider.call(this,e,o),e.node.group===c.GroupConfig.ITEM&&e.node.name==s.TagConfig.MEAT&&(this.isEating=!0,this.stopMove(),this.rotateFaceToTarget(e.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim,!0)))},e.prototype.onSearchCollider=function(e){this.isEating||t.prototype.onSearchCollider.call(this,e)},e.prototype.playAttack=function(e){t.prototype.playAttack.call(this,e),p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_bite)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this),p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},r([f(cc.String)],e.prototype,"eatAnim",void 0),r([d],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],Dragon:[function(t,e,o){"use strict";cc._RF.push(e,"7388cKfYv1BAYkY1DMqH1dv","Dragon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Character"),c=t("../../../config/GroupConfig"),s=t("../../../level/MapLevel"),l=t("../../../config/AudioPlayId"),p=t("../../../MainScene"),u=t("../../../config/TagObject"),d=t("../../more/FireBall"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fireBallPrefab=null,e.isAttack=!1,e}return i(e,t),e.prototype.start=function(){this.hit.active=!0},e.prototype.onHeadCollider=function(t){this.isAlive&&(t.node.group!==c.GroupConfig.ROCK&&(t.node.group!==c.GroupConfig.ITEM||t.node.name!=u.TagConfig.CHEST)||this.onDieNormal())},e.prototype.onBodyCollider=function(t){this.isAlive&&(this.checkIgnoreFluid(t.node.group)||(t.node.group!==c.GroupConfig.SNOW?t.node.group!==c.GroupConfig.COLLIDER||t.node.name!=u.TagConfig.GAS&&t.node.name!=u.TagConfig.BOMB||this.onDieNormal():this.onDieIce()))},e.prototype.onSearchCollider=function(t){this.isAlive&&(cc.log("Dragon onSearchCollider: "+t.node.name),s.default.instance.isPlaying&&(t.node.group!==c.GroupConfig.CHARACTER||this.playAttack(t)))},e.prototype.playAttack=function(){var t=this;if(!this.isAttack){this.isAttack=!0,this.playAnimation(this.attackAnim),p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_fire);var e=cc.instantiate(this.fireBallPrefab);this.hit.addChild(e);var o=800/d.default.velocityHit,n=cc.jumpBy(o,cc.v2(800,-400),800/7,1);e.runAction(cc.sequence(n,cc.callFunc(function(){e.active&&(e.active=!1,e.removeFromParent())}))),this.scheduleOnce(function(){t.isAlive&&t.playAnimation(t.idleAnim,!0)},.5),this.scheduleOnce(function(){t.isAlive&&(t.isAttack=!1,t.searchCollider.refreshPingToTarget())},1)}},e.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_die)},e.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,p.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_die)},r([y(cc.Prefab)],e.prototype,"fireBallPrefab",void 0),r([h],e)}(a.default);o.default=g,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/FireBall":"FireBall","../Character":"Character"}],ECBDecryptor:[function(t,e,o){"use strict";cc._RF.push(e,"53721N5X5hL05JMW5vEveD7","ECBDecryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.decryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(t,e,o){"use strict";cc._RF.push(e,"33df0fiPsBKOI139kHKRo/3","ECBEncryptor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.processBlock=function(t,e){this._cipher.encryptBlock(t,e)},e}(t("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(t,e,o){"use strict";cc._RF.push(e,"e4f9dlfXlNDnbs5KDhCFA3G","ECB");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var r=t("./BlockCipherMode"),a=t("./ECBEncryptor"),c=t("./ECBDecryptor"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Encryptor=a.ECBEncryptor,e.Decryptor=c.ECBDecryptor,e}(r.BlockCipherMode);o.ECB=s,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],Encoding:[function(t,e,o){"use strict";cc._RF.push(e,"9a7fefikc9FvrKzR1AkV9Fc","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Enemies:[function(t,e,o){"use strict";cc._RF.push(e,"c0d19Q53chFxZ8/bnKcdE1A","Enemies");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Character"),c=t("../../../config/GroupConfig"),s=t("../../../config/TagObject"),l=t("../../../level/MapLevel"),p=cc._decorator,u=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSuper=!1,e.isAttack=!1,e.superAppearAnim="Appear1",e}return i(e,t),e.prototype.start=function(){this.hit.active=!1},e.prototype.playAttack=function(t){var e=this;if(this.isAttack){var o=t.getComponent(a.default);if(o&&!o.isAlive)return}this.isAttack=!0,this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){e.isAlive&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e.isAttack=!1,e.stopMove(),e.searchCollider.refreshPingToTarget())})},e.prototype.onHeadCollider=function(t){if(this.isAlive)return t.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(t.node.group!==c.GroupConfig.ITEM||t.node.name!=s.TagConfig.CHEST&&t.node.name!=s.TagConfig.ITEM&&t.node.name!=s.TagConfig.STICK||this.onDieNormal())},e.prototype.onBodyCollider=function(t){if(this.isAlive&&!this.checkIgnoreFluid(t.node.group))if(t.node.group!==c.GroupConfig.LAVA)if(t.node.group!==c.GroupConfig.SNOW){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==s.TagConfig.HIT){var e=t.node.getComponent(s.default).tag2;return cc.log(this.node.name+" onBodyCollider: "+t.node.group+" tag2 = "+e),void(this.tagHit==s.TagConfig.DOG?e!=s.TagConfig.DOG&&this.onDieNormal():e!=s.TagConfig.FIRE_BALL&&e!=s.TagConfig.BOSS&&e!=s.TagConfig.STICK&&e!=s.TagConfig.ITEM&&e!=s.TagConfig.TRAP&&e!=s.TagConfig.ROCK&&e!=s.TagConfig.BIG_ROCK&&e!=s.TagConfig.BULLET&&e!=s.TagConfig.POW&&e!=s.TagConfig.SAW&&e!=s.TagConfig.LAZE||this.onDieNormal())}if(t.node.name==s.TagConfig.GAS||t.node.name==s.TagConfig.BOMB)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},e.prototype.onAttackCollider=function(t){if(this.isAlive){if(cc.log(this.node.name+" onAttackCollider: "+t.node.name),t.node.group===c.GroupConfig.CHARACTER&&t.node!=this.groundCollider.node)return t.node.name==s.TagConfig.BOSS||t.node.name==s.TagConfig.GIRL||t.node.name==s.TagConfig.DOG?void this.playAttack(t.node):(this.stopMove(),void this.playAnimation(this.idleAnim,!0));if(t.node.group===c.GroupConfig.ITEM&&t.node.name==s.TagConfig.HOLY_WATER){try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeFromParent()}catch(e){cc.warn(e)}return this.stopMove(),void this.changeSkinToSuper()}}},e.prototype.changeSkinToSuper=function(){this.isSuper=!0,this.idleAnim+="2",this.attackAnim+="2",this.walkAnim+="2",this.runAnim+="2",this.hit.removeFromParent(),this.node.addChild(this.hit);var t=this.attackCollider.getComponent(cc.BoxCollider),e=this.hit.getComponent(cc.BoxCollider);this.hit.position=this.attackCollider.node.position,this.hit.angle=this.attackCollider.node.angle,e.offset=t.offset,e.size=t.size,this.playAnimation(this.superAppearAnim).addAnimation(this.idleAnim,!0)},e.prototype.onSearchCollider=function(t){this.isAlive&&l.default.instance.isPlaying&&!this.isAttack&&(t.node.group!==c.GroupConfig.CHARACTER||t.node==this.groundCollider.node||(t.node.name==s.TagConfig.BOSS||t.node.name==s.TagConfig.GIRL||t.node.name==s.TagConfig.GIRL_WONDER||t.node.name==s.TagConfig.DOG?this.walkToTarget(t.node):this.addToIgnoreSearchCollier(t.node)))},e.prototype.onAutoMove=function(){this.isAlive&&this.walkToTarget(null)},e.prototype.onDieFire=function(){this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1},e.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1},e.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1},r([u],e)}(a.default));o.default=d,cc._RF.pop()},{"../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character"}],EventHomePinManger:[function(t,e,o){"use strict";cc._RF.push(e,"8bc8cNd7q9HmLgciT5tKIaG","EventHomePinManger");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../UserPlayFab"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameHelperComponent="",e.helperEvent=null,e.nodeEvent=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){o._instance=this,this.helperEvent=this.nodeEvent.getComponent(this.nameHelperComponent.toString()),this.helperEvent.Init(),this._onStartEventHomePin=this.onStartEventHomePin.bind(this);try{FBInstant.player.getName()}catch(t){console.log(t),a.default.SetUp(),a.default.LoginWithCustomID()}a.default.LoginCallBackSignal.add(this._onStartEventHomePin,this)},e.prototype.onStartEventHomePin=function(){this.helperEvent.StartEventHomePin()},e._instance=null,r([l(String)],e.prototype,"nameHelperComponent",void 0),r([l(cc.Node)],e.prototype,"nodeEvent",void 0),o=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../UserPlayFab":"UserPlayFab"}],EventPopup:[function(t,e,o){"use strict";cc._RF.push(e,"f406b+nFShLwIUcDV44c6hk","EventPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Show=function(){this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1},e.prototype.onClickClose=function(){this.Hide()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],EvpKDF:[function(t,e,o){"use strict";cc._RF.push(e,"9a3b4WMLaRGGoHpkrr1WBEx","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var n=t("../lib/WordArray"),i=t("../algo/MD5"),r=function(){function t(t){this.cfg=Object.assign({keySize:4,hasher:i.MD5,iterations:1},t)}return t.prototype.compute=function(t,e){for(var o,i=new this.cfg.hasher,r=new n.WordArray;r.words.length<this.cfg.keySize;){o&&i.update(o),o=i.update(t).finalize(e),i.reset();for(var a=1;a<this.cfg.iterations;a++)o=i.finalize(o),i.reset();r.concat(o)}return r.sigBytes=4*this.cfg.keySize,r},t}();o.EvpKDF=r,cc._RF.pop()},{"../algo/MD5":"MD5","../lib/WordArray":"WordArray"}],FBInstantAds:[function(t,e,o){"use strict";cc._RF.push(e,"9b225Vh0pZHuKqzpKXmPnJH","FBInstantAds"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantAds=void 0;var n=t("../../GameData"),i=t("../../base/Signal"),r=t("../tracking/GameTracking"),a=function(){function t(){}return Object.defineProperty(t,"isRewardedVideoReady",{get:function(){return null!=t._preloadedRewardedVideo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isInterstitialReady",{get:function(){return null!=t._preloadedInterstitial},enumerable:!1,configurable:!0}),t.checkInitFBInstant=function(){return"undefined"==typeof FBInstant?(console.warn("FBInstant is undefined"),!1):!!t.enableAds||(console.warn("FBInstant is not enable"),!1)},t.preloadInterstitialAd=function(e){if(void 0===e&&(e=null),t.checkInitFBInstant())return t.isInterstitialReady?(console.warn("Interstitial ad ready to show"),void(e&&e())):void FBInstant.getInterstitialAdAsync(t.adsConfig.Interstitial).then(function(e){return t._preloadedInterstitial=e,t._preloadedInterstitial.loadAsync()}).then(function(){console.log("Interstitial preloaded"),e&&e()}).catch(function(o){console.warn("Interstitial failed to preload: "+o.message),r.GameTracking.logEventAdLoadFailed(t.typeAd.Interstitial,o.code),t._preloadedInterstitial=null,e&&e(o)});e&&e()},t.showInterstitialAd=function(e){if(t.checkInitFBInstant())if(n.GameData.currentLevelId-t.lastLevelShowAds<t.adsConfig.distanceLevel)e();else{var o=(new Date).getTime(),i=(o-t.lastTimeShowAds)/1e3;if(i<t.adsConfig.distanceTime)return console.warn("Too many ads shown recently: dt = "+i),void e();t.isInterstitialReady?t._preloadedInterstitial.showAsync().then(function(){console.log("Interstitial ad finished successfully"),t._preloadedInterstitial=null,t.lastTimeShowAds=o,t.lastLevelShowAds=n.GameData.currentLevelId,t.preloadInterstitialAd(),r.GameTracking.logEventShowAd(t.typeAd.Interstitial),e()}).catch(function(o){console.warn("Interstitial ad is not shown: "+o.message),t._preloadedInterstitial=null,t.preloadInterstitialAd(),r.GameTracking.logEventShowAdFailed(o.code),e(o)}):t.preloadInterstitialAd(function(o){o?e(o):t.showInterstitialAd(e)})}else e()},t.preloadRewardedVideoAd=function(e){if(void 0===e&&(e=null),t.checkInitFBInstant()){if(t.isRewardedVideoReady)return console.warn("Rewarded Video Ad ready to show"),void(e&&e());t.LoadingRewardedVideoSignal.dispatch(!0),FBInstant.getRewardedVideoAsync(t.adsConfig.Rewarded).then(function(e){return t._preloadedRewardedVideo=e,t._preloadedRewardedVideo.loadAsync()}).then(function(){console.log("Rewarded video preloaded"),t.LoadingRewardedVideoSignal.dispatch(!1),e&&e()}).catch(function(o){console.warn("Rewarded video failed to preload: "+o.message),r.GameTracking.logEventAdLoadFailed(t.typeAd.Rewarded,o.code),t._preloadedRewardedVideo=null,e&&e(o)})}else e&&e()},t.showRewardedVideoAd=function(e){t.checkInitFBInstant()&&(t.isRewardedVideoReady?t._preloadedRewardedVideo.showAsync().then(function(){console.log("Rewarded video watched successfully"),t._preloadedRewardedVideo=null,t.lastTimeShowAds=(new Date).getTime(),t.preloadRewardedVideoAd(),r.GameTracking.logEventShowAd(t.typeAd.Rewarded),e()}).catch(function(o){console.warn("Rewarded video error: "+JSON.stringify(o)),t._preloadedRewardedVideo=null,t.lastTimeShowAds=(new Date).getTime(),t.preloadRewardedVideoAd(),r.GameTracking.logEventShowAdFailed(o.code),e(o)}):t.preloadRewardedVideoAd(function(o){o?e(o):t.showRewardedVideoAd(e)}))},t.typeAd={Interstitial:"Interstitial",Rewarded:"Rewarded"},t._preloadedInterstitial=null,t._preloadedRewardedVideo=null,t.lastTimeShowAds=0,t.lastLevelShowAds=0,t.LoadingRewardedVideoSignal=new i.Signal,t}();o.FBInstantAds=a,cc._RF.pop()},{"../../GameData":"GameData","../../base/Signal":"Signal","../tracking/GameTracking":"GameTracking"}],FBInstantData:[function(t,e,o){"use strict";cc._RF.push(e,"09452fizKlBLom5nLmzsz3a","FBInstantData"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantData=void 0;var n=t("../../base/LocalStorageManager"),i=function(){function t(){}return t.getData=function(t,e){for(var o={},i=0;i<=t.length;i++)o[t[i]]=JSON.parse(n.LocalStorageManager.getItem(t[i]));e&&e(o)},t.setData=function(t,e){void 0===e&&(e=null),cc.log("setData: "+JSON.stringify(t)),n.LocalStorageManager.setItem(Object.keys(t)[0],JSON.stringify(Object.values(t)[0])),e&&e(null)},t}();o.FBInstantData=i,cc._RF.pop()},{"../../base/LocalStorageManager":"LocalStorageManager"}],FBInstantGames:[function(t,e,o){"use strict";cc._RF.push(e,"98294WxLiFKG6IBecqMuD3C","FBInstantGames"),Object.defineProperty(o,"__esModule",{value:!0}),o.FBInstantGames=void 0;var n=t("../../base/utils/GUIUtil"),i=t("../tracking/GameTracking"),r=function(){function t(){}return t.onQuitGame=function(){"undefined"!=typeof FBInstant&&FBInstant.quit()},t.onShareGame=function(e){if(void 0===e&&(e=null),"undefined"!=typeof FBInstant){var o=window.templateShare;o||(o=t.templateShare);var i=n.default.getImgBase64();FBInstant.shareAsync({intent:"SHARE",image:i,text:o,data:{myReplayData:"..."}}).then(function(){e&&e()})}},t.inviteFriends=function(e){if(void 0===e&&(e=null),"undefined"!=typeof FBInstant){var o=n.default.getImgBase64(),i=window.templateInvite;i||(i=t.templateInvite),FBInstant.context.chooseAsync().then(function(){console.log("chooseAsync: "+FBInstant.context.getID()),FBInstant.updateAsync({action:"CUSTOM",cta:i.cta,image:o,text:i.text,template:"VILLAGE_INVASION",data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("inviteFriends DONE"),e&&e()})})}},t.createShortcut=function(t){void 0===t&&(t=null),console.log("createShortcut"),"undefined"!=typeof FBInstant&&FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){t&&t()}).catch(function(t){console.log("Shortcut not created: "+t.message)})})},t.subscribeMessengerBot=function(t){void 0===t&&(t=null),console.log("subscribeMessengerBot"),"undefined"!=typeof FBInstant&&FBInstant.player.canSubscribeBotAsync().then(function(t){console.log("canSubscribeBot: ",t),t&&FBInstant.player.subscribeBotAsync().then(function(){FBInstant.setSessionData({optin:!0}),i.GameTracking.logEventOptinMessage(!0)}).catch(function(){FBInstant.setSessionData({optin:!1}),i.GameTracking.logEventOptinMessage(!1)})})},t.sendSessionData=function(t,e){void 0===e&&(e=null),"undefined"!=typeof FBInstant&&FBInstant.setSessionData({currentLevel:t})},t.getPayloadData=function(t){(void 0===t&&(t=null),"undefined"!=typeof FBInstant)&&t(FBInstant.getEntryPointData()||null)},t.templateShare="Try Home Pin Now",t.templateInvite={cta:"Play",text:{default:"Try Home Pin Now",localizations:{ar_AR:"Try Home Pin Now",en_US:"Try Home Pin Now",es_LA:"Try Home Pin Now"}}},t}();o.FBInstantGames=r,cc._RF.pop()},{"../../base/utils/GUIUtil":"GUIUtil","../tracking/GameTracking":"GameTracking"}],FeatureSkinConfig:[function(t,e,o){"use strict";cc._RF.push(e,"bc158fvtABA75BUJTcghBx6","FeatureSkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.FeatureSkinConfig=o.ItemFeatureConfig=void 0;var n=function(t,e,o){void 0===o&&(o=""),this.skinId=t,this.skins=e,this.pathDir=o};o.ItemFeatureConfig=n;var i=function(){function t(){}return t.getSkinConfigById=function(e){for(var o=t.arrayFeatureBoss,n=0;n<o.length;n++)if(o[n].skinId===e)return o[n];return null},t.arrayFeatureBoss=[new n("feature_1","Angel","spines/FeatureSkins/ExportPet"),new n("feature_2","Demon","spines/FeatureSkins/ExportPet"),new n("feature_3","Dragon","spines/FeatureSkins/ExportPet"),new n("feature_4","Halloween","spines/FeatureSkins/ExportPet"),new n("feature_5","Lunar","spines/FeatureSkins/ExportPet"),new n("feature_6","Noel","spines/FeatureSkins/ExportPet"),new n("feature_7","Noel2021","spines/FeatureSkins/ExportPet"),new n("feature_8","Pumkin","spines/FeatureSkins/ExportPet"),new n("feature_9","Thanksgiving","spines/FeatureSkins/ExportPet")],t}();o.FeatureSkinConfig=i,cc._RF.pop()},{}],FeatureUi:[function(t,e,o){"use strict";cc._RF.push(e,"18c42X0lKNGn4BvfzABVtnU","FeatureUi");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Tag=null,e.Type=null,e}return i(e,t),e.prototype.RemoveSelf=function(){this.node.destroy()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],FireBall:[function(t,e,o){"use strict";cc._RF.push(e,"3b75aNqdaNIOIPzvHQpdNPY","FireBall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../MainScene"),s=t("../../config/AudioPlayId"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bumPrefab=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=this;if(t.node.group===a.GroupConfig.BERRIE)return this.showBumEffect(),this.node.active=!1,this.node.stopAllActions(),void this.node.removeFromParent();t.node.group===a.GroupConfig.CHARACTER&&(this.showBumEffect(),this.scheduleOnce(function(){e.node.opacity=0,e.node.stopAllActions(),cc.Tween.stopAllByTarget(e.node)},.05),this.scheduleOnce(function(){e.node.active=!1,e.node.removeFromParent()},.2))},e.prototype.showBumEffect=function(){var t=cc.instantiate(this.bumPrefab);t.setPosition(this.node.getPosition()),t.scale=.66,this.node.getParent().addChild(t),c.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_fire_ball),cc.tween(t).delay(.8).call(function(){t.removeFromParent()}).start()},e.velocityHit=500,r([u(cc.Prefab)],e.prototype,"bumPrefab",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig"}],FirebaseTracking:[function(t,e,o){"use strict";cc._RF.push(e,"34936qb+P1KVquQ2Or7qiy/","FirebaseTracking"),Object.defineProperty(o,"__esModule",{value:!0}),o.FirebaseTracking=void 0;var n=function(){function t(){}return t.logEvent=function(t,e){"undefined"!=typeof firebase&&firebase.analytics().logEvent(t,e)},t.logEventPlayLevel=function(e,o){t.logEvent(t.event_play_level,{level:e,success:o})},t.logEventUnlockSkin=function(e){t.logEvent(t.event_unlock_skin,{skin:e})},t.logEventCreateShortCut=function(e){t.logEvent(t.event_create_shortcut,{level:e})},t.logEventInviteFriend=function(e){t.logEvent(t.event_invite_friends,{level:e})},t.logEventShareGame=function(e){t.logEvent(t.event_share_game,{level:e})},t.logEventQuitGame=function(e){t.logEvent(t.event_quit_game,{level:e})},t.logEventAdLoadFailed=function(e,o){t.logEvent(t.event_ad_load_failed,{ad_type:e,error_type:o})},t.logEventShowAdFailed=function(e){t.logEvent(t.event_show_ad_failed,{error_type:e})},t.logEventShowAd=function(e){t.logEvent(t.event_show_ad,{type:e})},t.logEventOptinMessage=function(e){t.logEvent(t.event_optin_message,{optin:e})},t.logEventUserFromAd=function(e){t.logEvent("ad_user",{ad_id:e})},t.event_create_shortcut="create_shortcut",t.event_invite_friends="invite_friends",t.event_share_game="share_game",t.event_quit_game="quit_game",t.event_play_level="play_level",t.event_unlock_skin="unlock_skin",t.event_show_ad="show_ad",t.event_ad_load_failed="ad_load_failed",t.event_show_ad_failed="show_ad_failed",t.event_optin_message="optin_message",t}();o.FirebaseTracking=n,cc._RF.pop()},{}],Formatter:[function(t,e,o){"use strict";cc._RF.push(e,"5d9f3i32EdJWKUr6F3ttVqY","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FrameByFrame:[function(t,e,o){"use strict";cc._RF.push(e,"37b91uSOkFFCrubu+v1hcc9","FrameByFrame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.arrayFrames=[],e.dt=.12,e.reverse=!1,e.autoPlay=!0,e.loop=!1,e.time=0,e.anim=null,e.repeatCb=null,e.animDefault="default",e}return i(e,t),e.prototype.onLoad=function(){if(this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.sprite)){var t=this.arrayFrames.length,e=Math.round(1/this.dt);this.time=t/e,this.reverse&&this.arrayFrames.reverse();var o=cc.AnimationClip.createWithSpriteFrames(this.arrayFrames,e);this.anim=this.sprite.node.addComponent(cc.Animation),this.anim.addClip(o,this.animDefault)}else cc.error("SpriteFrameBF: Please add Sprite Component")},e.prototype.onEnable=function(){this.autoPlay&&this.play()},e.prototype.onDisable=function(){this.stop()},e.prototype.play=function(t,e){var o=this;void 0===t&&(t=this.loop),void 0===e&&(e=1),this.anim&&(this.anim.stop(),this.anim.play(this.animDefault,0),e--,(t||e>0)&&(this.repeatCb=function(){o.play(t,e)},this.scheduleOnce(this.repeatCb,this.time)))},e.prototype.stop=function(){this.anim&&(this.anim.stop(),this.unschedule(this.repeatCb))},r([s(cc.Sprite)],e.prototype,"sprite",void 0),r([s([cc.SpriteFrame])],e.prototype,"arrayFrames",void 0),r([s(cc.Float)],e.prototype,"dt",void 0),r([s(cc.Boolean)],e.prototype,"reverse",void 0),r([s(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s(cc.Boolean)],e.prototype,"loop",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GATracking:[function(t,e,o){"use strict";cc._RF.push(e,"50b8e9RVvVLDJaxUjgX6bKV","GATracking"),Object.defineProperty(o,"__esModule",{value:!0}),o.GATracking=void 0;var n=function(){function t(){}return t.logEventUserFromAd=function(t){null!=typeof GameAnalytics&&GameAnalytics("addDesignEvent","ad_id:"+t)},t}();o.GATracking=n,cc._RF.pop()},{}],GUIUtil:[function(t,e,o){"use strict";cc._RF.push(e,"96d7dsVwBhBvojHmMxxWpVf","GUIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../config/FeatureSkinConfig"),i=t("../../config/SkinConfig"),r=t("../../feature/FeatureUi"),a=t("../../ResUtil"),c=function(){function t(){}return t.addClickListener=function(t,e,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=e,r.component=o,r.handler=n,r.customEventData=i,t.getComponent(cc.Button).clickEvents.push(r)},t.addToggleListener=function(t,e,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=e,r.component=o,r.handler=n,r.customEventData=i,t.getComponent(cc.Toggle).clickEvents.push(r)},t.addFeatureForCharacter=function(t,e,o){a.ResUtil.getSpineAnimFeature(o,function(e,i){if(!e){var a=t.getComponentInChildren(r.default),c=n.FeatureSkinConfig.getSkinConfigById(o);if(a){if(a.Tag==o)return;var s=a.node.children[0].getComponent(sp.Skeleton);return s.skeletonData=i,s.setSkin(c.skins),s.setAnimation(0,"Fly",!0),void(a.Tag=o)}var l=cc.find("Canvas/Feature"),p=cc.instantiate(l),u=p.children[0].getComponent(sp.Skeleton);p.setScale(Math.abs(t.scaleX),t.scaleY),t.addChild(p),u.skeletonData=i,u.setSkin(c.skins),u.setAnimation(0,"Fly",!0),p.getComponent(r.default).Tag=o,p.active=!0}})},t.addPetForCharacter=function(t,e){a.ResUtil.loadRes("prefabs/pets/Pet",cc.Prefab,function(o,n){if(!o){var i=cc.instantiate(n);t.addChild(i),i.position=e}})},t.getDistancePoints=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getImgBase64=function(){var t=new cc.Node;t.x=cc.visibleRect.width/2,t.y=cc.visibleRect.height/2,t.parent=cc.director.getScene();var e=t.addComponent(cc.Camera);e.backgroundColor=cc.Color.TRANSPARENT,e.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,e.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),e.targetTexture=o,e.render();var i=o.readPixels(),r=document.createElement("canvas"),a=r.getContext("2d"),c=r.width=o.width,s=r.height=o.height;r.width=o.width,r.height=o.height;for(var l=4*c,p=0;p<s;p++){for(var u=s-1-p,d=a.createImageData(c,1),f=u*c*4,h=0;h<l;h++)d.data[h]=i[f+h];a.putImageData(d,0,p)}return r.toDataURL("image/jpeg")},t.ativeSkinFeatureIfHave=function(e,o){if(i.SkinConfig.CheckSkinHaveFeature(e))for(var n=e,a=0;a<n.idFeatures.length;a++){var c=n.idFeatures[a];t.addFeatureForCharacter(o,cc.v3(0,0),c,sp.Skeleton)}else{var s=o.getComponentInChildren(r.default);s&&s.node.destroy()}},t}();o.default=c,cc._RF.pop()},{"../../ResUtil":"ResUtil","../../config/FeatureSkinConfig":"FeatureSkinConfig","../../config/SkinConfig":"SkinConfig","../../feature/FeatureUi":"FeatureUi"}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"ea29aooc1FGnJ0IG5Bu1aAz","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function t(){}return t.boss_skin_default="hero_0",t.wife_skin_default="wife_0",t.coin_default=0,t.coin_level_up=100,t.coin_level_bonus=500,t}();o.GameConfig=n,cc._RF.pop()},{}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"25501QmpYxCcZCkmxSR9tuZ","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=t("./base/LocalStorageManager"),i=t("./plugins/fb/FBInstantData"),r=t("./config/KingdomData"),a=t("./config/GlobalSignals"),c=t("./config/RoomConfig"),s=t("./config/GameConfig"),l=t("./config/LevelConfig"),p=t("./UserPlayFab"),u=t("./pets/PetDataManager"),d=function(){function t(){}return t.initPlayerData=function(e){var o=this;cc.log("initPlayerData"),n.LocalStorageManager.getItem(t.KEY_DATA),cc.log("init Data from Local"),i.FBInstantData.getData([t.KEY_LEVEL,t.KEY_LEVEL_REAL,t.KEY_ROOM,t.KEY_ITEMS,t.KEY_COIN,t.KEY_BOSS_CURRENT_SKIN,t.KEY_BOSS_SKINS,t.KEY_WIFE_CURRENT_SKIN,t.KEY_WIFE_SKINS,t.KEY_KINGDOM_SPRING,t.KEY_PETS_DATA,t.KEY_EGGS_DATA,t.KEY_CURRENT_PET],function(t){console.log(t),o.setPlayerData(t),e&&e()},function(){o.setPlayerData({}),e&&e()})},t.setPlayerData=function(e){this.currentLevelId=this.getValue(e,t.KEY_LEVEL,0),this.currentRoomId=this.getValue(e,t.KEY_ROOM,0),this.arrayItem=this.getValue(e,t.KEY_ITEMS,[]),this.playerCoin=this.getValue(e,t.KEY_COIN,0),this.currentSkinBoss=this.getValue(e,t.KEY_BOSS_CURRENT_SKIN,s.GameConfig.boss_skin_default),this.myBossSkins=this.getValue(e,t.KEY_BOSS_SKINS,[]),this.myWifeSkins=this.getValue(e,t.KEY_WIFE_SKINS,[]),this.kingdoms=r.KingdomData.getKingdomData(e),this.currentSkinWife=this.getValue(e,t.KEY_WIFE_CURRENT_SKIN,s.GameConfig.wife_skin_default),this.currentLevelReal=this.getValue(e,t.KEY_LEVEL_REAL,this.currentLevelId);var o=this.getValue(e,t.KEY_LEVEL_SIZE,100);if(this.currentLevelReal>o&&(this.currentLevelReal=o),o<l.LevelConfig.levels.length){var n={};n[t.KEY_LEVEL_SIZE]=l.LevelConfig.realLevelSize,i.FBInstantData.setData(n)}this.CurrentPet=u.PetDataManager.ConvertDataPet(this.getValue(e,t.KEY_CURRENT_PET,"")),this.myPets=u.PetDataManager.ConvertToArrDataPet(this.getValue(e,t.KEY_PETS_DATA,"")),this.myEggs=u.PetDataManager.ConvertToArrDataEgg(this.getValue(e,t.KEY_EGGS_DATA,""))},t.saveKingdomItem=function(t,e,o,n){void 0===n&&(n=null),this.kingdoms[t]||(this.kingdoms[t]={}),this.kingdoms[t][e]=o,r.KingdomData.saveKingdomData(t,this.kingdoms[t],n)},t.saveLevelUp=function(){this.currentLevelId++,this.currentLevelReal++,""!=p.default.DisplayName&&""!=p.default.UserCountryCode&&p.default.setLeaderborad(this.currentLevelId,p.StatisticNameConfig.BEST_LEVEL,function(){});var e={};e[t.KEY_LEVEL]=this.currentLevelId,e[t.KEY_LEVEL_REAL]=this.currentLevelReal,i.FBInstantData.setData(e)},t.saveCoin=function(e){this.playerCoin=e,a.GlobalSignals.coinUpdateSignal.dispatch();var o={};o[t.KEY_COIN]=e,i.FBInstantData.setData(o)},t.addCoin=function(t){this.saveCoin(this.playerCoin+t)},t.addRoomItem=function(e,o){if(-1==this.arrayItem.indexOf(e)){this.arrayItem.push(e),this.currentRoomId=o,this.arrayItem.length===c.RoomConfig.rooms[o].size&&(this.currentRoomId=o+1,this.arrayItem=[],cc.log("unlock roomId = "+this.currentRoomId));var n={};n[t.KEY_ITEMS]=this.arrayItem,n[t.KEY_ROOM]=this.currentRoomId,i.FBInstantData.setData(n)}else cc.log("ArrayItems already contains this id")},t.setSkinBoss=function(e,o){if(this.currentSkinBoss!==e){this.currentSkinBoss=e;var n={};n[t.KEY_BOSS_CURRENT_SKIN]=this.currentSkinBoss,i.FBInstantData.setData(n,o)}},t.setSkinWife=function(e,o){if(this.currentSkinWife!==e){this.currentSkinWife=e;var n={};n[t.KEY_WIFE_CURRENT_SKIN]=this.currentSkinWife,i.FBInstantData.setData(n,o)}},t.addSkinBoss=function(e,o){if(-1==this.myBossSkins.indexOf(e)){this.myBossSkins.push(e);var n={};n[t.KEY_BOSS_SKINS]=this.myBossSkins,i.FBInstantData.setData(n,o)}else cc.log("myBossSkins already contains this skinId")},t.addSkinWife=function(e,o){if(-1==this.myWifeSkins.indexOf(e)){this.myWifeSkins.push(e);var n={};n[t.KEY_WIFE_SKINS]=this.myWifeSkins,i.FBInstantData.setData(n,o)}else cc.log("myBossSkins already contains this skinId")},t.clearData=function(){var e={};e[t.KEY_LEVEL]=0,e[t.KEY_ROOM]=0,e[t.KEY_ITEMS]=[],e[t.KEY_COIN]=0,i.FBInstantData.setData(e),n.LocalStorageManager.removeItem(t.KEY_DATA)},t.checkItemCollected=function(e){var o=e.itemConfig;return o.roomId-1<t.currentRoomId||o.roomId-1===t.currentRoomId&&-1!=t.arrayItem.indexOf(o.itemId)},Object.defineProperty(t,"isCreatShortcut",{get:function(){var e=n.LocalStorageManager.getItem(t.KEY_SHORTCUT);return!!e&&"true"===e},set:function(e){n.LocalStorageManager.setItem(t.KEY_SHORTCUT,e?"true":"false")},enumerable:!1,configurable:!0}),t.getValue=function(t,e,o){return""===t[e]||null===t[e]||void 0===t[e]?o:t[e]},t.addPet=function(e,o){if(!this.checkHavePet(e.petId)){this.myPets.push(e);var n={};n[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),i.FBInstantData.setData(n,o)}},t.addExpPet=function(e,o,n,r){for(var c=null,s=!1,l=0;l<this.myPets.length;l++){var p=this.myPets[l];if(p.petId==e){c=p,p.petExp++;var d="Level"+p.petLevel,f=u.PetDataManager.getMaxExpLevel(d);p.petExp==f&&(p.petLevel++,p.petExp=0,s=!0);break}}var h={};n(c,s),r&&(this.playerCoin+=r,h[t.KEY_COIN]=this.playerCoin,a.GlobalSignals.coinUpdateSignal.dispatch()),h[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),i.FBInstantData.setData(h,o)},t.addLevelPet=function(e,o,n){void 0===n&&(n=!0);for(var r=0;r<this.myPets.length;r++){var a=this.myPets[r];a.petId==e&&a.petLevel++}var c={};c[t.KEY_PETS_DATA]=JSON.stringify(this.myPets),i.FBInstantData.setData(c,o)},t.checkHavePet=function(t){for(var e=0;e<this.myPets.length;e++)if(this.myPets[e].petId==t)return!0;return!1},t.addEggNumber=function(e,o){if(!this.checkHaveEgg(e)){var n=new u.EggData;return n.eggId=e,n.eggNumber=1,void this.addEgg(n,o)}for(var r=0;r<this.myEggs.length;r++){var a=this.myEggs[r];a.eggId==e&&a.eggNumber++}var c={};c[t.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),i.FBInstantData.setData(c,o)},t.addEgg=function(e,o){this.myEggs.push(e);var n={};n[t.KEY_EGGS_DATA]=JSON.stringify(this.myEggs),i.FBInstantData.setData(n,o)},t.checkHaveEgg=function(t){for(var e=0;e<this.myEggs.length;e++)if(this.myEggs[e].eggId==t)return!0;return!1},t.getNumberEgg=function(t){console.log(this.myEggs);for(var e=0;e<this.myEggs.length;e++){var o=this.myEggs[e];if(o.eggId==t)return o.eggNumber}return 0},t.getMyPetWithId=function(e){for(var o=0;o<t.myPets.length;o++){var n=t.myPets[o];if(n.petId==e)return n}return null},t.setCurrentPet=function(e,o){this.CurrentPet=e;var n={};n[t.KEY_CURRENT_PET]=JSON.stringify(this.CurrentPet),i.FBInstantData.setData(n,function(){o()})},t.KEY_DATA="hp_data",t.KEY_SHORTCUT="hp_shortcut",t.KEY_LEVEL="hp_level",t.KEY_LEVEL_REAL="hp_level_real",t.KEY_LEVEL_SIZE="hp_level_size",t.KEY_ROOM="hp_room",t.KEY_ITEMS="hp_items",t.KEY_COIN="hp_coin",t.KEY_BOSS_CURRENT_SKIN="hp_boss_current_skin",t.KEY_BOSS_SKINS="hp_boss_skins",t.KEY_WIFE_CURRENT_SKIN="hp_wife_current_skin",t.KEY_WIFE_SKINS="hp_wife_skins",t.KEY_KINGDOM_SPRING="hp_kingdom_spring",t.KEY_PETS_DATA="pet_data",t.KEY_EGGS_DATA="egg_data",t.KEY_CURRENT_PET="current_pet",t.currentLevelReal=0,t.currentLevelId=0,t.currentRoomId=0,t.myBossSkins=["boss_52","boss_23","boss_24","boss_25"],t.myWifeSkins=[],t.currentSkinBoss=s.GameConfig.boss_skin_default,t.currentSkinWife=s.GameConfig.wife_skin_default,t.arrayItem=[],t.playerCoin=1e3,t.kingdoms={},t.CURRENT_VERSION_CODE=2,t.DELTA_TIME=1/60,t.CurrentPet=null,t.myPets=[],t.myEggs=[],t}();o.GameData=d,cc._RF.pop()},{"./UserPlayFab":"UserPlayFab","./base/LocalStorageManager":"LocalStorageManager","./config/GameConfig":"GameConfig","./config/GlobalSignals":"GlobalSignals","./config/KingdomData":"KingdomData","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig","./pets/PetDataManager":"PetDataManager","./plugins/fb/FBInstantData":"FBInstantData"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"dacfbcWrcNM+o3V07171I9u","GameState"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0,function(t){t[t.BEGIN=0]="BEGIN",t[t.PLAYING=1]="PLAYING",t[t.WIN=2]="WIN",t[t.LOSE=3]="LOSE"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],GameTracking:[function(t,e,o){"use strict";cc._RF.push(e,"3cdce238o1AYa7iveGlHdJU","GameTracking"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameTracking=void 0;var n=t("../firebase/FirebaseTracking"),i=t("../gameanalytics/GATracking"),r=function(){function t(){}return t.logEvent=function(t,e){n.FirebaseTracking.logEvent(t,e)},t.logEventPlayLevel=function(t,e){n.FirebaseTracking.logEventPlayLevel(t,e)},t.logEventUnlockSkin=function(t){n.FirebaseTracking.logEventUnlockSkin(t)},t.logEventCreateShortCut=function(t){n.FirebaseTracking.logEventCreateShortCut(t)},t.logEventInviteFriend=function(t){n.FirebaseTracking.logEventInviteFriend(t)},t.logEventShareGame=function(t){n.FirebaseTracking.logEventShareGame(t)},t.logEventQuitGame=function(t){n.FirebaseTracking.logEventQuitGame(t)},t.logEventAdLoadFailed=function(t,e){n.FirebaseTracking.logEventAdLoadFailed(t,e)},t.logEventShowAdFailed=function(t){n.FirebaseTracking.logEventShowAdFailed(t)},t.logEventShowAd=function(t){n.FirebaseTracking.logEventShowAd(t)},t.logEventOptinMessage=function(t){n.FirebaseTracking.logEventOptinMessage(t)},t.logEventUserFromAd=function(t){n.FirebaseTracking.logEventUserFromAd(t),i.GATracking.logEventUserFromAd(t)},t}();o.GameTracking=r,cc._RF.pop()},{"../firebase/FirebaseTracking":"FirebaseTracking","../gameanalytics/GATracking":"GATracking"}],GasGO:[function(t,e,o){"use strict";cc._RF.push(e,"588442xVPdBnYyvqUV0nR/N","GasGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.force=6e3,e.timeFly=0,e}return i(e,t),e.prototype.start=function(){this.timeFly=2*Math.random()},e.prototype.update=function(t){if(this.timeFly-=t,this.timeFly<=0){var e=this.force*(2*Math.random()-1),o=this.force*(2*Math.random()-1);this.body.applyForceToCenter(cc.v2(e,o),!0),this.timeFly=1}},r([s(cc.RigidBody)],e.prototype,"body",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GemsGO:[function(t,e,o){"use strict";cc._RF.push(e,"49758X5lA1HN6r8+iXJWmeX","GemsGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Vec3,c=t("../../level/MapLevel"),s=t("../../config/AudioPlayId"),l=t("../../config/GroupConfig"),p=t("../../MainScene"),u=t("../../config/PhysicsConfig"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"gems")},e.prototype.start=function(){o.transformCount=0,o.colliderBarrieCount=0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.onCollisionEnter=function(t){if(this.available)return t.node.group===l.GroupConfig.LAVA?(this.available=!1,c.default.instance.countGemsDestroyed++,this.startTransform(),void this.node.removeFromParent()):t.node.group===l.GroupConfig.BERRIE||t.node.group===l.GroupConfig.ROCK?(o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&(p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_gems),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)))):void 0},e.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&c.default.instance.isPlaying&&p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water)},e.prototype.updatePositionToTarget=function(){if(this.node.getParent()){var t=this.node.getParent().convertToNodeSpaceAR(this.target.getParent().convertToWorldSpaceAR(this.target.position)),e=new a(t.x,t.y+20,0),o=this.node.position;Math.abs(o.x-e.x)<10&&Math.abs(o.y-e.y)<10?this.node.removeFromParent():this.node.position=o.lerp(e,.1)}},e.prototype.moveToTarget=function(t,e){var o=this;this.scheduleOnce(function(){c.default.instance.isCollectGems&&(o.target=t,o.node.removeComponent(cc.RigidBody),o.node.removeComponent(cc.PhysicsCollider),o.schedule(o.updatePositionToTarget.bind(o)))},e)},e.transformCount=0,e.colliderBarrieCount=0,o=r([f],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],GemsPool:[function(t,e,o){"use strict";cc._RF.push(e,"420batOFCJMka+Gx/ETcTXT","GemsPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GlobalSignals"),c=t("./GemsGO"),s=t("../character/Boss/Boss"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this._collectByBoss=this.collectByBoss.bind(this),a.GlobalSignals.collectGemsSignal.add(this._collectByBoss)},e.prototype.onDisable=function(){a.GlobalSignals.collectGemsSignal.remove(this._collectByBoss)},e.prototype.collectByBoss=function(){cc.log("collectByBoss");var t=s.default.instance.node;this.node.children.forEach(function(e,o){e.getComponent(c.default).moveToTarget(t,.25+.02*o)})},r([p],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../character/Boss/Boss":"Boss","./GemsGO":"GemsGO"}],Girl:[function(t,e,o){"use strict";cc._RF.push(e,"9c8d7UPKxhHT5I6+bJ4H9t8","Girl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Character"),c=t("../../../config/GroupConfig"),s=t("../../../config/GlobalSignals"),l=t("../../../config/TagObject"),p=t("../../../config/AudioPlayId"),u=t("../../../MainScene"),d=t("../../../config/SkinConfig"),f=t("../../../GameData"),h=t("../../../base/utils/GUIUtil"),y=cc._decorator,g=y.ccclass,_=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outAnim="win",e.winAnim="win 2",e.flowerAnim="heart",e.wonderSkin="Wonder",e.wonderAppearAnim="WonderAppear",e.wonderIdleAnim="WonderIdle",e.wonderAttackAnim="WonderAttack",e.wonderOutAnim="WonderOut",e.wonderWinAnim="WonderWin",e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.node.zIndex=100,this.initGirlSkin(),this.hit&&(this.hit.active=!1)},e.prototype.initGirlSkin=function(){var t=d.SkinConfig.getSkinGirlConfigById(f.GameData.currentSkinWife);this.changeSkin(t.skins[0]);var e=d.SkinConfig.getSkinGirlConfigById(f.GameData.currentSkinWife);h.default.ativeSkinFeatureIfHave(e,this.node)},e.prototype.onEnable=function(){u.default.instance.audioPlayer.playAudio(p.AudioPlayId.girl_help)},e.prototype.onAttackCollider=function(e,o){if(t.prototype.onAttackCollider.call(this,e,o),e.node.group===c.GroupConfig.ITEM&&e.node.name==l.TagConfig.HOLY_WATER){try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.removeFromParent()}catch(n){cc.warn(n)}return this.stopMove(),void this.changeSkinToWonder()}if(e.node.group===c.GroupConfig.CHARACTER)return this.getCurrentSkin()===this.wonderSkin&&e.node.name!=l.TagConfig.BOSS?void this.playAttack(e.node):void 0},e.prototype.playOutAnimation=function(t){this.rotateFaceToTarget(t),this.getCurrentSkin()===this.wonderSkin?this.playAnimation(this.wonderOutAnim).addAnimation(this.wonderWinAnim,!0):this.playAnimation(this.outAnim).addAnimation(this.winAnim).addAnimation(this.flowerAnim,!0)},e.prototype.playAnimationGiveEgg=function(t,e,o){this.rotateFaceToTarget(t);var n=this.flowerAnim,i=n;e&&(n=e.skins,i=this.getNameAnimGive2(n),s.GlobalSignals.girlGiveEggSignal.dispatch(e.eggId)),this.playAnimation(this.outAnim).addAnimation(this.winAnim).addAnimation(n).addAnimation(i,!0);var r=this.skeleton.findAnimation(this.outAnim).duration;this.scheduleOnce(function(){o()},r+2.2)},e.prototype.changeSkinToWonder=function(){this.changeSkin(this.wonderSkin),this.playAnimation(this.wonderAppearAnim).addAnimation(this.wonderIdleAnim,!0);var t=this.skeleton.findAnimation(this.wonderAppearAnim).duration;cc.tween(this.skeleton.node).by(t,{position:new cc.Vec3(0,20,0)}).start(),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,u.default.instance.audioPlayer.playAudio(p.AudioPlayId.boss_take_stick);var e=this.groundCollider.node.getComponent(l.default);e&&(e.setTag(l.TagConfig.GIRL_WONDER),cc.log("changeSkinToWonder"))},e.prototype.playAttack=function(t){var e=this;this.hit&&(cc.log("wonder playAttack"),this.rotateFaceToTarget(t),this.playAnimation(this.wonderAttackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.35),this.skeleton.setCompleteListener(function(){e.skeleton.setCompleteListener(null),e.playAnimation(e.wonderIdleAnim,!0),e.hit.active=!1,e.stopMove()}))},e.prototype.onHeadCollider=function(t){this.isAlive&&this.getCurrentSkin()!==this.wonderSkin&&(t.node.group!==c.GroupConfig.ROCK?t.node.group!==c.GroupConfig.ITEM||t.node.name!=l.TagConfig.CHEST&&t.node.name!=l.TagConfig.ITEM||this.onDieNormal():t.node.name==l.TagConfig.BIG_ROCK&&(this.onDieNormal(),this.disablePhysicsBody()))},e.prototype.onBodyCollider=function(t){if(this.isAlive&&this.getCurrentSkin()!==this.wonderSkin)if(t.node.group!==c.GroupConfig.LAVA)if(t.node.group!==c.GroupConfig.SNOW){if(t.node.group===c.GroupConfig.COLLIDER){if(t.node.name==l.TagConfig.REDIRECT_RIGHT||t.node.name==l.TagConfig.REDIRECT_LEFT)return void t.node.removeFromParent();if(t.node.name==l.TagConfig.GAS||t.node.name==l.TagConfig.BOMB)return void this.onDieNormal();if(t.node.name==l.TagConfig.HIT)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},e.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.girl_die)},e.prototype.onDieFire=function(){this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.girl_die)},e.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.girl_die)},e.prototype.getNameAnimGive2=function(t){var e=t.split(/(\d+)/),o=e[0],n=e[1];return o+n+n},r([g],e)}(a.default));o.default=_,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../base/utils/GUIUtil":"GUIUtil","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../Character":"Character"}],GlobalSignals:[function(t,e,o){"use strict";cc._RF.push(e,"d7e33gGPwZO5rCuV5Ept4/A","GlobalSignals"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalSignals=void 0;var n=t("../base/Signal"),i=function(){function t(){}return t.coinUpdateSignal=new n.Signal,t.collectGemsSignal=new n.Signal,t.autoMoveSignal=new n.Signal,t.questFailSignal=new n.Signal,t.questPassSignal=new n.Signal,t.castleUpgradeSignal=new n.Signal,t.changeSkinBossSignal=new n.Signal,t.changeSkinPetSignal=new n.Signal,t.girlGiveEggSignal=new n.Signal,t.bossAttackSignal=new n.Signal,t.bossWalkToTargetSignal=new n.Signal,t.nextLevelSignal=new n.Signal,t}();o.GlobalSignals=i,cc._RF.pop()},{"../base/Signal":"Signal"}],GroupConfig:[function(t,e,o){"use strict";cc._RF.push(e,"fa95d9uKKlENZRSJSsK4VfL","GroupConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GroupConfig=void 0;var n=function(){function t(){}return t.DEFAULT="default",t.LAVA="lava",t.BERRIE="berrie",t.GEMS="gems",t.TOUCH="touch",t.CHARACTER="character",t.WATER="water",t.SNOW="snow",t.ROCK="rock",t.ITEM="item",t.COLLIDER="collider",t.GAS="gas",t.DEAD="dead",t}();o.GroupConfig=n,cc._RF.pop()},{}],HalloweenPopup:[function(t,e,o){"use strict";cc._RF.push(e,"3a406nHb5tMtpxco+Jx/60H","HalloweenPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/MathUtil"),c=t("../config/SkinConfig"),s=t("../GameData"),l=t("./EventHomePinManger"),p=t("./ItemPopupHalloween"),u=cc._decorator,d=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPumkin=null,e.scrollViewSkinBoss=null,e.scrollViewSkinGirl=null,e.progressBarEvent=null,e.nodeItemBoss=null,e.nodeItemGirl=null,e.listItemScrollView=[],e}return i(e,t),e.prototype.onEnable=function(){this.node.active=!0;var t=l.default.instance.helperEvent.getDataEvent();this.updateItem(t),this.updateProgessBar(t),this.updateLbPumkin(t)},e.prototype.onDisable=function(){},e.prototype.updateItem=function(t){for(var e=t.List_Skin_collect_need,o=t.List_Skin_My_Collect,n=t.List_Skin_Girl_Collect,i=0;i<o.length;i++){var r=e[u=o[i]],a=c.SkinConfig.getSkinConfigById(u);(d=this.scrollViewSkinBoss.content.children[i])||(d=cc.instantiate(this.nodeItemBoss),this.scrollViewSkinBoss.content.addChild(d),d.active=!0);var s=d.getComponent(p.default),l=this.checkSkinCanCollect(u,t);s.InitInfo({skinId:u,Value:r,tag:a},l)}for(i=0;i<n.length;i++){var u,d;r=e[u=n[i]],a=c.SkinConfig.getSkinGirlConfigById(u),(d=this.scrollViewSkinGirl.content.children[i])||(d=cc.instantiate(this.nodeItemGirl),this.scrollViewSkinGirl.content.addChild(d),d.active=!0),s=d.getComponent(p.default),l=this.checkSkinCanCollect(u,t),s.InitInfo({skinId:u,Value:r,tag:a},l)}},e.prototype.updateProgessBar=function(t){var e=t.List_Skin_collect_need,o=t.My_Pumpkin_have,n=this.getMaxValueItems(e);this.progressBarEvent.progress=o/n},e.prototype.updateLbPumkin=function(t){var e=t.My_Pumpkin_have;this.lbPumkin.string="Balls:"+e},e.prototype.getMaxValueItems=function(t){var e=0;return Object.keys(t).forEach(function(o){var n=t[o];n>=e&&(e=n)}),e},e.prototype.checkSkinCollected=function(t){return s.GameData.myBossSkins.includes(t)},e.prototype.checkSkinWifeCollected=function(t){return s.GameData.myWifeSkins.includes(t)},e.prototype.checkSkinCanCollect=function(t,e){if(t.includes("boss")){if(this.checkSkinCollected(t))return 2}else if(this.checkSkinWifeCollected(t))return 2;var o=e,n=o.List_Skin_collect_need[t];if(-1==n){var i=a.default.getTimeRest(new Date,e.DateEventReward);return e.DateEventReward.getDay(),i<=0&&e.my_Rank_Event<=100?3:-1}return o.My_Pumpkin_have>=n?3:1},r([f(cc.Label)],e.prototype,"lbPumkin",void 0),r([f(cc.ScrollView)],e.prototype,"scrollViewSkinBoss",void 0),r([f(cc.ScrollView)],e.prototype,"scrollViewSkinGirl",void 0),r([f(cc.ProgressBar)],e.prototype,"progressBarEvent",void 0),r([f(cc.Node)],e.prototype,"nodeItemBoss",void 0),r([f(cc.Node)],e.prototype,"nodeItemGirl",void 0),r([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../base/utils/MathUtil":"MathUtil","../config/SkinConfig":"SkinConfig","./EventHomePinManger":"EventHomePinManger","./ItemPopupHalloween":"ItemPopupHalloween"}],Halloween:[function(t,e,o){"use strict";cc._RF.push(e,"d291en5K/1L0pZsXMuFeNE/","Halloween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.scrollViewSkinBoss=null,e.scrollViewSkinGirl=null,e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s(cc.Label)],e.prototype,"scrollViewSkinBoss",void 0),r([s(cc.Label)],e.prototype,"scrollViewSkinGirl",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Hasher:[function(t,e,o){"use strict";cc._RF.push(e,"1ce7bQAEo5GwqN1P8O2GU7b","Hasher");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var r=function(t){function e(e){var o=t.call(this,Object.assign({blockSize:16},e))||this;return o.reset(),o}return i(e,t),e._createHelper=function(t){return function(e,o){return new t(o).finalize(e)}},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e}(t("../lib/BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=r,cc._RF.pop()},{"../lib/BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],HelperDataHalloween:[function(t,e,o){"use strict";cc._RF.push(e,"c548eW53MVCt7TgJVmxhPMp","HelperDataHalloween"),Object.defineProperty(o,"__esModule",{value:!0}),o.HelperDataHalloween=o.DataHalloween=void 0;var n=t("../UserPlayFab"),i=function(){this.My_Pumpkin_have=0,this.DateEventReward=new Date("2021-10-31T03:24:00"),this.DateEvent=new Date(2021,10,11),this.List_Idskin_Of_Event_Collected=[],this.List_Skin_collect_need={},this.List_Skin_My_Collect=[],this.List_Skin_Girl_Collect=[],this.my_Rank_Event=9999};o.DataHalloween=i;var r=[{skinId:"boss_52",value:50},{skinId:"boss_53",value:100},{skinId:"boss_54",value:150},{skinId:"wife_24",value:300},{skinId:"wife_25",value:500},{skinId:"wife_26",value:-1}],a=function(){function t(){this.dataHalloween=new i;for(var t=0;t<r.length;t++){var e=r[t];this.dataHalloween.List_Skin_collect_need[e.skinId]=e.value,e.skinId.includes("boss")?this.dataHalloween.List_Skin_My_Collect.push(e.skinId):this.dataHalloween.List_Skin_Girl_Collect.push(e.skinId)}}return t.prototype.getDataEvent=function(t){var e=this;n.default.loginsuccessful&&n.default.getMyRankLeadBoard("HalloweenEvent",function(o,n){if(!n){if(o.data.Leaderboard)for(var i=0;i<o.data.Leaderboard.length;i++){var r=o.data.Leaderboard[i];e.dataHalloween.My_Pumpkin_have=r.StatValue,e.dataHalloween.my_Rank_Event=r.Position}t&&t(null,e.dataHalloween)}})},t.prototype.setDataEvent=function(t,e){e&&e(null,this.dataHalloween)},t.prototype.SaveDataEvent=function(){n.default.setLeaderborad(this.dataHalloween.My_Pumpkin_have,"HalloweenEvent",function(){})},t.prototype.clearDataEvent=function(){},t}();o.HelperDataHalloween=a,cc._RF.pop()},{"../UserPlayFab":"UserPlayFab"}],HelperEventHalloween:[function(t,e,o){"use strict";cc._RF.push(e,"dc9fbizrwlBfLTksLYvKoFS","HelperEventHalloween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../GameData"),s=t("./HelperDataHalloween"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(){this.helperData=new s.HelperDataHalloween,this._questFailSignal=this.questFailSignal.bind(this),this._questPassSignal=this.questPassSignal.bind(this),this._collectGemsSignal=this.collectGemsSignal.bind(this)},e.prototype.StartEventHomePin=function(){this.helperData.getDataEvent(),a.GlobalSignals.questFailSignal.add(this._questFailSignal),a.GlobalSignals.questPassSignal.add(this._questPassSignal),a.GlobalSignals.collectGemsSignal.add(this._collectGemsSignal)},e.prototype.EndEventHomePin=function(){a.GlobalSignals.questFailSignal.remove(this._questFailSignal),a.GlobalSignals.questPassSignal.remove(this._questPassSignal),a.GlobalSignals.collectGemsSignal.remove(this._collectGemsSignal)},e.prototype.getDataEvent=function(t){return this.helperData.getDataEvent(t),this.helperData.dataHalloween},e.prototype.setDataEvent=function(t,e){this.helperData.dataHalloween.key&&(this.helperData.dataHalloween.key=e)},e.prototype.SaveDataEvent=function(t,e){this.helperData.SaveDataEvent(t,e)},e.prototype.questFailSignal=function(){},e.prototype.questPassSignal=function(){},e.prototype.collectGemsSignal=function(){this.helperData.dataHalloween.My_Pumpkin_have++,this.SaveDataEvent(null)},e.prototype.checkSkinCollected=function(t){return c.GameData.myBossSkins.includes(t)},e.prototype.checkSkinCanCollect=function(t){if(!this.checkSkinCollected(t))return!1;var e=this.helperData.dataHalloween,o=e.List_Skin_collect_need[t];return e.My_Pumpkin_have>=o},e.prototype.getYouInTop100=function(){},r([p],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","./HelperDataHalloween":"HelperDataHalloween"}],Hex:[function(t,e,o){"use strict";cc._RF.push(e,"c6ade/e3RxN56M3AatxdO1q","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push((n>>>4).toString(16)),e.push((15&n).toString(16))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i+=2)o[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new n.WordArray(o,e/2)},t}();o.Hex=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],HomeScreen:[function(t,e,o){"use strict";cc._RF.push(e,"573e4h+CpRNaq7XKhg4C1Rb","HomeScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MainScene"),c=t("./config/AudioPlayId"),s=t("./GameData"),l=t("./ResUtil"),p=t("./room/MyRoom"),u=t("./plugins/fb/FBInstantGames"),d=t("./plugins/tracking/GameTracking"),f=t("./UserPlayFab"),h=t("./base/utils/StringUtil"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.roomRoot=null,e.uiRoot=null,e.backgroundMusic=null,e.firstInitStartGame=!0,e.visibleRoomId=-1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){s.GameData.initPlayerData(null),o._instance=this,this.activeHomeUI()},e.prototype.start=function(){u.FBInstantGames.getPayloadData(function(t){t&&d.GameTracking.logEventUserFromAd(t.fb_instant_game_ad_id)})},e.prototype.onEnable=function(){cc.log("HomeScreen onEnable"),0===this.roomRoot.childrenCount&&this.loadCurrentRoom(),a.default.instance.initStartGame()},e.prototype.onDisable=function(){this.backgroundMusic&&(a.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null)},e.prototype.activeHomeUI=function(){cc.log("activeHomeUI"),this.uiRoot.active=!0,this.levelLabel.string="LEVEL "+(s.GameData.currentLevelId+1),this.backgroundMusic||(this.backgroundMusic=a.default.instance.audioPlayer.playAudio(c.AudioPlayId.home_music,!0))},e.prototype.initOpenItem=function(t,e){var o=this;cc.log("initOpenItem: roomId = "+t.roomId+", idInRoom = "+t.itemId),this.uiRoot.active=!1;var n=t.roomId-1;if(cc.log("roomId = "+n+", currentRoomId = "+s.GameData.currentRoomId),n!=this.visibleRoomId)this.roomRoot.removeAllChildren(),this.loadCurrentRoom(function(){var n=o.roomRoot.children[0].getComponent(p.default);n&&n.openItem(t,e)});else if(this.roomRoot.childrenCount>0){var i=this.roomRoot.children[0].getComponent(p.default);i&&i.openItem(t,e)}},e.prototype.loadCurrentRoom=function(t){void 0===t&&(t=null),console.log("loadCurrentRoom: "+s.GameData.currentRoomId)},e.prototype.loadRoom=function(t,e){var o=this;void 0===e&&(e=null),console.log("loadRoom: "+t),a.default.instance.showLoading(),l.ResUtil.loadRoomById(t,function(n){a.default.instance.hideLoading(),o.roomRoot.childrenCount>0&&o.roomRoot.removeAllChildren();var i=cc.instantiate(n);o.visibleRoomId=t,o.roomRoot.addChild(i),e&&e()})},e.prototype.playGame=function(){null!=a.default.instance.loadLevelCallback?(a.default.instance.showLoading(),a.default.instance.loadLevelCallback=function(){a.default.instance.showGamePlayScreen(),a.default.instance.hideLoading()}):a.default.instance.showGamePlayScreen()},e.prototype.onClickSetting=function(){a.default.instance.showSettingPopup()},e.prototype.onClickSelectRoom=function(){a.default.instance.showSelectRoomPopup()},e.prototype.onClickOutfit=function(){a.default.instance.showSkinPopup()},e.prototype.onClickHouse=function(){null!=a.default.instance.loadKingdomBuilderCallback?(a.default.instance.showLoading(),a.default.instance.loadKingdomBuilderCallback=function(){a.default.instance.showCastleScreen(),a.default.instance.hideLoading()}):a.default.instance.showCastleScreen()},e.prototype.onClickShare=function(){u.FBInstantGames.onShareGame(function(){d.GameTracking.logEventShareGame(s.GameData.currentLevelId)})},e.prototype.onClickInvite=function(){u.FBInstantGames.inviteFriends(function(){d.GameTracking.logEventInviteFriend(s.GameData.currentLevelId)})},e.prototype.onClickEvent=function(){a.default.instance.showEventPopup()},e.prototype.onClickRank=function(){null!=h.StringUtil.splitCountry(f.default.DisplayName).countryCodes||""!=f.default.UserCountryCode?a.default.instance.showRankPopup({type:"normal",StatisticName:"",StatValue:"Level"}):a.default.instance.showEntryYourNamePopup({type:"normal",StatisticName:"",StatValue:"Level"})},e.prototype.onClickGift=function(){a.default.instance.showDailyPopup()},e.prototype.onClickPet=function(){a.default.instance.showPetPopup()},e._instance=null,r([_(cc.Label)],e.prototype,"levelLabel",void 0),r([_(cc.Node)],e.prototype,"roomRoot",void 0),r([_(cc.Node)],e.prototype,"uiRoot",void 0),o=r([g],e)}(cc.Component);o.default=v,cc._RF.pop()},{"./GameData":"GameData","./MainScene":"MainScene","./ResUtil":"ResUtil","./UserPlayFab":"UserPlayFab","./base/utils/StringUtil":"StringUtil","./config/AudioPlayId":"AudioPlayId","./plugins/fb/FBInstantGames":"FBInstantGames","./plugins/tracking/GameTracking":"GameTracking","./room/MyRoom":"MyRoom"}],HouseBuilder:[function(t,e,o){"use strict";cc._RF.push(e,"6244a54NMBCBY/tZl80v46P","HouseBuilder");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.houseName="",e.arrayLevels=[],e.level=0,e}return i(e,t),e.prototype.showLevel=function(t){this.level=t,this.arrayLevels.forEach(function(e,o){e.active=o===t-1})},r([s(cc.String)],e.prototype,"houseName",void 0),r([s([cc.Node])],e.prototype,"arrayLevels",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],HouseItem:[function(t,e,o){"use strict";cc._RF.push(e,"669b64o5WxCU4MshLeUtVEB","HouseItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../base/utils/StringUtil"),s=t("../config/GlobalSignals"),l=t("../config/KingdomConfig"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.completeLabel=null,e.progressBar=null,e.starFrames=[],e.arrayStars=[],e.icon1=null,e.icon2=null,e.arrow=null,e.btnBuild=null,e.btnUpgrade=null,e.level=0,e.icon1Pos=null,e.config=null,e.prices=null,e.rootPopup=null,e}return i(e,t),e.prototype.onLoad=function(){this.icon1Pos=this.icon1.node.position},e.prototype.initHouseItem=function(t,e){this.config=t,this.rootPopup=e,this.prices=l.KingdomConfig.getKingdomCfg(t.kingdomName).prices,this.updateBuild(0)},e.prototype.updateBuild=function(t){var e=this;this.level=t,this.arrayStars.forEach(function(o,n){o.spriteFrame=n<t?e.starFrames[1]:e.starFrames[0]}),this.progressBar.fillRange=(t-1)/(this.arrayStars.length-1),t>0&&t<this.arrayStars.length?(this.icon2.node.active=!0,this.arrow.node.active=!0,this.icon1.node.position=this.icon1Pos,this.icon1.spriteFrame=this.config.houseFrames[t-1],this.icon2.spriteFrame=this.config.houseFrames[t]):(this.icon2.node.active=!1,this.arrow.node.active=!1,this.icon1.node.position=this.arrow.node.position,this.icon1.spriteFrame=0===t?this.config.houseFrames[0]:this.config.houseFrames[t-1]),this.btnBuild.node.active=0===t,this.btnUpgrade.node.active=t>0&&t<this.arrayStars.length,this.completeLabel.node.active=t===this.arrayStars.length,this.coinLabel.node.active=t<this.arrayStars.length;var o=!1;if(t<this.arrayStars.length){var n=this.prices[t];this.coinLabel.string=c.StringUtil.preprocessingMoney(n),a.GameData.playerCoin>=n&&(o=!0)}this.coinLabel.node.color=o?cc.Color.WHITE:cc.Color.RED,this.btnBuild.interactable=o,this.btnUpgrade.interactable=o},e.prototype.onClickBuild=function(){var t=this;if(!(this.level>=this.arrayStars.length)){var e=this.prices[this.level];if(a.GameData.playerCoin<e)cc.warn("not enough coin to build");else{var o=this.level+1;a.GameData.saveKingdomItem(this.config.kingdomName,this.config.houseName,o,function(n){n?console.warn("Build failure!"):(console.log("Build Success!"),a.GameData.addCoin(-e),t.rootPopup.active=!1,s.GlobalSignals.castleUpgradeSignal.dispatch(t.config.houseName,o))})}}},r([d(cc.Label)],e.prototype,"coinLabel",void 0),r([d(cc.Label)],e.prototype,"completeLabel",void 0),r([d(cc.Sprite)],e.prototype,"progressBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"starFrames",void 0),r([d([cc.Sprite])],e.prototype,"arrayStars",void 0),r([d(cc.Sprite)],e.prototype,"icon1",void 0),r([d(cc.Sprite)],e.prototype,"icon2",void 0),r([d(cc.Sprite)],e.prototype,"arrow",void 0),r([d(cc.Button)],e.prototype,"btnBuild",void 0),r([d(cc.Button)],e.prototype,"btnUpgrade",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/utils/StringUtil":"StringUtil","../config/GlobalSignals":"GlobalSignals","../config/KingdomConfig":"KingdomConfig"}],ICharacterCollider:[function(t,e,o){"use strict";cc._RF.push(e,"155836eOTtDl5t03fvj3xTX","ICharacterCollider"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IHelperDataEvent:[function(t,e,o){"use strict";cc._RF.push(e,"86aece7hjNHPrBvx4VQECQK","IHelperDataEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator;n.ccclass,n.property,cc._RF.pop()},{}],IHelperEventHomePin:[function(t,e,o){"use strict";cc._RF.push(e,"f7a00f91hZN2qcnRmwgVKO+","IHelperEventHomePin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.StartEventHomePin=function(){},e.prototype.EndEventHomePin=function(){},e.prototype.Init=function(){},e.prototype.getDataEvent=function(){},e.prototype.setDataEvent=function(){},e.prototype.SaveDataEvent=function(){},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],IconQuest:[function(t,e,o){"use strict";cc._RF.push(e,"2a68fO1KYZNaruNiQMRMCHc","IconQuest");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IconQuest=void 0;var i=t("../config/QuestType"),r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.questType=i.QuestType.COLLECT_GEMS,this.icon=null}return n([c({type:cc.Enum(i.QuestType)})],t.prototype,"questType",void 0),n([c(cc.SpriteFrame)],t.prototype,"icon",void 0),n([a("IconQuest")],t)}();o.IconQuest=s,cc._RF.pop()},{"../config/QuestType":"QuestType"}],ItemChest:[function(t,e,o){"use strict";cc._RF.push(e,"681e1NSsvhH4pIVVIjWga3a","ItemChest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/GlobalSignals"),s=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.dieAnim="Fire",e.openAnim="Animation",e.gemsPrefab=null,e.firePrefab2=null,e.collider=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"chest")},e.prototype.start=function(){this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.node.color=new cc.Color(10,10,10,255),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1);var e=this.skeleton.findAnimation(this.openAnim).duration;this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){var e=cc.instantiate(t.gemsPrefab);e.position=cc.Vec3.ZERO,t.node.addChild(e)},e)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab2){var t=cc.instantiate(this.firePrefab2);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.removeFromParent()}).start()}else cc.warn("firePrefab is null")},r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([d(cc.String)],e.prototype,"dieAnim",void 0),r([d(cc.String)],e.prototype,"openAnim",void 0),r([d(cc.Prefab)],e.prototype,"gemsPrefab",void 0),r([d(cc.Prefab)],e.prototype,"firePrefab2",void 0),r([d(s.default)],e.prototype,"collider",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemChooseCountry:[function(t,e,o){"use strict";cc._RF.push(e,"913d53v9+1AoJelSi/CnA3T","ItemChooseCountry");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../ResUtil"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconCountry=null,e.lbnameConntry=null,e.nodeCheck=null,e.btn_click=null,e._isCheck=!1,e.chooseCountryClickCallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button)),a.default.addClickListener(this.btn_click,this.node,"ItemChooseCountry","onClickChooseCountry")},e.prototype.InitInfor=function(t,e,o){var n=this;this.lbnameConntry.string=t,c.ResUtil.getIconCountry(e,function(t,e){t||(n.iconCountry.spriteFrame=e)}),this.chooseCountryClickCallback=o},e.prototype.onClickChooseCountry=function(){this._isCheck=!0,this.activeIconCheck(),this.chooseCountryClickCallback()},e.prototype.activeIconCheck=function(){this.nodeCheck.active=!0},e.prototype.deActiveIconCheck=function(){this.nodeCheck.active=!1},r([p(cc.Sprite)],e.prototype,"iconCountry",void 0),r([p(cc.Label)],e.prototype,"lbnameConntry",void 0),r([p(cc.Node)],e.prototype,"nodeCheck",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../ResUtil":"ResUtil","../base/utils/GUIUtil":"GUIUtil"}],ItemDailyPlus:[function(t,e,o){"use strict";cc._RF.push(e,"890c6EnYHtOkLga5mSvzPXg","ItemDailyPlus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../config/SkinConfig"),s=t("./ItemDaily"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.lbNameAnim=null,e.nodeCoin=null,e}return i(e,t),e.prototype.InitInfo=function(e,o,n){t.prototype.InitInfo.call(this,e,o,n);var i=e.skin;i?(this.setAnim(i),this.nodeCoin.active=!1,this.lbNameAnim.string=i.name):(this.lbNameAnim.node.active=!1,this.skeleton.node.active=!1,this.nodeCoin.active=!0)},e.prototype.setAnim=function(t){this.skeleton.node.active=!0;var e=c.SkinConfig.getSkinConfigById(t.id);this.skeleton.setSkin(e.skins[0]),a.default.ativeSkinFeatureIfHave(e,this.skeleton.node)},r([u(sp.Skeleton)],e.prototype,"skeleton",void 0),r([u(cc.Label)],e.prototype,"lbNameAnim",void 0),r([u(cc.Node)],e.prototype,"nodeCoin",void 0),r([p],e)}(s.default);o.default=d,cc._RF.pop()},{"../base/utils/GUIUtil":"GUIUtil","../config/SkinConfig":"SkinConfig","./ItemDaily":"ItemDaily"}],ItemDailySpecail:[function(t,e,o){"use strict";cc._RF.push(e,"55d14N0rStNfKRNUfrQxa4a","ItemDailySpecail");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ItemDaily:[function(t,e,o){"use strict";cc._RF.push(e,"7f235CueopM6KoP5sx8OHgK","ItemDaily");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("./DailyPopup"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGold=null,e.lbDay=null,e.spriteTick=null,e.spriteGreen=null,e.state=-1,e.clickCallback=null,e}return i(e,t),e.prototype.InitInfo=function(t,e,o){this.cfg=t,this.clickCallback=o,this.lbGold.string=t.gold+"",this.setState(e)},e.prototype.setState=function(t){switch(this.state=t,t){case c.ReceiveConfig.CANT_NOT_RECEVIE:this.spriteGreen.node.active=!1,this.spriteTick.node.active=!1;break;case c.ReceiveConfig.CAN_RECEVIE:this.spriteGreen.node.active=!0,this.spriteTick.node.active=!1;break;case c.ReceiveConfig.RECEVIED:this.spriteGreen.node.active=!0,this.spriteTick.node.active=!0}},e.prototype.onClickClaim=function(){if(this.state===c.ReceiveConfig.CAN_RECEVIE){a.GameData.addCoin(this.cfg.gold);var t=this.cfg.skin;t&&a.GameData.addSkinBoss(t.id,function(){}),this.setState(c.ReceiveConfig.RECEVIED),this.clickCallback(this.cfg)}},r([p(cc.Label)],e.prototype,"lbGold",void 0),r([p(cc.Label)],e.prototype,"lbDay",void 0),r([p(cc.Sprite)],e.prototype,"spriteTick",void 0),r([p(cc.Sprite)],e.prototype,"spriteGreen",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData","./DailyPopup":"DailyPopup"}],ItemLoot:[function(t,e,o){"use strict";cc._RF.push(e,"1fd7e2dGtBKjYNZzFe+WWuR","ItemLoot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemConfig=void 0;var a=t("../../config/GroupConfig"),c=t("../../config/GlobalSignals"),s=t("../../base/ColliderCallback"),l=t("../../config/PhysicsConfig"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(){function t(){this.skin="",this.roomId=1,this.itemId=1}return r([d(cc.Integer)],t.prototype,"roomId",void 0),r([d(cc.Integer)],t.prototype,"itemId",void 0),r([u("ItemConfig")],t)}();o.ItemConfig=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.dieAnim="Die",e.openAnim="animation",e.collider=null,e.itemConfig=null,e.chestPrefab=null,e.flashPrefab=null,e.firePrefab=null,e.isAlive=!0,e}return i(e,t),e.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},e.prototype.start=function(){this.itemConfig.skin=this.skeleton.defaultSkin,this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},e.prototype.onCollisionEnter=function(t){if(this.isAlive)return t.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},e.prototype.openItem=function(){var t=this;this.playAnimation(this.openAnim,!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){t.showFlashEffect()},.2)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.showFireEffect=function(){if(this.firePrefab){var t=cc.instantiate(this.firePrefab);t.setPosition(0,0),t.scale=1,this.node.addChild(t),cc.tween(t).delay(2).call(function(){t.removeFromParent()}).start()}else cc.warn("firePrefab is null")},e.prototype.showFlashEffect=function(){if(this.flashPrefab){var t=cc.instantiate(this.flashPrefab);t.setPosition(0,70),this.node.addChild(t)}else cc.warn("flashPrefab is null")},r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([d(cc.String)],e.prototype,"dieAnim",void 0),r([d(cc.String)],e.prototype,"openAnim",void 0),r([d(s.default)],e.prototype,"collider",void 0),r([d(f)],e.prototype,"itemConfig",void 0),r([d(cc.Prefab)],e.prototype,"chestPrefab",void 0),r([d(cc.Prefab)],e.prototype,"flashPrefab",void 0),r([d(cc.Prefab)],e.prototype,"firePrefab",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemPetSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"bbd1amz6QhGqLgHDsJ7XEIp","ItemPetSwitch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../GameData"),s=t("../ResUtil"),l=t("./PetDataManager"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.skeleton=null,e.light=null,e.ClickCallback=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickPet=function(){if(this.cfg.isHave){this.setActiveLight(!0);var t=c.GameData.getMyPetWithId(this.cfg.petCfg.petId);if(!t)return;var e=l.PetDataManager.cloneAPet(t);e.petLevel=this.cfg.level,c.GameData.setCurrentPet(e,function(){}),a.GlobalSignals.changeSkinPetSignal.dispatch()}this.ClickCallback(this.cfg)},e.prototype.initItemPetSwitch=function(t,e){var o=this;void 0===e&&(e=null),this.ClickCallback=e,this.cfg&&this.cfg.petCfg.petId==t.petCfg.petId||s.ResUtil.getSpineAnimPet(t.petCfg,function(e,n){if(!e){o.skeleton.skeletonData=n;var i="Level"+t.level;o.skeleton.setSkin(i),o.skeleton.setAnimation(0,"Idle",!0)}}),this.cfg=t,t.isHave?(t.isSelected?this.setActiveLight(!0):this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(255,255,255,255)):(this.setActiveLight(!1),this.skeleton.node.color=new cc.Color(0,0,0,255))},e.prototype.setActiveLight=function(t){this.light.active=t},r([d(cc.Label)],e.prototype,"label",void 0),r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([d(cc.Node)],e.prototype,"light",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","./PetDataManager":"PetDataManager"}],ItemPopupHalloween:[function(t,e,o){"use strict";cc._RF.push(e,"ea434DtMp5ISrMXIihd/6DN","ItemPopupHalloween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../base/utils/StringUtil"),s=t("../GameData"),l=t("../MainScene"),p=t("../UserPlayFab"),u=cc._decorator,d=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCollect=null,e.nodeCollect=null,e.anim=null,e.iconClaim=null,e.listiconClaim=[],e.state=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.setState=function(t){this.state=t,1==t?(this.nodeCollect.active=!0,this.iconClaim.node.active=!1):(this.nodeCollect.active=!1,this.iconClaim.node.active=!0),2==t&&(this.iconClaim.spriteFrame=this.listiconClaim[0]),3==t&&(this.iconClaim.spriteFrame=this.listiconClaim[1]),-1==t&&(this.iconClaim.spriteFrame=this.listiconClaim[2])},e.prototype.InitInfo=function(t,e){this.cfg=t,this.lbCollect.string=""+t.Value,this.setState(e),t.tag&&(this.anim.setSkin(t.tag.skins[0]),a.default.ativeSkinFeatureIfHave(t.tag,this.node))},e.prototype.onClickItem=function(){3!=this.state?-1!=this.state||this.onClickTop100():this.onClickClaim()},e.prototype.onClickClaim=function(){2!=this.state&&1!=this.state&&(this.setState(2),this.cfg.skinId.includes("boss")?s.GameData.addSkinBoss(this.cfg.skinId,function(){}):s.GameData.addSkinWife(this.cfg.skinId,function(){}))},e.prototype.onClickTop100=function(){null!=c.StringUtil.splitCountry(p.default.DisplayName).countryCodes||""!=p.default.UserCountryCode?l.default.instance.showRankPopup({type:"event",StatisticName:"HalloweenEvent",StatValue:"Balls"}):l.default.instance.showEntryYourNamePopup({type:"event",StatisticName:"HalloweenEvent",StatValue:"Ball"})},r([f(cc.Label)],e.prototype,"lbCollect",void 0),r([f(cc.Node)],e.prototype,"nodeCollect",void 0),r([f(sp.Skeleton)],e.prototype,"anim",void 0),r([f(cc.Sprite)],e.prototype,"iconClaim",void 0),r([f([cc.SpriteFrame])],e.prototype,"listiconClaim",void 0),r([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../UserPlayFab":"UserPlayFab","../base/utils/GUIUtil":"GUIUtil","../base/utils/StringUtil":"StringUtil"}],ItemRankPopup:[function(t,e,o){"use strict";cc._RF.push(e,"6a435KsRgdFbJWB2RoKz0r4","ItemRankPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ResUtil"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbLevel=null,e.lbPos=null,e.iconCountry=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.InitInfo=function(t,e,o,n){var i=this;switch(this.lbName.string=t,this.lbLevel.string=e+"",this.lbPos.string=o+1+"",a.ResUtil.getIconCountry(n,function(t,e){i.iconCountry.spriteFrame=e}),o){case 0:this.node.color=(new cc.Color).fromHEX("#EB9400");break;case 1:this.node.color=(new cc.Color).fromHEX("#5192FF");break;case 2:this.node.color=(new cc.Color).fromHEX("#57BE59");break;default:this.node.color=(new cc.Color).fromHEX("#2C354A")}},r([l(cc.Label)],e.prototype,"lbName",void 0),r([l(cc.Label)],e.prototype,"lbLevel",void 0),r([l(cc.Label)],e.prototype,"lbPos",void 0),r([l(cc.Sprite)],e.prototype,"iconCountry",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../ResUtil":"ResUtil"}],KDF:[function(t,e,o){"use strict";cc._RF.push(e,"843f5Wu4ulP/IdE+I9A+8Y8","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],KingdomBuilder:[function(t,e,o){"use strict";cc._RF.push(e,"5cd3e60dv1O+KEpmjqVRSZ0","KingdomBuilder");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.HouseItemConfig=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(){function t(){this.kingdomName="",this.houseName="",this.houseFrames=[]}return r([s(cc.String)],t.prototype,"houseName",void 0),r([s([cc.SpriteFrame])],t.prototype,"houseFrames",void 0),r([c("HouseItemConfig")],t)}();o.HouseItemConfig=l;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kingdomName="",e.arrayConfig=[],e}return i(e,t),r([s(cc.String)],e.prototype,"kingdomName",void 0),r([s([l])],e.prototype,"arrayConfig",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],KingdomConfig:[function(t,e,o){"use strict";cc._RF.push(e,"f9fc97JqjZBz4r8UHg3ZItR","KingdomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.KingdomConfig=void 0;var n=function(){function t(){}return t.getKingdomCfg=function(e){for(var o=0;o<t.kingdoms.length;o++)if(t.kingdoms[o].name===e)return t.kingdoms[o];return null},t.kingdoms=[{name:"spring",builder:"SpringBuilder",kingdom:"SpringKingdom",prices:[500,1e3,2e3,3e3,4e3]}],t}();o.KingdomConfig=n,cc._RF.pop()},{}],KingdomData:[function(t,e,o){"use strict";cc._RF.push(e,"e1843F5WQ1HjIIoEA7ubQBA","KingdomData"),Object.defineProperty(o,"__esModule",{value:!0}),o.KingdomData=void 0;var n=t("../plugins/fb/FBInstantData"),i=function(){function t(){}return t.getKingdomData=function(e){var o={};return t.arrConfig.forEach(function(n){var i=t.KEY_KINGDOM+"_"+n;e[i]?o[n]=e[i]:o[n]={}}),o},t.saveKingdomData=function(e,o,i){if(void 0===i&&(i=null),-1!==t.arrConfig.indexOf(e)){var r={};r[t.KEY_KINGDOM+"_"+e]=o,n.FBInstantData.setData(r,i)}else console.warn("saveKingdomData: "+e+" is not Kingdom")},t.KEY_KINGDOM="hp_kingdom",t.SPRING="spring",t.SUMMER="summer",t.AUTUMN="autumn",t.FUTURE="future",t.TOY="toy",t.WINTER="winter",t.arrConfig=[t.SPRING,t.SUMMER,t.AUTUMN,t.FUTURE,t.TOY,t.WINTER],t}();o.KingdomData=i,cc._RF.pop()},{"../plugins/fb/FBInstantData":"FBInstantData"}],KingdomItem:[function(t,e,o){"use strict";cc._RF.push(e,"b4f8dfH/vNPlbUDa29iHr/4","KingdomItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MainScene"),c=t("../GameData"),s=t("../CastleScreen"),l=t("../config/LevelConfig"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kingdomName="",e.levelUnlock=0,e.lock=null,e.label_unlock=null,e.btn_visit=null,e}return i(e,t),e.prototype.onEnable=function(){c.GameData.currentLevelId>=this.levelUnlock&&l.LevelConfig.realLevelSize>=this.levelUnlock?(this.lock.active=!1,this.btn_visit.node.active=!0):(this.lock.active=!0,this.btn_visit.node.active=!1,l.LevelConfig.realLevelSize<this.levelUnlock?(this.label_unlock.string="COMING SOON",this.label_unlock.fontSize=18):this.label_unlock.string="LEVEL "+this.levelUnlock)},e.prototype.onVisit=function(){a.default.instance.selectKingdomPopup.active=!1,s.default.instance.showCastleByName(this.kingdomName)},r([d(cc.String)],e.prototype,"kingdomName",void 0),r([d(cc.Integer)],e.prototype,"levelUnlock",void 0),r([d(cc.Node)],e.prototype,"lock",void 0),r([d(cc.Label)],e.prototype,"label_unlock",void 0),r([d(cc.Button)],e.prototype,"btn_visit",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../CastleScreen":"CastleScreen","../GameData":"GameData","../MainScene":"MainScene","../config/LevelConfig":"LevelConfig"}],Kingdom:[function(t,e,o){"use strict";cc._RF.push(e,"ea71fSHFydO149brcrckKR+","Kingdom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HouseBuilder"),c=t("../GameData"),s=t("../config/GlobalSignals"),l=cc.easeIn,p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kingdomName="",e.toolBuild=null,e.effectPrefab=null,e.buildPopup=null,e.arrayHouse=[],e.onUpgradeHouse=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.toolBuild.active=!1,this.toolBuild.zIndex=10,this.onUpgradeHouse=this.upgradeHouse.bind(this),this.node.children.forEach(function(e){var o=e.getComponent(a.default);o&&t.arrayHouse.push(o)})},e.prototype.onEnable=function(){s.GlobalSignals.castleUpgradeSignal.add(this.onUpgradeHouse);var t=c.GameData.kingdoms[this.kingdomName];t||(console.warn("Kingdom name = "+this.kingdomName+" is undefined"),t={}),this.reloadData(t)},e.prototype.onDisable=function(){s.GlobalSignals.castleUpgradeSignal.remove(this.onUpgradeHouse)},e.prototype.reloadData=function(t){cc.log("reloadData: "+JSON.stringify(t)),this.arrayHouse.forEach(function(e){var o=t[e.houseName];null!=o?e.showLevel(o):e.showLevel(0)})},e.prototype.getHouseBuilderByName=function(t){for(var e=0;e<this.arrayHouse.length;e++)if(this.arrayHouse[e].houseName===t)return this.arrayHouse[e];return null},e.prototype.upgradeHouse=function(t,e){var o=this.getHouseBuilderByName(t);o?this.showBuilderEffect(o.node.position,function(){o.showLevel(e)}):cc.warn("upgradeHouse houseName = "+t+" is null")},e.prototype.showBuilderEffect=function(t,e){var o=this;this.toolBuild.active=!0,this.toolBuild.angle=15,this.toolBuild.x=t.x-this.toolBuild.width,this.toolBuild.y=t.y-this.toolBuild.height/2,cc.Tween.stopAllByTarget(this.toolBuild),cc.tween(this.toolBuild).repeat(6,cc.tween().to(.12,{angle:-20},l(2)).delay(.08).to(.2,{angle:15})).call(function(){o.toolBuild.active=!1}).start(),this.scheduleOnce(function(){o.showAppearEffect(t),e&&e()},2)},e.prototype.showAppearEffect=function(t){var e=cc.instantiate(this.effectPrefab);e.position=t,e.scale=1,this.node.addChild(e),cc.tween(e).delay(.8).call(function(){e.removeFromParent()}).start()},r([d(cc.String)],e.prototype,"kingdomName",void 0),r([d(cc.Node)],e.prototype,"toolBuild",void 0),r([d(cc.Prefab)],e.prototype,"effectPrefab",void 0),r([d(cc.Prefab)],e.prototype,"buildPopup",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals","./HouseBuilder":"HouseBuilder"}],Latin1:[function(t,e,o){"use strict";cc._RF.push(e,"f6b0bnk3FNLBKHcYiu5V4Kz","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.stringify=function(t){for(var e=[],o=0;o<t.sigBytes;o++){var n=t.words[o>>>2]>>>24-o%4*8&255;e.push(String.fromCharCode(n))}return e.join("")},t.parse=function(t){for(var e=t.length,o=[],i=0;i<e;i++)o[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new n.WordArray(o,e)},t}();o.Latin1=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],LavaGO:[function(t,e,o){"use strict";cc._RF.push(e,"6e16a5QKp9Ak4alKXaGXEJE","LavaGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/TagObject"),s=t("../../MainScene"),l=t("../../config/AudioPlayId"),p=t("../../level/MapLevel"),u=t("../../config/PhysicsConfig"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"lava")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=p.default.instance.rockContainer,e=cc.instantiate(this.rockPrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.removeFromParent()},e.prototype.onCollisionEnter=function(t){if(this.available)return t.node.group===a.GroupConfig.WATER||t.node.group==a.GroupConfig.ROCK&&t.node.name==c.TagConfig.ROCK?(this.available=!1,void this.transformToRock()):t.node.group===a.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&(s.default.instance.audioPlayer.playAudio(l.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)))):void 0},e.colliderBarrieCount=0,r([h(cc.Node)],e.prototype,"border",void 0),r([h(cc.Node)],e.prototype,"drop",void 0),r([h(cc.Prefab)],e.prototype,"rockPrefab",void 0),o=r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],LevelConfig:[function(t,e,o){"use strict";cc._RF.push(e,"2052avx87lG+Zk86UhkNUHw","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0;var n=function(){function t(){}return t.levels=["Level-1","Level-2","Level-3","Level-4","Level-5","Level-6","Level-7","Level-8","Level-9","Level-10","Level-11","Level-12","Level-13","Level-14","Level-15","Level-16","Level-17","Level-18","Level-19","Level-20","Level-21","Level-22","Level-23","Level-24","Level-25","Level-26","Level-27","Level-28","Level-29","Level-30","Level-31","Level-32","Level-33","Level-34","Level-35","Level-36","Level-37","Level-38","Level-39","Level-40","Level-41","Level-42","Level-43","Level-44","Level-45","Level-46","Level-47","Level-48","Level-49","Level-50","Level-51","Level-52","Level-53","Level-54","Level-55","Level-56","Level-57","Level-58","Level-59","Level-60","Level-61","Level-62","Level-63","Level-64","Level-65","Level-66","Level-67","Level-68","Level-69","Level-70","Level-71","Level-72","Level-73","Level-74","Level-75","Level-76","Level-77","Level-78","Level-79","Level-80","Level-81","Level-82","Level-83","Level-84","Level-85","Level-86","Level-87","Level-88","Level-89","Level-90","Level-91","Level-92","Level-93","Level-94","Level-95","Level-96"],t.realLevelSize=t.levels.length,t}();o.LevelConfig=n,cc._RF.pop()},{}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"4ddc4u2lIpMcIhU8nQrvONl","Loading"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./base/Task"),i=t("./GameData"),r=t("./plugins/fb/FBInstantAds"),a=t("./plugins/tracking/GameTracking"),c=t("./UserPlayFab");window.Loading={preloadScene:function(t,e){var o=new n.TaskManager;o.addTask(new n.Task(function(){var t=this;i.GameData.initPlayerData(function(){t.completed()})})),o.addTask(new n.Task(function(){})),o.addTask(new n.Task(function(){c.default.SetUp(),c.default.LoginWithFacebookInstantGamesId(),this.completed()})),o.addTask(new n.Task(function(){var t=this,e=window.remoteConfig;e.fetchAndActivate().then(function(){var o=e.getValue("enable_ads");o&&(console.log("Fetch remote config: enable_ads = "+JSON.stringify(o)),r.FBInstantAds.enableAds=0!=o._value),t.completed()}).catch(function(e){console.warn("Fetch remote config: "+e),t.completed()})})),o.run(t,e)},preloadAds:function(){},onQuitGame:function(){a.GameTracking.logEventQuitGame(i.GameData.currentLevelId)}},cc._RF.pop()},{"./GameData":"GameData","./UserPlayFab":"UserPlayFab","./base/Task":"Task","./plugins/fb/FBInstantAds":"FBInstantAds","./plugins/tracking/GameTracking":"GameTracking"}],LocalStorageManager:[function(t,e,o){"use strict";cc._RF.push(e,"4dd86HTCsxBTbnZZjQJS4gi","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageManager=void 0;var n=t("./crypto-ts/lib/WordArray"),i=t("./crypto-ts/crypto-ts"),r=function(){function t(){}return t.encryptKeyItem=function(t){return i.AES.encrypt(t+"",this.KEY_ENCRYPTION_KEY_ITEM,{iv:this.IV_ENCRYPTION_KEY_ITEM}).toString()},t.encryptValueItem=function(t){return i.AES.encrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString()},t.decryptValueItem=function(t){return i.AES.decrypt(t,this.KEY_ENCRYPTION_VALUE_ITEM,{iv:this.IV_ENCRYPTION_VALUE_ITEM}).toString(i.enc.Utf8)},t.setItem=function(t,e){var o=this.encryptKeyItem(t),n=this.encryptValueItem(e);cc.sys.localStorage.setItem(o,n)},t.getItem=function(t){var e=this.encryptKeyItem(t),o=cc.sys.localStorage.getItem(e);return o?this.decryptValueItem(o):null},t.removeItem=function(t){cc.sys.localStorage.removeItem(this.encryptKeyItem(t))},t.KEY_ENCRYPTION_VALUE_ITEM=new n.WordArray([3721848651,3247274e3,1120155838,1670014210],16),t.IV_ENCRYPTION_VALUE_ITEM=new n.WordArray([4236774207,782364970,1158515808,2679783514],16),t.KEY_ENCRYPTION_KEY_ITEM=new n.WordArray([1541276774,3192629469,1059630479,1194558349],16),t.IV_ENCRYPTION_KEY_ITEM=new n.WordArray([1156797778,168578463,3342295823,1238504529],16),t}();o.LocalStorageManager=r,cc._RF.pop()},{"./crypto-ts/crypto-ts":"crypto-ts","./crypto-ts/lib/WordArray":"WordArray"}],MD5:[function(t,e,o){"use strict";cc._RF.push(e,"897afQFVB5Fx7Bx7+H5eL/0","MD5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var r=t("../lib/Hasher"),a=t("../lib/WordArray"),c=[],s=0;s<64;s++)c[s]=4294967296*Math.abs(Math.sin(s+1))|0;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.FF=function(t,e,o,n,i,r,a){var c=t+(e&o|~e&n)+i+a;return(c<<r|c>>>32-r)+e},e.GG=function(t,e,o,n,i,r,a){var c=t+(e&n|o&~n)+i+a;return(c<<r|c>>>32-r)+e},e.HH=function(t,e,o,n,i,r,a){var c=t+(e^o^n)+i+a;return(c<<r|c>>>32-r)+e},e.II=function(t,e,o,n,i,r,a){var c=t+(o^(e|~n))+i+a;return(c<<r|c>>>32-r)+e},e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new a.WordArray([1732584193,4023233417,2562383102,271733878])},e.prototype._doProcessBlock=function(t,o){for(var n=0;n<16;n++){var i=o+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,s=t[o+0],l=t[o+1],p=t[o+2],u=t[o+3],d=t[o+4],f=t[o+5],h=t[o+6],y=t[o+7],g=t[o+8],_=t[o+9],v=t[o+10],m=t[o+11],b=t[o+12],C=t[o+13],P=t[o+14],S=t[o+15],k=a[0],O=a[1],R=a[2],A=a[3];k=e.FF(k,O,R,A,s,7,c[0]),A=e.FF(A,k,O,R,l,12,c[1]),R=e.FF(R,A,k,O,p,17,c[2]),O=e.FF(O,R,A,k,u,22,c[3]),k=e.FF(k,O,R,A,d,7,c[4]),A=e.FF(A,k,O,R,f,12,c[5]),R=e.FF(R,A,k,O,h,17,c[6]),O=e.FF(O,R,A,k,y,22,c[7]),k=e.FF(k,O,R,A,g,7,c[8]),A=e.FF(A,k,O,R,_,12,c[9]),R=e.FF(R,A,k,O,v,17,c[10]),O=e.FF(O,R,A,k,m,22,c[11]),k=e.FF(k,O,R,A,b,7,c[12]),A=e.FF(A,k,O,R,C,12,c[13]),R=e.FF(R,A,k,O,P,17,c[14]),O=e.FF(O,R,A,k,S,22,c[15]),k=e.GG(k,O,R,A,l,5,c[16]),A=e.GG(A,k,O,R,h,9,c[17]),R=e.GG(R,A,k,O,m,14,c[18]),O=e.GG(O,R,A,k,s,20,c[19]),k=e.GG(k,O,R,A,f,5,c[20]),A=e.GG(A,k,O,R,v,9,c[21]),R=e.GG(R,A,k,O,S,14,c[22]),O=e.GG(O,R,A,k,d,20,c[23]),k=e.GG(k,O,R,A,_,5,c[24]),A=e.GG(A,k,O,R,P,9,c[25]),R=e.GG(R,A,k,O,u,14,c[26]),O=e.GG(O,R,A,k,g,20,c[27]),k=e.GG(k,O,R,A,C,5,c[28]),A=e.GG(A,k,O,R,p,9,c[29]),R=e.GG(R,A,k,O,y,14,c[30]),O=e.GG(O,R,A,k,b,20,c[31]),k=e.HH(k,O,R,A,f,4,c[32]),A=e.HH(A,k,O,R,g,11,c[33]),R=e.HH(R,A,k,O,m,16,c[34]),O=e.HH(O,R,A,k,P,23,c[35]),k=e.HH(k,O,R,A,l,4,c[36]),A=e.HH(A,k,O,R,d,11,c[37]),R=e.HH(R,A,k,O,y,16,c[38]),O=e.HH(O,R,A,k,v,23,c[39]),k=e.HH(k,O,R,A,C,4,c[40]),A=e.HH(A,k,O,R,s,11,c[41]),R=e.HH(R,A,k,O,u,16,c[42]),O=e.HH(O,R,A,k,h,23,c[43]),k=e.HH(k,O,R,A,_,4,c[44]),A=e.HH(A,k,O,R,b,11,c[45]),R=e.HH(R,A,k,O,S,16,c[46]),O=e.HH(O,R,A,k,p,23,c[47]),k=e.II(k,O,R,A,s,6,c[48]),A=e.II(A,k,O,R,y,10,c[49]),R=e.II(R,A,k,O,P,15,c[50]),O=e.II(O,R,A,k,f,21,c[51]),k=e.II(k,O,R,A,b,6,c[52]),A=e.II(A,k,O,R,u,10,c[53]),R=e.II(R,A,k,O,v,15,c[54]),O=e.II(O,R,A,k,l,21,c[55]),k=e.II(k,O,R,A,g,6,c[56]),A=e.II(A,k,O,R,S,10,c[57]),R=e.II(R,A,k,O,h,15,c[58]),O=e.II(O,R,A,k,C,21,c[59]),k=e.II(k,O,R,A,d,6,c[60]),A=e.II(A,k,O,R,m,10,c[61]),R=e.II(R,A,k,O,p,15,c[62]),O=e.II(O,R,A,k,_,21,c[63]),a[0]=a[0]+k|0,a[1]=a[1]+O|0,a[2]=a[2]+R|0,a[3]=a[3]+A|0},e.prototype._doFinalize=function(){var t=this._data,e=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;var i=Math.floor(o/4294967296),r=o;e[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var a=this._hash,c=a.words,s=0;s<4;s++){var l=c[s];c[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},e}(r.Hasher);o.MD5=l,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],MMFollowTarget:[function(t,e,o){"use strict";cc._RF.push(e,"2b317ZQYhRI7ok1fNnPWu7w","MMFollowTarget");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=t.call(this)||this;return e.followTarget=null,e.isFollowRotation=!0,e.offset=new cc.Vec3,e.moveSpeed=3,e.isPlayingStart=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.showStart=function(){},e.prototype.lateUpdate=function(){if(this.followTarget){this.node.position,this.node.scaleX=this.followTarget.scaleX;var t=this.offset;this.isFollowRotation,console.log(this.followTarget.position);var e=new cc.Vec3(this.followTarget.x+t.x*this.followTarget.scaleX,this.followTarget.position.y+t.y*this.followTarget.scaleY,this.followTarget.position.z+t.z);if(this.node.setPosition(e),this.node.lookAt(this.followTarget.position,new cc.Vec3(0,1,0)),this.isFollowRotation){var o=new cc.Vec3(this.node.eulerAngles);o.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=o}}},r([s(cc.Node)],e.prototype,"followTarget",void 0),r([s],e.prototype,"isFollowRotation",void 0),r([s],e.prototype,"offset",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"e7bbbEKKihNqagxA1NBLeup","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./base/audio/AudioPlayer"),c=t("./config/AudioPlayId"),s=t("./PrefabManager"),l=t("./PrefabType"),p=t("./GameData"),u=t("./ResUtil"),d=t("./plugins/fb/FBInstantAds"),f=t("./ScreenManager"),h=t("./base/Task"),y=t("./CastleScreen"),g=t("./BackgroundLoader"),_=t("./event/EventPopup"),v=t("./rank/RankPopup"),m=t("./chooseCountryPopup/ChooseCountryPopup"),b=t("./dailyPopup/DailyPopup"),C=t("./pets/PetPopup"),P=cc._decorator,S=P.ccclass,k=P.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioPlayer=null,e.screenManager=null,e.nodePopups=null,e.loading=null,e.testPrefab=null,e.testStartLevel=0,e.settingPopup=null,e.selectRoomPopup=null,e.selectKingdomPopup=null,e.buildKingdomPopup=null,e.skinPopup=null,e.eventPopup=null,e.rankPopup=null,e.chooseCountryPopup=null,e.dailyPopup=null,e.petPopup=null,e.arrayPopup=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.testStartLevel>=1&&(p.GameData.currentLevelId=this.testStartLevel-1)},e.prototype.onEnable=function(){this.testPrefab?this.screenManager.showScreenById(f.ScreenId.PLAY_SCREEN,null,!0):this.screenManager.showScreenById(f.ScreenId.HOME_SCREEN,null,!0)},e.prototype.initStartGame=function(){var t=this;g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadLevelCallback=null,u.ResUtil.loadLevelById(p.GameData.currentLevelReal,function(o){e.completed(),t.loadLevelCallback&&t.loadLevelCallback(o)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadRoomSelectCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.SELECT_ROOM,function(o){e.completed(),t.loadRoomSelectCallback&&t.loadRoomSelectCallback(o)})}));var e=y.default.KingdomDefault;g.BackgroundLoader.addTask(new h.Task(function(){var o=this;t.loadKingdomCallback=null,u.ResUtil.loadKingdomByName(e,function(e){o.completed(),t.loadKingdomCallback&&t.loadKingdomCallback(e)})})),g.BackgroundLoader.addTask(new h.Task(function(){var o=this;t.loadKingdomBuilderCallback=null,u.ResUtil.loadKingdomBuilderByName(e,function(e){o.completed(),t.loadKingdomBuilderCallback&&t.loadKingdomBuilderCallback(e)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadKingdomSelectCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.SELECT_KINGDOM,function(o){e.completed(),t.loadKingdomSelectCallback&&t.loadKingdomSelectCallback(o)})})),d.FBInstantAds.adsConfig=window.adsConfig,d.FBInstantAds.lastLevelShowAds=p.GameData.currentLevelId,g.BackgroundLoader.addTask(new h.Task(function(){var t=this;d.FBInstantAds.preloadInterstitialAd(function(){t.completed()})})),g.BackgroundLoader.addTask(new h.Task(function(){var t=this;d.FBInstantAds.preloadRewardedVideoAd(function(){t.completed()})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadSkinPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.SKIN_POPUP,function(o){e.completed(),t.loadSkinPopupCallback&&t.loadSkinPopupCallback(o)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadEventPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.EVENT_POPUP,function(o){e.completed(),t.loadEventPopupCallback&&t.loadEventPopupCallback(o)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadRankPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.RANK_POPUP,function(o){e.completed(),t.loadRankPopupCallback&&t.loadRankPopupCallback(o)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadDailyPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.DAILY_POPUP,function(o){e.completed(),t.loadDailyPopupCallback&&t.loadDailyPopupCallback(o)})})),g.BackgroundLoader.addTask(new h.Task(function(){var e=this;t.loadPetPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.PET_POPUP,function(o){e.completed(),t.loadPetPopupCallback&&t.loadPetPopupCallback(o)})}))},e.prototype.playAudioClick=function(){this.audioPlayer.playAudio(c.AudioPlayId.button_click)},e.prototype.showHomeScreen=function(t){void 0===t&&(t=null),this.screenManager.showScreenById(f.ScreenId.HOME_SCREEN,t)},e.prototype.showGamePlayScreen=function(t){void 0===t&&(t=null),this.screenManager.showScreenById(f.ScreenId.PLAY_SCREEN,t)},e.prototype.showCastleScreen=function(t){void 0===t&&(t=null),this.screenManager.showScreenById(f.ScreenId.CASTLE_SCREEN,t)},e.prototype.showSettingPopup=function(){var t=this;this.settingPopup?this.settingPopup.active=!0:this.createPopupByType(l.PrefabType.SETTING,function(e){t.settingPopup=e,t.settingPopup.active=!0})},e.prototype.showSelectRoomPopup=function(){var t=this;if(this.selectRoomPopup)this.selectRoomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.SELECT_ROOM,function(e){t.selectRoomPopup=e,t.selectRoomPopup.active=!0,t.hideLoading()})};void 0===this.loadRoomSelectCallback?this.loadRoomSelectCallback=e:e()}},e.prototype.showSelectKingdomPopup=function(){var t=this;if(this.selectKingdomPopup)this.selectKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.SELECT_KINGDOM,function(e){t.selectKingdomPopup=e,t.selectKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomSelectCallback?this.loadKingdomSelectCallback=e:e()}},e.prototype.showBuildKingdomPopup=function(){var t=this;if(this.buildKingdomPopup)this.buildKingdomPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.BUILD_KINGDOM,function(e){t.buildKingdomPopup=e,t.buildKingdomPopup.active=!0,t.hideLoading()})};void 0===this.loadKingdomBuilderCallback?this.loadKingdomBuilderCallback=e:e()}},e.prototype.showSkinPopup=function(){var t=this;if(this.skinPopup)this.skinPopup.active=!0;else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.SKIN_POPUP,function(e){t.skinPopup=e,t.skinPopup.active=!0,t.hideLoading()})};void 0===this.loadSkinPopupCallback?this.loadSkinPopupCallback=e:e()}},e.prototype.showEventPopup=function(){var t=this;if(this.eventPopup)this.eventPopup.Show();else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.EVENT_POPUP,function(e){t.eventPopup=e.getComponent(_.default),t.eventPopup.Show(),t.hideLoading()})};void 0===this.loadEventPopupCallback?this.loadEventPopupCallback=e:e()}},e.prototype.showRankPopup=function(t){var e=this;if(this.rankPopup)this.rankPopup.Show(t);else{var o=function(){e.showLoading(),e.createPopupByType(l.PrefabType.RANK_POPUP,function(o){e.rankPopup=o.getComponent(v.default),e.rankPopup.Show(t),e.hideLoading()})};void 0===this.loadRankPopupCallback?this.loadRankPopupCallback=o:o()}},e.prototype.showEntryYourNamePopup=function(t){var e=this;if(this.chooseCountryPopup)this.chooseCountryPopup.Show(t);else{var o=function(){e.showLoading(),e.createPopupByType(l.PrefabType.CHOOSECOUNTRY_POPUP,function(o){e.chooseCountryPopup=o.getComponent(m.default),e.chooseCountryPopup.Show(t),e.hideLoading()})};void 0===this.loadEntryYourNamePopupCallback?this.loadEntryYourNamePopupCallback=o:o()}},e.prototype.showDailyPopup=function(){var t=this;if(this.dailyPopup)this.dailyPopup.Show();else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.DAILY_POPUP,function(e){t.dailyPopup=e.getComponent(b.default),t.dailyPopup.Show(),t.hideLoading()})};void 0===this.loadDailyPopupCallback?this.loadDailyPopupCallback=e:e()}},e.prototype.showPetPopup=function(){var t=this;if(this.petPopup)this.petPopup.Show();else{var e=function(){t.showLoading(),t.createPopupByType(l.PrefabType.PET_POPUP,function(e){t.petPopup=e.getComponent(C.default),t.petPopup.Show(),t.hideLoading()})};void 0===this.loadPetPopupCallback?this.loadPetPopupCallback=e:e()}},e.prototype.createPopupByType=function(t,e,o){var n=this;void 0===o&&(o=null),null===o&&(o=t),s.default.instance.loadPrefabByType(t,function(t){var i=cc.instantiate(t);n.nodePopups.addChild(i,o),n.arrayPopup.push(i),e(i)})},e.prototype.showLoading=function(){this.loading&&(this.loading.active=!0)},e.prototype.hideLoading=function(){this.loading&&(this.loading.active=!1)},e._instance=null,r([k(a.default)],e.prototype,"audioPlayer",void 0),r([k(f.default)],e.prototype,"screenManager",void 0),r([k(cc.Node)],e.prototype,"nodePopups",void 0),r([k(cc.Node)],e.prototype,"loading",void 0),r([k(cc.Prefab)],e.prototype,"testPrefab",void 0),r([k(cc.Integer)],e.prototype,"testStartLevel",void 0),o=r([S],e)}(cc.Component);o.default=O,cc._RF.pop()},{"./BackgroundLoader":"BackgroundLoader","./CastleScreen":"CastleScreen","./GameData":"GameData","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./ScreenManager":"ScreenManager","./base/Task":"Task","./base/audio/AudioPlayer":"AudioPlayer","./chooseCountryPopup/ChooseCountryPopup":"ChooseCountryPopup","./config/AudioPlayId":"AudioPlayId","./dailyPopup/DailyPopup":"DailyPopup","./event/EventPopup":"EventPopup","./pets/PetPopup":"PetPopup","./plugins/fb/FBInstantAds":"FBInstantAds","./rank/RankPopup":"RankPopup"}],MapLevel:[function(t,e,o){"use strict";cc._RF.push(e,"93a86QtMkBNjpRK2sTnJOCG","MapLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/QuestType"),c=t("../config/GameState"),s=t("../config/GlobalSignals"),l=t("../objects/barrier/StickHold"),p=t("../objects/character/Character"),u=t("../base/TouchManager"),d=t("../objects/more/ItemLoot"),f=t("../base/utils/ArrayUtil"),h=t("../GameData"),y=t("../PlayScreen"),g=cc._decorator,_=g.ccclass,v=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questType=a.QuestType.COLLECT_GEMS,e.gameState=c.GameState.BEGIN,e.arrStickToActive=[],e.arrEnemies=[],e.itemLoot=null,e.tipLabel=null,e.isCollectGems=!1,e._countGemsDestroyed=0,e._countGemsCollected=0,e._rockContainer=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.gameState===c.GameState.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectGems",{get:function(){return this.questType===a.QuestType.COLLECT_GEMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestCollectItem",{get:function(){return this.questType===a.QuestType.COLLECT_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestSaveHostage",{get:function(){return this.questType===a.QuestType.SAVE_HOSTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestKillEnemies",{get:function(){return this.questType===a.QuestType.KILL_ENEMY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQuestOpenChest",{get:function(){return this.questType===a.QuestType.OPEN_CHEST},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsDestroyed",{get:function(){return this._countGemsDestroyed},set:function(t){this._countGemsDestroyed=t,15!==this._countGemsDestroyed||this.isCollectGems||s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countGemsCollected",{get:function(){return this._countGemsCollected},set:function(t){this._countGemsCollected=t,5===this._countGemsCollected&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,s.GlobalSignals.collectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rockContainer",{get:function(){return this._rockContainer||(this._rockContainer=new cc.Node,this.node.addChild(this._rockContainer)),this._rockContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.gameState=c.GameState.PLAYING},.6);var e=this.onActiveStick.bind(this);if(this.arrStickToActive.forEach(function(t){t.setHoldCallback(e)}),this.isQuestKillEnemies){var o=this.onEnemiesDead.bind(this);this.arrEnemies.forEach(function(t){var e=t.getComponent(p.default);e&&e.setDeadCallback(o)})}this.isQuestCollectItem&&this.itemLoot&&h.GameData.checkItemCollected(this.itemLoot)&&this.replaceItemByChest(),u.default.instance&&u.default.instance.reset()},e.prototype.onEnable=function(){this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal)},e.prototype.onDisable=function(){s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal)},e.prototype.onQuestFail=function(){this.gameState=c.GameState.LOSE},e.prototype.onQuestPass=function(){this.gameState=c.GameState.WIN},e.prototype.onActiveStick=function(t){var e=this;0!==this.arrStickToActive.length&&(f.default.removeElement(this.arrStickToActive,t),0===this.arrStickToActive.length&&this.scheduleOnce(function(){e.isPlaying&&s.GlobalSignals.autoMoveSignal.dispatch()},.25))},e.prototype.onEnemiesDead=function(t){var e=this;0!==this.arrEnemies.length&&(f.default.removeElement(this.arrEnemies,t),0===this.arrEnemies.length&&this.isQuestKillEnemies&&this.scheduleOnce(function(){e.isPlaying&&s.GlobalSignals.questPassSignal.dispatch()},.6))},e.prototype.replaceItemByChest=function(){cc.log("replaceItemByChest");var t=cc.instantiate(this.itemLoot.chestPrefab);this.node.addChild(t),t.position=this.itemLoot.node.position,t.setSiblingIndex(this.itemLoot.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.itemLoot.node.removeFromParent(),this.questType=a.QuestType.OPEN_CHEST,y.default.instance.updateLevelInfo(h.GameData.currentLevelId,this.questType)},e._instance=null,r([v({type:cc.Enum(a.QuestType)})],e.prototype,"questType",void 0),r([v([l.default])],e.prototype,"arrStickToActive",void 0),r([v([cc.Node])],e.prototype,"arrEnemies",void 0),r([v(d.default)],e.prototype,"itemLoot",void 0),r([v(cc.Label)],e.prototype,"tipLabel",void 0),o=r([_],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../base/TouchManager":"TouchManager","../base/utils/ArrayUtil":"ArrayUtil","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/QuestType":"QuestType","../objects/barrier/StickHold":"StickHold","../objects/character/Character":"Character","../objects/more/ItemLoot":"ItemLoot"}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b05f8iW0xpDR7/QZeh1WLv8","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.randomBeetWeenFloor=function(t,e){return Math.floor(this.randomBeetWeen(t,e))},t.randomBeetWeenFloor1=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.randomBeetWeen=function(t,e){return Math.random()*(e-t)+t},t.getEuclidDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.randomInt=function(t){return Math.floor(Math.random()*t)},t.getRandomFrom=function(t){return t[this.randomInt(t.length)]},t.getRandomSurround=function(t,e){var o=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.x,n=this.getRandomFrom([-1,1])*Math.floor(Math.random()*e)+t.y;return new cc.Vec2(o,n)},t.getTimeRest=function(t,e){return Math.floor((e.getTime()-t.getTime())/1e3)},t.getTimeToString=function(t){if(t<0)return"00:00:00";var e=Math.floor(t/3600%24)+"",o=Math.floor(t/60%60)+"",n=Math.floor(t%60)+"";return e.length<2&&(e="0"+e),o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),e+":"+o+":"+n},t}();o.default=n,cc._RF.pop()},{}],MoveCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"e8b3bJpT95DF5LXqOlQdvTC","MoveCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Vec2,c=t("../../base/PhysicalEnable"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Velocity_X=120,e.Jump=30,e.enableOverTerrain=!0,e.Rigid_Body=null,e.Direction=0,e}return i(e,t),e.prototype.onLoad=function(){this.Rigid_Body=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){console.log(this.Rigid_Body.getMass(),this.node.name),this.Walk_Force=1e3*this.Rigid_Body.getMass(),this.Jump_Force=1e3*this.Rigid_Body.getMass()*this.Jump},e.prototype.moveLeft=function(){this.Direction=-1},e.prototype.moveRight=function(){this.Direction=1},e.prototype.moveJump=function(){this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0)},e.prototype.stopMove=function(){this.Direction=0,this.Rigid_Body.linearVelocity=a.ZERO},e.prototype.update=function(){if((this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force*c.default.REAL_GRAVITY_SCALE,0),!0),this.enableOverTerrain&&(this.Direction>0&&this.Rigid_Body.linearVelocity.x<10||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-10)){var t=this.Rigid_Body.linearVelocity.y<30?5:-10;this.Rigid_Body.applyForceToCenter(cc.v2(0,t*this.Walk_Force*c.default.REAL_GRAVITY_SCALE),!0)}},r([p(cc.Float)],e.prototype,"Velocity_X",void 0),r([p(cc.Float)],e.prototype,"Jump",void 0),r([p(cc.Boolean)],e.prototype,"enableOverTerrain",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../base/PhysicalEnable":"PhysicalEnable"}],MyAudioPlayer:[function(t,e){"use strict";cc._RF.push(e,"a7628SEG81DQrwsRPOprRnj","MyAudioPlayer");var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=n?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(o,r,a):o[r]=t[r]}return o.default=t,e&&e.set(t,o),o}(t("./AudioPlayer")),n=t("../../config/AudioPlayId");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}cc.Class({extends:o.default,properties:{arrayAudioObj:{type:[o.AudioObject],default:function(){var t=[];for(var e in n.AudioPlayId){var i=new o.AudioObject;i.name=n.AudioPlayId[e+""],i.isMusic=!1,i.audioClip=null,t.push(i)}return t},override:!0}}}),cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioPlayer":"AudioPlayer"}],MyRoom:[function(t,e,o){"use strict";cc._RF.push(e,"73b4e4nWfpO3aCoMUirYPtQ","MyRoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./OpenItem"),c=t("./ReplaceItem"),s=t("../GameData"),l=t("../config/RoomConfig"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boss=null,e.openItemPrefab=null,e.items=[],e.roomId=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.roomId=l.RoomConfig.getRoomIdByName(this.node.name),this.roomId<s.GameData.currentRoomId?(cc.log("unlock all items roomId = "+s.GameData.currentRoomId),this.items.forEach(function(t){t.replaceBy.active=!0,t.node.active=!1})):(cc.log("init GameData.arrayItem = "+s.GameData.arrayItem),s.GameData.arrayItem.forEach(function(e){t.items[e-1].replaceBy.active=!0,t.items[e-1].node.active=!1}),s.GameData.arrayItem.length===l.RoomConfig.rooms[s.GameData.currentRoomId].size&&(s.GameData.currentRoomId++,s.GameData.arrayItem=[],cc.log("unlock roomId = "+s.GameData.currentRoomId)))},e.prototype.openItem=function(t,e){var o=this;cc.log("openItem"),s.GameData.addRoomItem(t.itemId,this.roomId),this.boss.setAnimation(0,"Idle",!0);var n=cc.instantiate(this.openItemPrefab);this.node.addChild(n);var i=n.getComponent(a.default);i.show(t),i.setOpenCallback(function(n,i){cc.log("setOpenCallback");var r=o.items[t.itemId-1];cc.tween(n).to(.5,{position:r.node.position,scale:.6}).call(function(){o.boss.setAnimation(0,"IdleNice",!0),o.showEffectAppear(i,r.node.position),n.removeFromParent(),r.replace(e)}).start()})},e.prototype.showEffectAppear=function(t,e){if(t){var o=cc.instantiate(t);o.setPosition(e),o.scale=1,this.node.addChild(o),cc.tween(o).delay(.8).call(function(){o.removeFromParent()}).start()}else cc.warn("effectPrefab is null")},e.prototype.onDisable=function(){this.boss.setAnimation(0,"Dance",!0)},r([d(sp.Skeleton)],e.prototype,"boss",void 0),r([d(cc.Prefab)],e.prototype,"openItemPrefab",void 0),r([d([c.default])],e.prototype,"items",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../config/RoomConfig":"RoomConfig","./OpenItem":"OpenItem","./ReplaceItem":"ReplaceItem"}],NoPadding:[function(t,e,o){"use strict";cc._RF.push(e,"38edcJmpCxB+7H8EcyM17AP","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var n=function(){function t(){}return t.pad=function(){},t.unpad=function(){},t}();o.NoPadding=n,cc._RF.pop()},{}],NodeFixSize:[function(t,e,o){"use strict";cc._RF.push(e,"ac315ALtiZAaIv7DzDPnY3h","NodeFixSize");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixWidth=!1,e.fixHeight=!1,e.auto=!1,e}return i(e,t),e.prototype.onEnable=function(){if(this.fixWidth||this.fixHeight||this.auto){var t=cc.winSize;if(this.auto&&(this.node.width/this.node.height<t.width/t.height?(this.fixHeight=!1,this.fixWidth=!0):(this.fixHeight=!0,this.fixWidth=!1)),this.fixWidth&&this.fixHeight)return this.node.width=t.width,void(this.node.height=t.height);var e=this.fixWidth?t.width/this.node.width:t.height/this.node.height;this.node.width*=e,this.node.height*=e}},r([s(cc.Boolean)],e.prototype,"fixWidth",void 0),r([s(cc.Boolean)],e.prototype,"fixHeight",void 0),r([s(cc.Boolean)],e.prototype,"auto",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NumberUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5f57bf0wUVL5oDhX1pS612S","NumberUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.step=.01,e._formatFunc=null,e._currentNumber=0,e._dstNumber=0,e}return i(e,t),Object.defineProperty(e.prototype,"currentNumber",{get:function(){return this._currentNumber},set:function(t){this._currentNumber=t,this.updateLabel()},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.label||(this.label=this.getComponent(cc.Label))},e.prototype.setFormatFunc=function(t){this._formatFunc=t},e.prototype.updateNumber=function(t,e,o){this.currentNumber=this._dstNumber,this.setNumber(t,e,o)},e.prototype.setNumber=function(t,e,o){var n=this;if(this._dstNumber=t,e){if(this.unscheduleAllCallbacks(),this.currentNumber===t)return;o&&(this.step=o);var i=this.step,r=Math.floor(e/this.step);this.currentNumber>t&&(this.currentNumber=0);var a=Math.ceil((t-this.currentNumber)/r);a<=0&&(a=1),this.schedule(function(){n.currentNumber+=a,n.currentNumber>t&&(n.currentNumber=t,n.unscheduleAllCallbacks())},i,r,0)}else this.currentNumber=t},e.prototype.updateLabel=function(){cc.isValid(this.label)?this._formatFunc?this.label.string=""+this._formatFunc(this.currentNumber):this.label.string=""+this.currentNumber:cc.warn("this.label is not valid or null or undefined")},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([s(cc.Label)],e.prototype,"label",void 0),r([s(cc.Integer)],e.prototype,"step",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenItem:[function(t,e,o){"use strict";cc._RF.push(e,"0ab54+/wy5Mo71tsg159rYL","OpenItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MainScene"),c=t("../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemSkeleton=null,e.effectAppear=null,e.callback=null,e.itemConfig=null,e}return i(e,t),e.prototype.onOpenClick=function(){this.itemSkeleton.node.removeFromParent(),this.node.getParent().addChild(this.itemSkeleton.node),this.callback&&this.callback(this.itemSkeleton.node,this.effectAppear),this.node.removeFromParent()},e.prototype.setOpenCallback=function(t){this.callback=t},e.prototype.show=function(t){cc.log("OpenItem show "+t.skin),this.itemConfig=t,this.itemSkeleton.setSkin(t.skin),this.itemSkeleton.setSlotsToSetupPose(),a.default.instance.audioPlayer.playAudio(c.AudioPlayId.button_open)},r([p(sp.Skeleton)],e.prototype,"itemSkeleton",void 0),r([p(cc.Prefab)],e.prototype,"effectAppear",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../MainScene":"MainScene","../config/AudioPlayId":"AudioPlayId"}],OpenSSLKdf:[function(t,e,o){"use strict";cc._RF.push(e,"ae5afqW9ARC/Yueq9F1e3Za","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var n=t("../lib/WordArray"),i=t("../lib/CipherParams"),r=t("../algo/EvpKDF"),a=function(){function t(){}return t.execute=function(t,e,o,a){a||(a=n.WordArray.random(8));var c=new r.EvpKDF({keySize:e+o}).compute(t,a),s=new n.WordArray(c.words.slice(e),4*o);return c.sigBytes=4*e,new i.CipherParams({key:c,iv:s,salt:a})},t}();o.OpenSSLKdf=a,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(t,e,o){"use strict";cc._RF.push(e,"172f8Os1y5DY5qir9NXuOKB","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var n=t("../lib/CipherParams"),i=t("../lib/WordArray"),r=t("../enc/Base64"),a=function(){function t(){}return t.stringify=function(t){if(!t.ciphertext)throw new Error("missing ciphertext in params");var e,o=t.ciphertext,n=t.salt;if(n){if("string"==typeof n)throw new Error("salt is expected to be a WordArray");e=new i.WordArray([1398893684,1701076831]).concat(n).concat(o)}else e=o;return e.toString(r.Base64)},t.parse=function(t){var e,o=r.Base64.parse(t);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(e=new i.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new n.CipherParams({ciphertext:o,salt:e})},t}();o.OpenSSL=a,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],PKCS7:[function(t,e,o){"use strict";cc._RF.push(e,"1f46dxgcJJBi6t5s95WryX9","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var n=t("../lib/WordArray"),i=function(){function t(){}return t.pad=function(t,e){for(var o=4*e,i=o-t.sigBytes%o,r=i<<24|i<<16|i<<8|i,a=[],c=0;c<i;c+=4)a.push(r);var s=new n.WordArray(a,i);t.concat(s)},t.unpad=function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e},t}();o.PKCS7=i,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],Padding:[function(t,e,o){"use strict";cc._RF.push(e,"acb37K6ocRNAKDeUZjDREny","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ParticleLoop:[function(t,e,o){"use strict";cc._RF.push(e,"94f7cvxN9VAWZbGjcmK9FYB","ParticleLoop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loop=!0,e.particleSystem=null,e}return i(e,t),e.prototype.onLoad=function(){this.particleSystem=this.getComponent(cc.ParticleSystem)},e.prototype.update=function(){0==this.particleSystem.particleCount&&(this.loop?(cc.log("particleCount = "+this.particleSystem.particleCount),this.particleSystem.resetSystem()):this.particleSystem.stopSystem())},r([s(cc.Boolean)],e.prototype,"loop",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PasswordBasedCipher:[function(t,e,o){"use strict";cc._RF.push(e,"30e13vNU69GXpn4b/xGwwct","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var n=t("./SerializableCipher"),i=t("./WordArray"),r=t("../format/OpenSSL"),a=t("../kdf/OpenSSLKdf"),c=function(){function t(){}return t.encrypt=function(t,e,o,i){var r=Object.assign({},this.cfg,i);if(void 0===r.kdf)throw new Error("missing kdf in config");var a=r.kdf.execute(o,t.keySize,t.ivSize);return void 0!==a.iv&&(r.iv=a.iv),n.SerializableCipher.encrypt.call(this,t,e,a.key,r).extend(a)},t.decrypt=function(t,e,o,i){var r=Object.assign({},this.cfg,i);if(void 0===r.format)throw new Error("missing format in config");if(e=this._parse(e,r.format),void 0===r.kdf)throw new Error("the key derivation function must be set");var a=r.kdf.execute(o,t.keySize,t.ivSize,e.salt);return void 0!==a.iv&&(r.iv=a.iv),n.SerializableCipher.decrypt.call(this,t,e,a.key,r)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new i.WordArray([]),format:r.OpenSSL,kdf:a.OpenSSLKdf},t}();o.PasswordBasedCipher=c,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],PetConfig:[function(t,e,o){"use strict";cc._RF.push(e,"242f4ruSuRBzay32mUoWUex","PetConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetConfig=o.ItemEggConfig=o.ItemPetConfig=void 0;var n=function(t,e,o){void 0===o&&(o=""),this.maxLevel=5,this.petId=t,this.skins=e,this.pathDir=o};o.ItemPetConfig=n;var i=function(t,e,o,n){this.eggId=t,this.skins=e,this.petId=o,this.value=n};o.ItemEggConfig=i;var r=function(){function t(){}return t.getPetConfigById=function(e){for(var o=0;o<t.arrayPetConfig.length;o++){var n=t.arrayPetConfig[o];if(n.petId==e)return n}return null},t.arrayPetConfig=[new n("pet_1","","spines/pets/ExportCat/Cat"),new n("pet_2","","spines/pets/ExportDog/Dog"),new n("pet_3","","spines/pets/ExportFox/Fox"),new n("pet_4","","spines/pets/ExportPenguin/Penguin"),new n("pet_5","","spines/pets/ExportRabbit/Rabbit"),new n("pet_6","","spines/pets/ExportDino/Dino"),new n("pet_7","","spines/pets/ExportPig/Pig"),new n("pet_8","","spines/pets/ExportBear/Bear"),new n("pet_8","","spines/pets/ExportGoat/Goat")],t.arrayEggConfig=[new i("egg_1","Egg1","pet_1",20),new i("egg_2","Egg2","pet_2",50),new i("egg_3","Egg3","pet_3",100),new i("egg_4","Egg4","pet_4",150),new i("egg_5","Egg5","pet_5",200),new i("egg_6","Egg6","pet_6",500),new i("egg_7","Egg7","pet_7",50),new i("egg_8","Egg8","pet_9",100),new i("egg_9","Egg9","pet_9",150)],t}();o.PetConfig=r,cc._RF.pop()},{}],PetDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"fe965FjI+NIcIaXSTcwSvvK","PetDataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PetDataManager=o.PetDataT=o.EggData=void 0;var n=t("../base/utils/ArrayUtil"),i=t("../base/utils/MathUtil"),r=t("../config/PetConfig"),a=t("../GameData"),c={Level1:[500,700,900,1100,1300,1500,1700,1900,2100,2300],Level2:[2400,2800,3200,3600,4e3,4400,4800,5200,5600,6e3],Level3:[6600,7200,7800,8400,9e3,9600,10200,10800,11400,12e3],Level4:[2e4,3e4,4e4,5e4,6e4,7e4,8e4,9e4,1e5,11e4]},s=function(){this.eggId="",this.eggNumber=0};o.EggData=s;var l=function(){this.petId="",this.petLevel=0,this.petExp=0};o.PetDataT=l;var p=function(){function t(){}return t.ConvertDataPet=function(t){if(""==t)return null;var e=new l,o=t;"string"==typeof t&&(o=JSON.parse(t));var i=n.default.getValue(o,this.KEY_PET_ID,"");return""==i?null:(e.petId=i,e.petExp=n.default.getValue(o,this.KEY_PET_EXP,0),e.petLevel=n.default.getValue(o,this.KEY_PET_LEVEL,0),e)},t.ConvertDataEgg=function(t){if(""==t)return null;var e=new s,o=t;"string"==typeof t&&(o=JSON.parse(t));var i=n.default.getValue(o,this.KEY_EGG_ID,"");return""==i?null:(e.eggId=i,e.eggNumber=n.default.getValue(o,this.KEY_EGG_NUMBER,0),e)},t.ConvertToArrDataPet=function(t){if(""==t)return[];var e=[],o=JSON.parse(t);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],r=this.ConvertDataPet(i);e.push(r)}return e},t.ConvertToArrDataEgg=function(t){if(""==t)return[];var e=[],o=JSON.parse(t);if(!(o instanceof Array))return[];for(var n=0;n<o.length;n++){var i=o[n],r=this.ConvertDataEgg(i);e.push(r)}return e},t.pickRandomAEgg=function(){for(var t=[],e=0;e<r.PetConfig.arrayEggConfig.length;e++){var o=r.PetConfig.arrayEggConfig[e];a.GameData.checkHavePet(o.eggId)||t.push(o)}return t[i.default.randomInt(t.length)]},t.GetCostUpgrade=function(t,e){var o=c[t];return o?o[e]:5e3},t.getMaxExpLevel=function(t){var e=c[t];return e?e.length:-1},t.createNewPetFromCofig=function(t){var e=new l;return e.petExp=0,e.petId=t.petId,e.petLevel=1,e},t.cloneAPet=function(t){var e=new l;return e.petExp=t.petExp,e.petId=t.petId,e.petLevel=t.petLevel,e},t.KEY_PET_ID="petId",t.KEY_PET_EXP="petExp",t.KEY_PET_LEVEL="petLevel",t.KEY_EGG_ID="eggId",t.KEY_EGG_NUMBER="eggNumber",t}();o.PetDataManager=p,cc._RF.pop()},{"../GameData":"GameData","../base/utils/ArrayUtil":"ArrayUtil","../base/utils/MathUtil":"MathUtil","../config/PetConfig":"PetConfig"}],PetItem:[function(t,e,o){"use strict";cc._RF.push(e,"212baWXvctPUZwXgMQlctb6","PetItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/PetConfig"),c=t("../GameData"),s=t("../ResUtil"),l=t("./PetDataManager"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMatch=null,e.lbCost=null,e.btnMatch=null,e.btnUpdate=null,e.btnSwitch=null,e.skePet=null,e.skeEgg=null,e.proGressPet=null,e.containerEgg=null,e.containerPet=null,e.light=null,e.petData=null,e.ClickCallback=null,e}return i(e,t),e.prototype.initPetItem=function(t,e){this.cfg=t,this.ClickCallback=e,this.petConfig=a.PetConfig.getPetConfigById(this.cfg.petId),this.checkLightPetItem(),c.GameData.checkHavePet(t.petId)?this.onPet():this.onEgg(t)},e.prototype.checkLightPetItem=function(){this.light.active=!1,c.GameData.CurrentPet&&this.petConfig&&c.GameData.CurrentPet.petId==this.petConfig.petId&&(this.light.active=!0)},e.prototype.onEgg=function(t){this.containerEgg.active=!0,this.containerPet.active=!1;var e=c.GameData.getNumberEgg(t.eggId);this.lbMatch.string=e+"/"+t.value,this.skeEgg.node.active=!0,this.skeEgg.setSkin(t.skins),e==t.value?this.btnMatch.interactable=!0:this.btnMatch.interactable=!1},e.prototype.onPet=function(){var t=this;this.containerPet.active=!0,this.containerEgg.active=!1,this.skePet.node.active=!0,this.petData=c.GameData.getMyPetWithId(this.cfg.petId);var e="Level"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(e,this.petData.petExp),n=l.PetDataManager.getMaxExpLevel(e);this.proGressPet.progress=this.petData.petExp/n,this.lbCost.string=o+"",this.GrayStateItem(o),s.ResUtil.getSpineAnimPet(this.petConfig,function(o,n){t.skePet.skeletonData=n,t.skePet.setSkin(e),t.skePet.setAnimation(0,"Idle",!0)})},e.prototype.GrayStateItem=function(t){c.GameData.playerCoin<t?(this.btnUpdate.interactable=!1,this.btnUpdate.node.children[0].children[1].children[0].active=!0):(this.btnUpdate.interactable=!0,this.btnUpdate.node.children[0].children[1].children[0].active=!1)},e.prototype.onClickMath=function(){var t=this;this.skeEgg.setAnimation(0,"Break",!1);var e=l.PetDataManager.createNewPetFromCofig(this.petConfig);c.GameData.addPet(e,function(){}),this.scheduleOnce(function(){t.onPet()},1)},e.prototype.onClickUpdate=function(){var t=this,e="Level"+this.petData.petLevel,o=l.PetDataManager.GetCostUpgrade(e,this.petData.petExp);c.GameData.playerCoin<o||c.GameData.addExpPet(this.petConfig.petId,function(){},function(e,o){if(e){t.petData=e;var n="Level"+t.petData.petLevel,i=l.PetDataManager.GetCostUpgrade(n,t.petData.petExp),r=l.PetDataManager.getMaxExpLevel(n);t.proGressPet.progress=t.petData.petExp/r,t.lbCost.string=i+"",t.GrayStateItem(i),o&&(t.skePet.setSkin(n),t.skePet.setAnimation(0,"Idle",!0))}},-o)},e.prototype.onClickSwitch=function(){this.ClickCallback(this.petConfig)},r([d(cc.Label)],e.prototype,"lbMatch",void 0),r([d(cc.Label)],e.prototype,"lbCost",void 0),r([d(cc.Button)],e.prototype,"btnMatch",void 0),r([d(cc.Button)],e.prototype,"btnUpdate",void 0),r([d(cc.Button)],e.prototype,"btnSwitch",void 0),r([d(sp.Skeleton)],e.prototype,"skePet",void 0),r([d(sp.Skeleton)],e.prototype,"skeEgg",void 0),r([d(cc.ProgressBar)],e.prototype,"proGressPet",void 0),r([d(cc.Node)],e.prototype,"containerEgg",void 0),r([d(cc.Node)],e.prototype,"containerPet",void 0),r([d(cc.Node)],e.prototype,"light",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/PetConfig":"PetConfig","./PetDataManager":"PetDataManager"}],PetManager:[function(t,e,o){"use strict";cc._RF.push(e,"df720duXgZIV6b1o6tY1Gs4","PetManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PetPanalSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"08c93GhjI1J2rBJkief26t0","PetPanalSwitch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("./ItemPetSwitch"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.itemPetSwitch=null,e}return i(e,t),e.prototype.Show=function(t){this.node.active=!0,this.IntPetPanlSwitch(t)},e.prototype.Hide=function(){this.node.active=!1},e.prototype.onClickClose=function(){this.Hide()},e.prototype.IntPetPanlSwitch=function(t){for(var e=this,o=a.GameData.getMyPetWithId(t.petId),n=0;n<t.maxLevel;n++){var i=this.container.children[n];i||(i=cc.instantiate(this.itemPetSwitch),this.container.addChild(i));var r=i.getComponent(c.default),s=this.getStateItem(n,o),l=this.isSelectedPet(t.petId,n+1);r.initItemPetSwitch({isHave:s,isSelected:l,level:n+1,petCfg:t},function(t){e.selectSkinPetByCfg(t)})}},e.prototype.selectSkinPetByCfg=function(t){for(var e=0;e<this.container.children.length;e++){var o=this.container.children[e].getComponent(c.default);o.cfg.level!=t.level&&o.setActiveLight(!1)}},e.prototype.getStateItem=function(t,e){return t<e.petLevel},e.prototype.isSelectedPet=function(t,e){return!!a.GameData.CurrentPet&&a.GameData.CurrentPet.petId==t&&e==a.GameData.CurrentPet.petLevel},r([p(cc.Node)],e.prototype,"container",void 0),r([p(cc.Node)],e.prototype,"itemPetSwitch",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData","./ItemPetSwitch":"ItemPetSwitch"}],PetPopup:[function(t,e,o){"use strict";cc._RF.push(e,"0c8b7hnTBlDi7HxPg8cEUVi","PetPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../config/PetConfig"),s=t("./PetItem"),l=t("./PetPanalSwitch"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayPetItem=[],e.rowPrefab=null,e.container=null,e.petPrefab=null,e.petPanelSwitch=null,e}return i(e,t),e.prototype.onLoad=function(){this.initData(),this._skinPetChange=this.updateSkinPet.bind(this)},e.prototype.onEnable=function(){a.GlobalSignals.changeSkinPetSignal.add(this._skinPetChange)},e.prototype.onDisable=function(){a.GlobalSignals.changeSkinPetSignal.remove(this._skinPetChange)},e.prototype.Show=function(){this.node.active=!0},e.prototype.updateSkinPet=function(){for(var t=0;t<this.arrayPetItem.length;t++)this.arrayPetItem[t].checkLightPetItem()},e.prototype.Hide=function(){this.node.active=!1},e.prototype.initData=function(){for(var t,e=this,o=(t=c.PetConfig.arrayEggConfig).length,n=Math.ceil(o/3),i=0,r=0;r<n;r++){var a=this.container.children[r];a||(a=cc.instantiate(this.rowPrefab),this.container.addChild(a)),a.active=!0;for(var l=0;l<3&&!(i>=o);l++){var p=t[i],u=a.children[l];u||(u=cc.instantiate(this.petPrefab),a.addChild(u)),u.position=a.children[l].position;var d=u.getComponent(s.default);d.initPetItem(p,function(t){e.petPanelSwitch.Show(t)}),this.arrayPetItem.push(d),i++}}},e.prototype.onClickClose=function(){this.Hide()},r([d(cc.Node)],e.prototype,"rowPrefab",void 0),r([d(cc.Node)],e.prototype,"container",void 0),r([d(cc.Node)],e.prototype,"petPrefab",void 0),r([d(l.default)],e.prototype,"petPanelSwitch",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig","./PetItem":"PetItem","./PetPanalSwitch":"PetPanalSwitch"}],PetWalkFollowDance:[function(t,e,o){"use strict";cc._RF.push(e,"b73f6uX1/ZKXbVUAQrI/wJw","PetWalkFollowDance");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=1,e.speed=3,e.target=null,e.basePos=null,e}return i(e,t),e.prototype.start=function(){this.basePos=this.node.position.clone()},e.prototype.onEnable=function(){this.basePos&&(this.node.position=this.basePos.clone(),this.node.scaleX=Math.abs(this.node.scaleX),this.direction=1)},e.prototype.update=function(){this.node.x+=this.speed*this.direction,this.node.x>305&&(this.direction=-1,this.node.scaleX*=-1,this.speed=2.62),this.node.x<-305&&(this.direction=1,this.node.scaleX*=-1,this.speed=2.62)},r([s(cc.Node)],e.prototype,"target",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Pet:[function(t,e,o){"use strict";cc._RF.push(e,"6d5e298gqtHGZJ/o8o+gBVY","Pet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../config/PetConfig"),s=t("../GameData"),l=t("../ResUtil"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultAnim="Idle",e.idleAnim="Idle",e.idleAnim2="Idle2",e.runAnim="Run",e.walkAnim="Walk",e.walkAnim2="Walk2",e.loseAnim="Lose",e.winAnim="Win",e.skeleton=null,e.currentSkin="",e}return i(e,t),e.prototype.onLoad=function(){this.updateSkinPet()},e.prototype.onEnable=function(){this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onBossAttack=this.onBossAttack.bind(this),this._bossWalkToTarget=this.onBossWalkToTargetSignal.bind(this),this._updateSkinPet=this.updateSkinPet.bind(this),a.GlobalSignals.questPassSignal.add(this._onQuestPass),a.GlobalSignals.questFailSignal.add(this._onQuestFail),a.GlobalSignals.autoMoveSignal.add(this._onAutoMove),a.GlobalSignals.bossAttackSignal.add(this._onBossAttack),a.GlobalSignals.bossWalkToTargetSignal.add(this._bossWalkToTarget),a.GlobalSignals.changeSkinPetSignal.add(this._updateSkinPet)},e.prototype.onDisable=function(){a.GlobalSignals.questPassSignal.remove(this._onQuestPass),a.GlobalSignals.questFailSignal.remove(this._onQuestFail),a.GlobalSignals.autoMoveSignal.remove(this._onAutoMove),a.GlobalSignals.bossAttackSignal.remove(this._onBossAttack),a.GlobalSignals.bossWalkToTargetSignal.remove(this._bossWalkToTarget),a.GlobalSignals.changeSkinPetSignal.remove(this._updateSkinPet)},e.prototype.onQuestPass=function(){this.playAnimation(this.winAnim,!0)},e.prototype.onQuestFail=function(){this.playAnimation(this.loseAnim,!0)},e.prototype.onAutoMove=function(){this.playAnimation(this.runAnim,!0)},e.prototype.onBossAttack=function(){this.playAnimation(this.idleAnim,!0)},e.prototype.onBossWalkToTargetSignal=function(){this.playAnimation(this.walkAnim,!0)},e.prototype.playAnimation=function(t,e){return void 0===e&&(e=!1),this.skeleton.setAnimation(0,t,e),this},e.prototype.addAnimation=function(t,e,o){return void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,t,e,o),this},e.prototype.loadSkeletonData=function(t){var e=this,o=c.PetConfig.getPetConfigById(s.GameData.CurrentPet.petId);l.ResUtil.getSpineAnimPet(o,function(o,n){e.skeleton.skeletonData=n,e.playAnimation(e.defaultAnim,!0),t()})},e.prototype.updateSkinPet=function(){var t=this;if(s.GameData.CurrentPet){var e="Level"+s.GameData.CurrentPet.petLevel;this.loadSkeletonData(function(){t.changeSkin(e)})}},e.prototype.changeSkin=function(t){this.currentSkin=t,this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose()},r([d(cc.String)],e.prototype,"defaultAnim",void 0),r([d(cc.String)],e.prototype,"idleAnim",void 0),r([d(cc.String)],e.prototype,"idleAnim2",void 0),r([d(cc.String)],e.prototype,"runAnim",void 0),r([d(cc.String)],e.prototype,"walkAnim",void 0),r([d(cc.String)],e.prototype,"walkAnim2",void 0),r([d(cc.String)],e.prototype,"loseAnim",void 0),r([d(cc.String)],e.prototype,"winAnim",void 0),r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../ResUtil":"ResUtil","../config/GlobalSignals":"GlobalSignals","../config/PetConfig":"PetConfig"}],PhysicalEnable:[function(t,e,o){"use strict";cc._RF.push(e,"94d19YTaWdLz4svqLG607zG","PhysicalEnable");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gravityScale=1,e.isDebugPhysics=!1,e.isDebugCollider=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager=cc.director.getCollisionManager()},e.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},e.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},e.prototype.update=function(t){var e=60*t*this.gravityScale;o.REAL_GRAVITY_SCALE=e,this.physicsManager.gravity=cc.v2(0,-320*e)},e.prototype.setPhysicsEnabled=function(t){this.physicsManager.enabled=t,this.collisionManager.enabled=t,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},e.REAL_GRAVITY_SCALE=1,r([s(cc.Float)],e.prototype,"gravityScale",void 0),r([s(cc.Boolean)],e.prototype,"isDebugPhysics",void 0),r([s(cc.Boolean)],e.prototype,"isDebugCollider",void 0),o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicsConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d7792BPXjZAyLPo/ZQk9Zwp","PhysicsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsConfig=void 0;var n=function(){function t(){}return t.initPhysicConfig=function(e,o){var n=e.getComponent(cc.PhysicsCollider),i=e.getComponent(cc.RigidBody);if(n&&i){var r=t.physicsObjects[o];r&&(i.gravityScale=r.gravity_scale,n.density=r.density)}else cc.warn("can not init physics config: "+o)},t.physicsObjects={character:{gravity_scale:3,density:10},gems:{gravity_scale:4,density:1},lava:{gravity_scale:4,density:1},water:{gravity_scale:4,density:1},snow:{gravity_scale:4,density:1},rock:{gravity_scale:5,density:50},big_stone:{gravity_scale:5,density:50},chest:{gravity_scale:5,density:50},item:{gravity_scale:5,density:50},bomb:{gravity_scale:5,density:20}},t}();o.PhysicsConfig=n,cc._RF.pop()},{}],PlayScreen:[function(t,e,o){"use strict";cc._RF.push(e,"a0e02WPlzNK3ZJLXO8+C7qU","PlayScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./config/QuestType"),c=t("./level/MapLevel"),s=t("./config/GlobalSignals"),l=t("./GameData"),p=t("./MainScene"),u=t("./config/AudioPlayId"),d=t("./ResUtil"),f=t("./level/WinPanel"),h=t("./objects/character/Boss/Boss"),y=t("./ui/IconQuest"),g=t("./HomeScreen"),_=t("./plugins/fb/FBInstantAds"),v=t("./plugins/fb/FBInstantGames"),m=t("./plugins/tracking/GameTracking"),b=t("./ui/ToastReward"),C=cc._decorator,P=C.ccclass,S=C.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelQuest=null,e.iconQuest=null,e.iconConfig=[],e.levelRoot=null,e.winPanel=null,e.toastReward=null,e.levelPlay=-1,e.countPlayWin=0,e.isContinue=!1,e.backgroundMusic=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this,this.isContinue=!1,this.toastReward.node.active=!1},e.prototype.onEnable=function(){this.isContinue?cc.log("PlayScreen isContinue"):(this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),this._girlGiveEgg=this.onGirlGiveEgg.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),s.GlobalSignals.girlGiveEggSignal.add(this._girlGiveEgg),0===this.levelRoot.childrenCount&&this.loadCurrentLevel(),this.backgroundMusic||(this.backgroundMusic=p.default.instance.audioPlayer.playAudio(u.AudioPlayId.game_play_music,!0)))},e.prototype.onDisable=function(){p.default.instance.audioPlayer.stopAllEffect(),this.isContinue||(s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal),s.GlobalSignals.girlGiveEggSignal.remove(this._girlGiveEgg),this.levelRoot.childrenCount>0&&this.levelRoot.removeAllChildren(),this.unscheduleAllCallbacks(),this.backgroundMusic&&(p.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null))},e.prototype.onQuestFail=function(){var t=this,e=h.default.instance.isGround?0:.6;this.scheduleOnce(function(){t.winPanel.showLose(),m.GameTracking.logEventPlayLevel(t.levelPlay,!1),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.game_lose)},.8+e)},e.prototype.onQuestPass=function(){var t=this;if(c.default.instance.isQuestCollectItem)this.scheduleOnce(function(){t.isContinue=!0,t.countPlayWin++,m.GameTracking.logEventPlayLevel(t.levelPlay,!0),l.GameData.saveLevelUp();var e=c.default.instance.itemLoot.itemConfig;cc.log("onQuestPass: "+e.skin),p.default.instance.showHomeScreen(function(o){o.getComponent(g.default).initOpenItem(e,function(){p.default.instance.showGamePlayScreen(function(){t.isContinue=!1,t.winPanel.showWin()})})})},.8);else{this.isContinue=!1;var e=h.default.instance.isGround?0:.6;this.scheduleOnce(function(){t.countPlayWin++,t.winPanel.showWin(),l.GameData.saveLevelUp(),m.GameTracking.logEventPlayLevel(t.levelPlay,!0),v.FBInstantGames.subscribeMessengerBot()},.8+e)}},e.prototype.onGirlGiveEgg=function(t){l.GameData.addEggNumber(t,function(){})},e.prototype.loadCurrentLevel=function(){var t=this;this.unscheduleAllCallbacks(),p.default.instance.audioPlayer.stopAllEffect(),_.FBInstantAds.showInterstitialAd(function(){t.loadLevel(l.GameData.currentLevelReal)}),d.ResUtil.releaseLevelById(l.GameData.currentLevelReal-1),d.ResUtil.loadLevelById(l.GameData.currentLevelReal+1)},e.prototype.loadLevel=function(t){var e=this;console.log("loadLevel: "+t),this.levelRoot.childrenCount>0&&p.default.instance.screenManager.showFlash(1),this.clearLevelRoot(),this.winPanel.hide(),p.default.instance.testPrefab?this.addLevelToRoot(p.default.instance.testPrefab):d.ResUtil.loadLevelById(t,function(t){e.addLevelToRoot(t)}),1!==this.countPlayWin||l.GameData.isCreatShortcut||v.FBInstantGames.createShortcut(function(){m.GameTracking.logEventCreateShortCut(l.GameData.currentLevelId),l.GameData.isCreatShortcut=!0})},e.prototype.addLevelToRoot=function(t){var e=cc.instantiate(t);this.levelRoot.addChild(e),this.levelPlay=parseInt(t.name.match(/\d+/)[0]);var o=e.getComponent(c.default);this.updateLevelInfo(l.GameData.currentLevelId,o.questType)},e.prototype.clearLevelRoot=function(){if(this.levelRoot.childrenCount>0)try{this.levelRoot.removeAllChildren()}catch(t){cc.warn(t)}},e.prototype.gotoHomeScreen=function(){p.default.instance.showHomeScreen(function(t){t.getComponent(g.default).activeHomeUI()})},e.prototype.replayGame=function(){this.loadCurrentLevel(),p.default.instance.screenManager.showFlash(1)},e.prototype.nextLevel=function(){s.GlobalSignals.nextLevelSignal.dispatch(),this.loadCurrentLevel()},e.prototype.updateLevelInfo=function(t,e){var o=a.QuestUtil.getQuestName(e),n=t+1,i=n<10?"0"+n:""+n;this.labelQuest.string="<color=#FFBC01>LEVEL "+i+"</color> "+o;var r=this.getIconRequest(e);this.iconQuest.spriteFrame=r},e.prototype.getIconRequest=function(t){for(var e=0;e<this.iconConfig.length;e++){var o=this.iconConfig[e];if(t==o.questType)return o.icon}return null},e.prototype.showToastReward=function(t,e,o){var n=this;void 0===o&&(o=0),this.scheduleOnce(function(){n.toastReward.show(t,e)},o)},e.prototype.onClickEvent=function(){p.default.instance.showEventPopup()},e._instance=null,r([S(cc.RichText)],e.prototype,"labelQuest",void 0),r([S(cc.Sprite)],e.prototype,"iconQuest",void 0),r([S([y.IconQuest])],e.prototype,"iconConfig",void 0),r([S(cc.Node)],e.prototype,"levelRoot",void 0),r([S(f.default)],e.prototype,"winPanel",void 0),r([S(b.default)],e.prototype,"toastReward",void 0),o=r([P],e)}(cc.Component);o.default=k,cc._RF.pop()},{"./GameData":"GameData","./HomeScreen":"HomeScreen","./MainScene":"MainScene","./ResUtil":"ResUtil","./config/AudioPlayId":"AudioPlayId","./config/GlobalSignals":"GlobalSignals","./config/QuestType":"QuestType","./level/MapLevel":"MapLevel","./level/WinPanel":"WinPanel","./objects/character/Boss/Boss":"Boss","./plugins/fb/FBInstantAds":"FBInstantAds","./plugins/fb/FBInstantGames":"FBInstantGames","./plugins/tracking/GameTracking":"GameTracking","./ui/IconQuest":"IconQuest","./ui/ToastReward":"ToastReward"}],PlayerCoinUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"5d36ebViqhIBLi21qfwydPG","PlayerCoinUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/GlobalSignals"),c=t("../GameData"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e}return i(e,t),e.prototype.onEnable=function(){this._onUpdateCoin=this.onUpdateCoin.bind(this),a.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),this.onUpdateCoin()},e.prototype.onDisable=function(){a.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin)},e.prototype.onUpdateCoin=function(){this.coinLabel&&(this.coinLabel.string=c.GameData.playerCoin+"")},r([p(cc.Label)],e.prototype,"coinLabel",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals"}],PopupDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"c2275xqQlJDeJ0UQZf4qoVl","PopupDisplay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./utils/GUIUtil"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetAction=null,e.enabledAnim=!1,e.time_show=.2,e.time_hide=.2,e.init_fog=!0,e.opacity_fog=150,e.touchFogToHide=!1,e.btn_close=null,e.exitCallback=null,e.fog=null,e.graphics=null,e.fadeInCallback=null,e}return i(e,t),e.prototype.onLoad=function(){if(this.targetAction||(this.targetAction=this.node),null!==this.btn_close&&a.default.addClickListener(this.btn_close,this.node,"PopupDisplay","onClickExit"),this.init_fog){this.fog=new cc.Node,this.fog.width=cc.visibleRect.width,this.fog.height=cc.visibleRect.height,this.node.addChild(this.fog,-1),this.fog.addComponent(cc.BlockInputEvents);var t=this.fog.addComponent(cc.Graphics);t.lineWidth=0,t.fillColor=new cc.Color(0,0,0,this.opacity_fog);var e=cc.visibleRect.width,o=cc.visibleRect.height;if(t.fillRect(-e/2,-o/2,e,o),this.graphics=t,this.touchFogToHide){var n=this.fog.addComponent(cc.Button);a.default.addClickListener(n,this.node,"PopupDisplay","onClickExit")}}},e.prototype.onClickExit=function(){this.hide(),this.exitCallback&&this.exitCallback()},e.prototype.setExitCallback=function(t){this.exitCallback=t},e.prototype.activePopup=function(){this.node.active=!0},e.prototype.onEnable=function(){this.show()},e.prototype.show=function(){var t=this;this.enabledAnim&&(this.targetAction.stopAllActions(),this.targetAction.opacity=0,this.targetAction.scale=.4,this.targetAction.runAction(cc.sequence(cc.show(),cc.spawn(cc.fadeIn(this.time_show),cc.scaleTo(this.time_show,1).easing(cc.easeBackInOut()),cc.sequence(cc.delayTime(.75*this.time_show),cc.callFunc(function(){t.fadeInFog()}))))))},e.prototype.fadeInFog=function(){var t=this;if(this.fog){this.fog.active=!0,this.fadeInCallback&&this.unschedule(this.fadeInCallback);var e=0,o=this.time_show/this.opacity_fog;this.fadeInCallback=function(){e++,t.graphics.fillColor=new cc.Color(0,0,0,e),e===t.opacity_fog&&(t.unschedule(t.fadeInCallback),t.fadeInCallback=null)},this.schedule(function(){t.fadeInCallback&&t.fadeInCallback()},o)}},e.prototype.hide=function(){var t=this;this.enabledAnim?this.node.active&&(this.fog&&(this.fog.active=!1),this.fadeInCallback&&this.unschedule(this.fadeInCallback),this.targetAction.stopAllActions(),this.targetAction.runAction(cc.sequence(cc.spawn(cc.fadeOut(this.time_hide),cc.scaleTo(this.time_hide,.4)),cc.hide(),cc.callFunc(function(){t.node.active=!1})))):this.node.active=!1},r([l(cc.Node)],e.prototype,"targetAction",void 0),r([l(cc.Boolean)],e.prototype,"enabledAnim",void 0),r([l(cc.Float)],e.prototype,"time_show",void 0),r([l(cc.Float)],e.prototype,"time_hide",void 0),r([l(cc.Boolean)],e.prototype,"init_fog",void 0),r([l({type:cc.Integer,visible:function(){return this.init_fog}})],e.prototype,"opacity_fog",void 0),r([l({visible:function(){return this.init_fog}})],e.prototype,"touchFogToHide",void 0),r([l(cc.Node)],e.prototype,"btn_close",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./utils/GUIUtil":"GUIUtil"}],Pow:[function(t,e,o){"use strict";cc._RF.push(e,"e73c2IXmkNC656TWxmeUo8o","Pow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../character/ColliderSearch"),c=t("../../level/MapLevel"),s=t("../../config/GroupConfig"),l=t("../../MainScene"),p=t("../../config/AudioPlayId"),u=t("../../base/ColliderCallback"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.hit=null,e.attackAnim="Animation",e.searchCollider=null,e}return i(e,t),e.prototype.onLoad=function(){this.hit.addComponent(u.default).setColliderCallback(this.onHitColliderCallback.bind(this)),this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this)),this.searchCollider.node.active=!0},e.prototype.onHitColliderCallback=function(t){var e=this;t.node.group!==s.GroupConfig.CHARACTER&&t.node.group!==s.GroupConfig.BERRIE||(this.hit.opacity=0,this.scheduleOnce(function(){cc.Tween.stopAllByTarget(e.hit),e.hit.active=!1},.2))},e.prototype.onSearchCollider=function(t){cc.log("Pow onSearchCollider: "+t.node.name),this.hit.active&&c.default.instance.isPlaying&&(t.node.group!==s.GroupConfig.CHARACTER||this.playAttack(t))},e.prototype.playAttack=function(t){var e=this;this.skeleton.setAnimation(0,this.attackAnim,!1),l.default.instance.audioPlayer.playAudio(p.AudioPlayId.shoot);var o=this.hit.getParent().convertToNodeSpaceAR(t.node.getParent().convertToWorldSpaceAR(t.node.position));o.y-=800,o.x=this.hit.x,cc.Tween.stopAllByTarget(this.hit),cc.tween(this.hit).to(1.5,{position:o}).call(function(){e.hit.active=!1}).start()},r([h(sp.Skeleton)],e.prototype,"skeleton",void 0),r([h(cc.Node)],e.prototype,"hit",void 0),r([h(cc.String)],e.prototype,"attackAnim",void 0),r([h(a.default)],e.prototype,"searchCollider",void 0),r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel","../character/ColliderSearch":"ColliderSearch"}],PrefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"85978p0g2ZPOYT/H1Zjl3Yw","PrefabManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MyPrefabData=void 0;var a=t("./PrefabType"),c=t("./ResUtil"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(){function t(){this.type=a.PrefabType.NONE,this.prefab=null,this.prefabRes=""}return r([p({type:cc.Enum(a.PrefabType)})],t.prototype,"type",void 0),r([p(cc.Prefab)],t.prototype,"prefab",void 0),r([p(cc.String)],t.prototype,"prefabRes",void 0),r([l("MyPrefabData")],t)}();o.MyPrefabData=u;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabsData=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.getPrefabDataByType=function(t){for(var e=0;e<this.prefabsData.length;e++)if(this.prefabsData[e].type===t)return this.prefabsData[e];return null},e.prototype.loadPrefabByType=function(t,e){cc.log("loadPrefabByType: "+t);var o=this.getPrefabDataByType(t);if(o){if(null!=o.prefab)return void e(o.prefab);if(""!=o.prefabRes)return void c.ResUtil.loadPopupByDir(o.prefabRes,e,function(){e(null)})}e(null)},e._instance=null,r([p([u])],e.prototype,"prefabsData",void 0),o=r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./PrefabType":"PrefabType","./ResUtil":"ResUtil"}],PrefabType:[function(t,e,o){"use strict";cc._RF.push(e,"fffa47OQmNK6LfRIx5Dgzua","PrefabType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SETTING=1]="SETTING",t[t.SELECT_ROOM=2]="SELECT_ROOM",t[t.SELECT_KINGDOM=3]="SELECT_KINGDOM",t[t.BUILD_KINGDOM=4]="BUILD_KINGDOM",t[t.SKIN_POPUP=5]="SKIN_POPUP",t[t.EVENT_POPUP=6]="EVENT_POPUP",t[t.RANK_POPUP=7]="RANK_POPUP",t[t.CHOOSECOUNTRY_POPUP=8]="CHOOSECOUNTRY_POPUP",t[t.DAILY_POPUP=9]="DAILY_POPUP",t[t.PET_POPUP=10]="PET_POPUP"}(o.PrefabType||(o.PrefabType={})),cc._RF.pop()},{}],QuestType:[function(t,e,o){"use strict";var n;cc._RF.push(e,"5d3b69LiD5BJIg8NTr//0Wl","QuestType"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuestUtil=o.QuestType=void 0,function(t){t[t.COLLECT_GEMS=0]="COLLECT_GEMS",t[t.COLLECT_ITEM=1]="COLLECT_ITEM",t[t.KILL_ENEMY=2]="KILL_ENEMY",t[t.SAVE_HOSTAGE=3]="SAVE_HOSTAGE",t[t.OPEN_CHEST=4]="OPEN_CHEST",t[t.ALL=5]="ALL"}(n=o.QuestType||(o.QuestType={}));var i=function(){function t(){}return t.getQuestName=function(t){switch(t){case n.COLLECT_GEMS:return"COLLECT THE GOLD";case n.COLLECT_ITEM:return"COLLECT THE ITEM";case n.KILL_ENEMY:return"TAKE DOWN ENEMIES";case n.SAVE_HOSTAGE:return"SAVE YOUR PRINCESS";case n.OPEN_CHEST:return"OPEN MONEY CHEST"}return"DO NOTHING"},t}();o.QuestUtil=i,cc._RF.pop()},{}],RankPopup:[function(t,e,o){"use strict";cc._RF.push(e,"ff8fe/7hjdMxbbfWA+j6zuP","RankPopup");var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankConfig=void 0,o.RankConfig={LB_COUNT_IN_PAGE:10,LB_COUNT_PLAYER:100},function(t){t[t.COUNTRY=0]="COUNTRY",t[t.WORLD=1]="WORLD"}(i||(i={}));var c=t("../base/utils/StringUtil"),s=t("../UserPlayFab"),l=t("./ItemRankPopup"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.itemRank=null,e.lbMyName=null,e.lbMyRank=null,e.lbPage=null,e.toggleWorld=null,e.toggleCountry=null,e.btnLeft=null,e.btnRight=null,e.lbStatValue=null,e._currentTap=i.WORLD,e._currentPage=0,e._currentPageWorld=0,e._currentPageCountry=0,e.startPos=0,e.endPos=0,e.ListEntryLeadBoard=[],e.ListEntryLeadBoardCountry=[],e.CurrentListEntryLeadBoard=[],e.isUpdateUiW=!0,e.isUpdateUiC=!1,e}return r(e,t),e.prototype.onLoad=function(){this._CallbackGetNextDataLeaderBoard=this.CallbackGetNextDataLeaderBoard.bind(this),this._CallbackGetNextDataLeaderBoardCountry=this.CallbackGetNextDataLeaderBoardCountry.bind(this),this._CallbackDataMyRank=this.callBackDataMyRank.bind(this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.ListEntryLeadBoard=[],this.ListEntryLeadBoardCountry=[]},e.prototype.Show=function(t){switch(this.node.active=!0,this.cfg=t,this.lbStatValue.string=t.StatValue,t.type){case"normal":this.toggleWorld.node.active=!0,this.toggleCountry.node.active=!0,this.isUpdateUiW=!0,this.isUpdateUiC=!1,this.toggleWorld.isChecked=!0,this._currentTap=i.WORLD,this._currentPage=0,this.CurrentListEntryLeadBoard=this.ListEntryLeadBoard,this.getLeaderBoard(s.StatisticNameConfig.BEST_LEVEL),this.getMyRankInLeaderboard(s.StatisticNameConfig.BEST_LEVEL);var e=c.StringUtil.getCodeLeaderBoardCountry(s.default.DisplayName,s.StatisticNameConfig.BEST_LEVEL);this.getLeaderBoardCountry(e);break;case"event":this._currentPage=0,this.toggleWorld.node.active=!1,this.toggleCountry.node.active=!1,this.getLeaderBoard(t.StatisticName),this.getMyRankInLeaderboard(t.StatisticName)}},e.prototype.Hide=function(){this.node.active=!1},e.prototype.getLeaderBoard=function(t){var e=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;s.default.getRankLeadBoard(t,e,o.RankConfig.LB_COUNT_PLAYER,this._CallbackGetNextDataLeaderBoard)},e.prototype.CallbackGetNextDataLeaderBoard=function(t,e){if(!e){var n=t.data.Leaderboard;n&&(this.ListEntryLeadBoard=this.ListEntryLeadBoard.concat(n));var i=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;this.isUpdateUiW&&this.UpdateListBoard(this.ListEntryLeadBoard,i,i+o.RankConfig.LB_COUNT_IN_PAGE)}},e.prototype.CallbackGetNextDataLeaderBoardCountry=function(t){var e=t.data.Leaderboard;e&&(this.ListEntryLeadBoardCountry=this.ListEntryLeadBoardCountry.concat(e));var n=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;this.isUpdateUiC&&this.UpdateListBoard(this.ListEntryLeadBoardCountry,n,n+o.RankConfig.LB_COUNT_IN_PAGE)},e.prototype.onClickClose=function(){this.Hide()},e.prototype.onClickLeft=function(){this._currentPage--,this._currentPage<=0&&(this._currentPage=0),o.RankConfig.LB_COUNT_IN_PAGE,this._currentPage,this.updateUi()},e.prototype.onClickRight=function(){if(this._currentPage++,"normal"==this.cfg.type)if(this._currentTap==i.WORLD){this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoard.length&&this.ListEntryLeadBoard.length>0&&this.getLeaderBoard(s.StatisticNameConfig.BEST_LEVEL);var t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;this.UpdateListBoard(this.ListEntryLeadBoard,t,t+o.RankConfig.LB_COUNT_IN_PAGE)}else{if(this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoardCountry.length&&this.ListEntryLeadBoardCountry.length>0){var e=c.StringUtil.getCodeLeaderBoardCountry(s.default.DisplayName,s.StatisticNameConfig.BEST_LEVEL);this.getLeaderBoardCountry(e)}t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage,this.UpdateListBoard(this.ListEntryLeadBoardCountry,t,t+o.RankConfig.LB_COUNT_IN_PAGE)}else this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoard.length&&this.ListEntryLeadBoard.length>0&&this.getLeaderBoard(this.cfg.StatisticName),t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage,this.UpdateListBoard(this.ListEntryLeadBoard,t,t+o.RankConfig.LB_COUNT_IN_PAGE)},e.prototype.updateUi=function(){if("normal"==this.cfg.type)if(this._currentTap==i.WORLD){this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoard.length&&this.ListEntryLeadBoard.length>0&&this.getLeaderBoard(s.StatisticNameConfig.BEST_LEVEL);var t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;this.UpdateListBoard(this.ListEntryLeadBoard,t,t+o.RankConfig.LB_COUNT_IN_PAGE)}else{if(this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoardCountry.length&&this.ListEntryLeadBoardCountry.length>0){var e=c.StringUtil.getCodeLeaderBoardCountry(s.default.DisplayName,s.StatisticNameConfig.BEST_LEVEL);this.getLeaderBoardCountry(e)}t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage,this.UpdateListBoard(this.ListEntryLeadBoardCountry,t,t+o.RankConfig.LB_COUNT_IN_PAGE)}else this._currentPage*o.RankConfig.LB_COUNT_IN_PAGE>=this.ListEntryLeadBoardCountry.length&&this.ListEntryLeadBoardCountry.length>0&&this.getLeaderBoard(this.cfg.StatisticName),t=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage,this.UpdateListBoard(this.ListEntryLeadBoard,t,t+o.RankConfig.LB_COUNT_IN_PAGE)},e.prototype.UpdateListBoard=function(t,e,o){t=t.slice(e,o);for(var n=0;n<o&&n<t.length;n++){var i=t[n];(s=this.content.children[n])||(s=cc.instantiate(this.itemRank),this.content.addChild(s)),s.active=!0;var r=s.getComponent(l.default),a=c.StringUtil.splitCountry(i.DisplayName);r.InitInfo(a.name,i.StatValue,i.Position,a.countryCodes)}for(;n<this.content.children.length;n++){var s;(s=this.content.children[n]).active=!1}this.updateBottomPage()},e.prototype.getMyRankInLeaderboard=function(t){s.default.getMyRankLeadBoard(t,this._CallbackDataMyRank)},e.prototype.getLeaderBoardCountry=function(t){var e=o.RankConfig.LB_COUNT_IN_PAGE*this._currentPage;s.default.getRankLeadBoard(t,e,o.RankConfig.LB_COUNT_PLAYER,this._CallbackGetNextDataLeaderBoardCountry)},e.prototype.callBackDataMyRank=function(t){for(var e=0;e<t.data.Leaderboard.length;e++){var o=t.data.Leaderboard[e];this.lbMyName.string=c.StringUtil.splitCountry(o.DisplayName).name,this.lbMyRank.string=o.Position+1+""}},e.prototype.onClickWorld=function(){this._currentTap!=i.WORLD&&(this._currentTap=i.WORLD,this.isUpdateUiC=!1,this.isUpdateUiW=!0,this.CurrentListEntryLeadBoard=this.ListEntryLeadBoard,this._currentPage=0,this.UpdateListBoard(this.ListEntryLeadBoard,0,10))},e.prototype.onClickCountry=function(){this._currentTap!=i.COUNTRY&&(this._currentTap=i.COUNTRY,this.isUpdateUiC=!0,this.isUpdateUiW=!1,this.CurrentListEntryLeadBoard=this.ListEntryLeadBoardCountry,this._currentPage=0,this.UpdateListBoard(this.ListEntryLeadBoardCountry,0,10))},e.prototype.RestBottomPage=function(){},e.prototype.updateBottomPage=function(){this._currentPage<=0?this.btnLeft.node.active=!1:this.btnLeft.node.active=!0,this.lbPage.string="Page "+(this._currentPage+1)},a([d(cc.Node)],e.prototype,"content",void 0),a([d(cc.Node)],e.prototype,"itemRank",void 0),a([d(cc.Label)],e.prototype,"lbMyName",void 0),a([d(cc.Label)],e.prototype,"lbMyRank",void 0),a([d(cc.Label)],e.prototype,"lbPage",void 0),a([d(cc.Toggle)],e.prototype,"toggleWorld",void 0),a([d(cc.Toggle)],e.prototype,"toggleCountry",void 0),a([d(cc.Button)],e.prototype,"btnLeft",void 0),a([d(cc.Button)],e.prototype,"btnRight",void 0),a([d(cc.Label)],e.prototype,"lbStatValue",void 0),a([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../UserPlayFab":"UserPlayFab","../base/utils/StringUtil":"StringUtil","./ItemRankPopup":"ItemRankPopup"}],RedirectBox:[function(t,e,o){"use strict";cc._RF.push(e,"058d0xuib9Irref/RDYDp4j","RedirectBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/TagObject"),c=cc._decorator.requireComponent,s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},r([l,c(cc.BoxCollider)],e)}(a.default));o.default=p,cc._RF.pop()},{"../config/TagObject":"TagObject"}],RenderMask:[function(t,e,o){"use strict";cc._RF.push(e,"a614br+C3hLLpr2mTVO2UTF","RenderMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.sprite=null,e}return i(e,t),e.prototype.onLoad=function(){this.renderTexture=new cc.RenderTexture,this.renderTexture.initWithSize(cc.winSize.width,cc.winSize.height),this.camera.targetTexture=this.renderTexture},e.prototype.start=function(){this.sprite.node.active=!0,this.sprite.spriteFrame=new cc.SpriteFrame(this.renderTexture);var t=cc.winSize;this.sprite.node.height=t.height,this.sprite.node.width=t.width},r([s(cc.Camera)],e.prototype,"camera",void 0),r([s(cc.Sprite)],e.prototype,"sprite",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ReplaceItem:[function(t,e,o){"use strict";cc._RF.push(e,"4ce22WmDM5HTKiCTY9oGBzE","ReplaceItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ReplaceItemType=void 0;var a,c=cc.easeBackOut,s=cc._decorator,l=s.ccclass,p=s.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.SLIDING_RIGHT=1]="SLIDING_RIGHT",t[t.SLIDING_TOP=2]="SLIDING_TOP"})(a=o.ReplaceItemType||(o.ReplaceItemType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.replaceType=a.NORMAL,e.replaceBy=null,e}return i(e,t),e.prototype.replace=function(t){this.replaceType===a.NORMAL&&(this.node.active=!1,this.replaceBy.active=!0,this.replaceBy.scale=1,cc.tween(this.replaceBy).to(.2,{scale:.8}).to(.25,{scale:1},c()).delay(2).call(t).start())},r([p({type:cc.Enum(a)})],e.prototype,"replaceType",void 0),r([p(cc.Node)],e.prototype,"replaceBy",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ResUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9fb44pIzLhBGbM9vI6AHeWX","ResUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.ResUtil=void 0;var n=t("./config/RoomConfig"),i=t("./config/LevelConfig"),r=t("./config/KingdomConfig"),a=t("./config/FeatureSkinConfig"),c=function(){function t(){}return t.loadPopupByDir=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var i=t.split("/").pop();cc.log("loadPopupByDir: "+i),this.mapPrefab.has(i)?e&&e(this.mapPrefab.get(i)):this.loadPrefab(t,function(t){n.mapPrefab.set(i,t),e&&e(t)},o)},t.loadKingdomByName=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var i=r.KingdomConfig.getKingdomCfg(t);if(!i)return cc.warn("loadKingdomByName name = "+t+", cfg is null!"),void(o&&o());if(this.mapPrefab.has(i.kingdom))e&&e(this.mapPrefab.get(i.kingdom));else{var a="prefabs/castle/"+i.name+"/"+i.kingdom;this.loadPrefab(a,function(t){n.mapPrefab.set(i.kingdom,t),e&&e(t)},o)}},t.loadKingdomBuilderByName=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var i=r.KingdomConfig.getKingdomCfg(t);if(!i)return cc.warn("loadKingdomBuilderByName name = "+t+", cfg is null!"),void(o&&o());if(this.mapPrefab.has(i.builder))e&&e(this.mapPrefab.get(i.builder));else{var a="prefabs/castle/"+i.name+"/"+i.builder;this.loadPrefab(a,function(t){n.mapPrefab.set(i.builder,t),e&&e(t)},o)}},t.loadRoomById=function(t,e,o){var i=this;if(void 0===e&&(e=null),void 0===o&&(o=null),t<0||t>=n.RoomConfig.rooms.length)return cc.warn("loadRoomById: "+t),void(o&&o());var r=n.RoomConfig.rooms[t].name;this.mapPrefab.has(r)?e&&e(this.mapPrefab.get(r)):this.loadRoomByName(r,function(t){i.mapPrefab.set(r,t),e&&e(t)},o)},t.loadLevelById=function(t,e,o){var n=this;if(void 0===e&&(e=null),void 0===o&&(o=null),t<0||t>=i.LevelConfig.levels.length){var r=Math.floor(Math.random()*i.LevelConfig.levels.length);i.LevelConfig.levels[t]=i.LevelConfig.levels[r]}var a=i.LevelConfig.levels[t];this.mapPrefab.has(a)?e&&e(this.mapPrefab.get(a)):this.loadLevelByName(a,function(t){n.mapPrefab.set(a,t),e&&e(t)},o)},t.releaseLevelById=function(t){if(!(t<0||t>=i.LevelConfig.levels.length)){var e=i.LevelConfig.levels[t];this.mapPrefab.has(e)&&(this.mapPrefab.delete(e),cc.log("release: "+e))}},t.loadLevelByName=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var n="prefabs/levels/"+t;this.loadPrefab(n,e,o)},t.loadRoomByName=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var n="prefabs/rooms/"+t;this.loadPrefab(n,e,o)},t.loadScreenByName=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var n="prefabs/screens/"+t;this.loadPrefab(n,e,o)},t.loadPrefab=function(t,e,o){cc.resources.load(t,function(n,i){if(n)return cc.log(n),void(o&&o(n));e&&(cc.log("loadPrefab: "+t),e(i))})},t.loadRes=function(t,e,o){e?cc.loader.loadRes(t,e,function(t,e){if(t)return cc.error(t.message||t),void(o&&o(t,e));o&&o(t,e)}):cc.loader.load(t,function(t,e){if(t)return cc.error(t.message||t),void(o&&o(t,e));o&&o(t,e)})},t.getIconCountry=function(t,e){var o=this;if(""!=t&&t)if(this.iconCountry.has(t)){var n=this.iconCountry.get(t);e(null,n)}else this.loadRes("/sprites/CountryIcon/"+t,cc.SpriteFrame,function(n,i){i&&o.iconCountry.set(t,i),e(n,i)})},t.getSpineAnimFeature=function(t,e){var o=a.FeatureSkinConfig.getSkinConfigById(t).pathDir+"/DragonSmall";this.getSpineAnim(o,"DragonSmall",e)},t.getSpineAnim=function(t,e,o){var n=this;if(this.spineAnim.has(e)){var i=this.spineAnim.get(e);o(null,i)}else this.loadRes(t,sp.SkeletonData,function(t,i){i&&n.spineAnim.set(e,i),o(t,i)})},t.getSpineAnimPet=function(t,e){var o=t.pathDir;this.getSpineAnim(o,t.petId,e)},t.mapPrefab=new Map,t.iconCountry=new Map,t.spineAnim=new Map,t}();o.ResUtil=c,cc._RF.pop()},{"./config/FeatureSkinConfig":"FeatureSkinConfig","./config/KingdomConfig":"KingdomConfig","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],RockGO:[function(t,e,o){"use strict";cc._RF.push(e,"05a511vQ/dK6brRHisPIMnD","RockGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/PhysicsConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.PhysicsConfig.initPhysicConfig(this.node,"rock")},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/PhysicsConfig":"PhysicsConfig"}],RoomConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a08e9OqjtxLA7vTG49W3C13","RoomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomConfig=void 0;var n=function(){function t(){}return t.getRoomIdByName=function(e){for(var o=t.rooms,n=0;n<o.length;n++)if(o[n].name===e)return n;return-1},t.rooms=[{name:"Room1",size:8},{name:"Room2",size:8},{name:"Room6",size:8}],t}();o.RoomConfig=n,cc._RF.pop()},{}],RopeFull:[function(t,e,o){"use strict";cc._RF.push(e,"6635aO0sr9Oyr3AEOv3cQ/f","RopeFull");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./RopePart"),c=t("../../config/AudioPlayId"),s=t("../../MainScene"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;this.node.children.forEach(function(e){var o=e.getComponent(a.default);o&&o.setCutCallback(t.cutRopeInNode.bind(t))})},e.prototype.cutRopeInNode=function(t){cc.log("cutRopeInNode"),t.removeFromParent(),this.node.children.forEach(function(t){var e=t.getComponent(a.default);e&&(e.enabled=!1)}),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.rope_cut)},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([p],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","./RopePart":"RopePart"}],RopePart:[function(t,e,o){"use strict";cc._RF.push(e,"d8140MIb8lO+6wUn4tOHlGX","RopePart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cutCallback=null,e}return i(e,t),e.prototype.start=function(){if(!this.getComponent(cc.BoxCollider)){var t=this.getComponent(cc.PhysicsBoxCollider),e=this.addComponent(cc.BoxCollider);e.offset=t.offset,e.size=t.size}},e.prototype.setCutCallback=function(t){this.cutCallback=t},e.prototype.onCollisionEnter=function(t){t.node.group!==a.GroupConfig.TOUCH||this.cutCallback&&this.cutCallback(this.node)},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],RotateByRepeatAnimX2:[function(t,e,o){"use strict";cc._RF.push(e,"97cddXVcLlODqus7E1jO7Be","RotateByRepeatAnimX2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.rotate1=20,e.duration2=.2,e.rotate2=-20,e.autoPlay=!0,e.rotateStart=0,e}return i(e,t),e.prototype.onLoad=function(){this.rotateStart=this.node.angle},e.prototype.play=function(t){var e=cc.sequence(cc.rotateTo(this.duration1,this.rotateStart+this.rotate1),cc.rotateTo(this.duration2,this.rotateStart+this.rotate2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},r([l(cc.Boolean)],e.prototype,"repeatForever",void 0),r([l(cc.Float)],e.prototype,"duration1",void 0),r([l(cc.Float)],e.prototype,"rotate1",void 0),r([l(cc.Float)],e.prototype,"duration2",void 0),r([l(cc.Float)],e.prototype,"rotate2",void 0),r([l(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnimX2")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],RotateByRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"74217uxCGJHJKu4GavSlA32","RotateByRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=1,e.rotate1=360,e.autoPlay=!0,e}return i(e,t),e.prototype.play=function(t){var e=cc.rotateBy(this.duration1,this.rotate1);this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},e.prototype.onDisable=function(){this.node.stopAllActions()},r([l(cc.Boolean)],e.prototype,"repeatForever",void 0),r([l(cc.Float)],e.prototype,"duration1",void 0),r([l(cc.Float)],e.prototype,"rotate1",void 0),r([l(cc.Boolean)],e.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnim")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SHA256:[function(t,e,o){"use strict";cc._RF.push(e,"c963eSzGL5MMZp9Q7JgMatl","SHA256");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var r=t("../lib/Hasher"),a=t("../lib/WordArray"),c=[],s=[],l=[],p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this._hash=new a.WordArray(c.slice(0))},e.prototype._doProcessBlock=function(t,e){for(var o=this._hash.words,n=o[0],i=o[1],r=o[2],a=o[3],c=o[4],p=o[5],u=o[6],d=o[7],f=0;f<64;f++){if(f<16)l[f]=0|t[e+f];else{var h=l[f-15],y=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=l[f-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=y+l[f-7]+_+l[f-16]}var v=n&i^n&r^i&r,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&p^~c&u)+s[f]+l[f];d=u,u=p,p=c,c=a+b|0,a=r,r=i,i=n,n=b+(m+v)|0}o[0]=o[0]+n|0,o[1]=o[1]+i|0,o[2]=o[2]+r|0,o[3]=o[3]+a|0,o[4]=o[4]+c|0,o[5]=o[5]+p|0,o[6]=o[6]+u|0,o[7]=o[7]+d|0},e.prototype._doFinalize=function(){var t=8*this._nDataBytes,e=8*this._data.sigBytes;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[14+(e+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(e+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},e}(r.Hasher);o.SHA256=p,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],ScaleRepeatAnim:[function(t,e,o){"use strict";cc._RF.push(e,"6217devR7JH3ad1/GjLdKfy","ScaleRepeatAnim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeatForever=!0,e.duration1=.2,e.scale1=1.2,e.duration2=.2,e.scale2=1,e}return i(e,t),e.prototype.play=function(t){var e=cc.sequence(cc.scaleTo(this.duration1,this.scale1),cc.scaleTo(this.duration2,this.scale2));this.repeatForever&&(e=e.repeatForever()),t.stopAllActions(),t.active||(t.active=!0),t.runAction(e)},e.prototype.onEnable=function(){this.play(this.node)},r([s(cc.Boolean)],e.prototype,"repeatForever",void 0),r([s(cc.Float)],e.prototype,"duration1",void 0),r([s(cc.Float)],e.prototype,"scale1",void 0),r([s(cc.Float)],e.prototype,"duration2",void 0),r([s(cc.Float)],e.prototype,"scale2",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScreenManager:[function(t,e,o){"use strict";cc._RF.push(e,"901c3FK5gZOZ6/0KHHjo2D4","ScreenManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenConfig=o.ScreenId=void 0;var a,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.NONE=0]="NONE",t[t.HOME_SCREEN=1]="HOME_SCREEN",t[t.PLAY_SCREEN=2]="PLAY_SCREEN",t[t.CASTLE_SCREEN=3]="CASTLE_SCREEN"})(a=o.ScreenId||(o.ScreenId={}));var p=function(){function t(){this.screenId=a.HOME_SCREEN,this.screen=null}return r([l({type:cc.Enum(a)})],t.prototype,"screenId",void 0),r([l(cc.Node)],t.prototype,"screen",void 0),r([s("ScreenConfig")],t)}();o.ScreenConfig=p;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flash=null,e.arrayConfig=[],e}return i(e,t),e.prototype.showScreenById=function(t,e,o){var n=this;if(void 0===o&&(o=!1),cc.log("showScreenById: "+t),o){var i=this.activeScreenById(t);e&&e(i)}else this.showFlash(1,function(){var o=n.activeScreenById(t);e&&e(o)})},e.prototype.activeScreenById=function(t){for(var e=null,o=0;o<this.arrayConfig.length;o++)this.arrayConfig[o].screenId===t?(this.arrayConfig[o].screen.active=!0,e=this.arrayConfig[o].screen):this.arrayConfig[o].screen.active=!1;return e},e.prototype.getScreenById=function(t){for(var e=0;e<this.arrayConfig.length;e++)if(this.arrayConfig[e].screenId===t)return this.arrayConfig[e].screen;return null},e.prototype.showFlash=function(t,e){var o=this;void 0===e&&(e=null),this.flash.opacity=0,this.flash.active=!0,cc.Tween.stopAllByTarget(this.flash),cc.tween(this.flash).to(t/2,{opacity:255}).call(function(){e&&e()}).to(t/2,{opacity:0}).call(function(){o.flash.active=!1}).start()},r([l(cc.Node)],e.prototype,"flash",void 0),r([l([p])],e.prototype,"arrayConfig",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],SelectRoomItem:[function(t,e,o){"use strict";cc._RF.push(e,"2454fqSpTFBzaqjc3+RKCvv","SelectRoomItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../GameData"),s=t("../MainScene"),l=t("../HomeScreen"),p=t("../config/RoomConfig"),u=t("../config/LevelConfig"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="Room1",e.levelUnlock=40,e.lock=null,e.label_unlock=null,e.button=null,e}return i(e,t),e.prototype.onLoad=function(){this.button=this.node.getComponent(cc.Button),this.button?a.default.addClickListener(this.button,this.node,"SelectRoomItem","onClick"):this.button=this.node.addComponent(cc.Button)},e.prototype.onEnable=function(){c.GameData.currentLevelId>=this.levelUnlock&&u.LevelConfig.realLevelSize>=this.levelUnlock?(this.lock.active=!1,this.button.interactable=!0):(this.lock.active=!0,this.button.interactable=!1,u.LevelConfig.realLevelSize<this.levelUnlock?(this.label_unlock.string="COMING SOON",this.label_unlock.fontSize=14):this.label_unlock.string="LEVEL "+this.levelUnlock)},e.prototype.onClick=function(){var t=p.RoomConfig.getRoomIdByName(this.prefabName);t!=l.default.instance.visibleRoomId?l.default.instance.loadRoom(t,function(){s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})}):s.default.instance.showHomeScreen(function(){s.default.instance.selectRoomPopup.active=!1})},r([h(cc.String)],e.prototype,"prefabName",void 0),r([h(cc.Integer)],e.prototype,"levelUnlock",void 0),r([h(cc.Node)],e.prototype,"lock",void 0),r([h(cc.Label)],e.prototype,"label_unlock",void 0),r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../GameData":"GameData","../HomeScreen":"HomeScreen","../MainScene":"MainScene","../base/utils/GUIUtil":"GUIUtil","../config/LevelConfig":"LevelConfig","../config/RoomConfig":"RoomConfig"}],SerializableCipher:[function(t,e,o){"use strict";cc._RF.push(e,"e5f80C4+uJKCYlc2R9+sxYd","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var n=t("./WordArray"),i=t("../format/OpenSSL"),r=t("./CipherParams"),a=function(){function t(){}return t.encrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n),a=t.createEncryptor(o,i),c=a.finalize(e);return new r.CipherParams({ciphertext:c,key:o,iv:a.cfg.iv,algorithm:t,mode:a.cfg.mode,padding:a.cfg.padding,blockSize:a.cfg.blockSize,formatter:i.format})},t.decrypt=function(t,e,o,n){var i=Object.assign({},this.cfg,n);if(!i.format)throw new Error("could not determine format");if(!(e=this._parse(e,i.format)).ciphertext)throw new Error("could not determine ciphertext");return t.createDecryptor(o,i).finalize(e.ciphertext)},t._parse=function(t,e){return"string"==typeof t?e.parse(t):t},t.cfg={blockSize:4,iv:new n.WordArray([]),format:i.OpenSSL},t}();o.SerializableCipher=a,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],SettingsPopup:[function(t,e,o){"use strict";cc._RF.push(e,"1ae5czkyCxFupccCa3ZqkvT","SettingsPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/toggle/ToggleSliderGroup"),c=t("../base/audio/AudioManager"),s=t("../GameData"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_sound_effect=null,e.btn_sound_music=null,e.btn_reset_data=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_sound_effect.setOnClickCallback(function(t){c.default.EffectEnable=t}),this.btn_sound_music.setOnClickCallback(function(t){c.default.MusicEnable=t}),this.btn_reset_data&&(this.btn_reset_data.node.active=!1)},e.prototype.start=function(){this.btn_sound_effect.setToggleState(c.default.EffectEnable,!1),this.btn_sound_music.setToggleState(c.default.MusicEnable,!1)},e.prototype.onClearData=function(){cc.warn("onClearData"),s.GameData.clearData()},r([u(a.default)],e.prototype,"btn_sound_effect",void 0),r([u(a.default)],e.prototype,"btn_sound_music",void 0),r([u(cc.Button)],e.prototype,"btn_reset_data",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../base/audio/AudioManager":"AudioManager","../base/toggle/ToggleSliderGroup":"ToggleSliderGroup"}],Shooter:[function(t,e,o){"use strict";cc._RF.push(e,"a8a2dNNjvlKtoo9HsNqpYQV","Shooter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../level/MapLevel"),s=t("../../../config/GroupConfig"),l=t("../../../config/TagObject"),p=t("../../../MainScene"),u=t("../../../config/AudioPlayId"),d=t("../../more/Bullet"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.hit.active=!0},e.prototype.onAttackCollider=function(){},e.prototype.onSearchCollider=function(t){this.isAlive&&(cc.log("Enemies onSearchCollider: "+t.node.name),c.default.instance.isPlaying&&(t.node.group!==s.GroupConfig.CHARACTER||(t.node.name==l.TagConfig.BOSS||t.node.name==l.TagConfig.GIRL||t.node.name==l.TagConfig.DOG?this.playAttack(t):this.addToIgnoreSearchCollier(t.node))))},e.prototype.playAttack=function(){var t=this;if(!this.isAttack){this.isAttack=!0,this.playAnimation(this.attackAnim);var e=cc.instantiate(this.bulletPrefab);e.active=!1,this.hit.addChild(e);var o=500/d.default.velocityHit;cc.tween(e).delay(.8).call(function(){t.isAlive||(cc.Tween.stopAllByTarget(e),e.removeFromParent()),e.active=!0}).by(o,{position:new cc.Vec3(500,0,0)}).call(function(){e.active&&(e.active=!1,e.removeFromParent())}).start(),this.scheduleOnce(function(){t.isAlive&&(t.isAttack=!1,t.playAnimation(t.idleAnim,!0),t.scheduleOnce(function(){t.searchCollider.refreshPingToTarget()},.5))},.8)}},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.stealer_die)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.stealer_die)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.stealer_die)},r([y(cc.Prefab)],e.prototype,"bulletPrefab",void 0),r([h],e)}(a.default);o.default=g,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/Bullet":"Bullet","./Enemies":"Enemies"}],SignalBinding:[function(t,e,o){"use strict";cc._RF.push(e,"986cbDaJqlNrbiJVow96Bwm","SignalBinding"),Object.defineProperty(o,"__esModule",{value:!0}),o.SignalBinding=void 0;var n=function(){function t(t,e,o,n,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=o,this.context=n,this._signal=t,this.priority=i||0}return t.prototype.execute=function(t){var e,o;return this.active&&this._listener&&(o=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,o),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();o.SignalBinding=n,cc._RF.pop()},{}],Signal:[function(t,e,o){"use strict";cc._RF.push(e,"cb5e6YetPdPRqAkDnrTk1Ag","Signal"),Object.defineProperty(o,"__esModule",{value:!0}),o.Signal=void 0;var n=t("./SignalBinding"),i=function(){function t(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return t.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},t.prototype._registerListener=function(t,e,o,i){var r,a=this._indexOfListener(t,o);if(-1!==a){if((r=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n.SignalBinding(this,t,e,o,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},t.prototype._addBinding=function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},t.prototype._indexOfListener=function(t,e){for(var o,n=this._bindings.length;n--;)if((o=this._bindings[n]).getListener()===t&&o.context===e)return n;return-1},t.prototype.has=function(t,e){return void 0===e&&(e=null),-1!==this._indexOfListener(t,e)},t.prototype.add=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,o)},t.prototype.addOnce=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,o)},t.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var o=this._indexOfListener(t,e);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),t},t.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},t.prototype.getNumListeners=function(){return this._bindings.length},t.prototype.halt=function(){this._shouldPropagate=!1},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var o,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){o=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(t))}}},t.prototype.forget=function(){this._prevParams=null},t.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},t.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},t.VERSION="1.0.0",t}();o.Signal=i,cc._RF.pop()},{"./SignalBinding":"SignalBinding"}],SkinBossUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"b96455DzyhL1JYIEFU8HEc7","SkinBossUpdater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/FeatureSkinConfig"),c=t("../config/GlobalSignals"),s=t("../config/SkinConfig"),l=t("../GameData"),p=cc._decorator,u=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.skeletonFeature=null,e.anim="Idle",e._onUpdateSkinBoss=null,e}return i(e,t),e.prototype.onLoad=function(){this.skeleton||(this.skeleton=this.node.getComponent(sp.Skeleton))},e.prototype.onEnable=function(){this._onUpdateSkinBoss=this.onUpdateSkinBoss.bind(this),c.GlobalSignals.changeSkinBossSignal.add(this._onUpdateSkinBoss),this.onUpdateSkinBoss()},e.prototype.onDisable=function(){c.GlobalSignals.changeSkinBossSignal.remove(this._onUpdateSkinBoss)},e.prototype.onUpdateSkinBoss=function(){var t=s.SkinConfig.getSkinNameById(l.GameData.currentSkinBoss);cc.log("onUpdateSkinBoss: "+t),this.skeleton.setSkin(t),this.skeleton.setSlotsToSetupPose(),this.anim&&this.skeleton.setAnimation(0,this.anim,!0)},e.prototype.updateFeatureSkin=function(){this.skeletonFeature.node.active=!1;var t=s.SkinConfig.getSkinConfigById(l.GameData.currentSkinBoss);if(s.SkinConfig.CheckSkinHaveFeature(t)){var e=t,o=a.FeatureSkinConfig.getSkinConfigById(e.idFeatures[0]);o&&(this.skeletonFeature.node.active=!0,this.skeletonFeature.setSkin(o.skins))}else this.skeletonFeature.node.active=!1},r([d(sp.Skeleton)],e.prototype,"skeleton",void 0),r([d(sp.Skeleton)],e.prototype,"skeletonFeature",void 0),r([d(cc.String)],e.prototype,"anim",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../config/FeatureSkinConfig":"FeatureSkinConfig","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig"}],SkinConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c02cavE5GRJyqMzIcM60HHk","SkinConfig");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SkinConfig=o.ItemSkinHaveFeature=o.GroupItemSkinVsFeature=o.GroupItemSkinConfig=o.ItemSkinConfig=void 0;var r=function(t,e,o,n){this.skinId=t,this.skins=e,this.type=o,this.value=n};o.ItemSkinConfig=r;var a=function(t){function e(e,o,n,i,r,a,c){var s=t.call(this,e,o,n,i)||this;return s.graph=r,s.isRoot=a,s.group=c,s}return i(e,t),e}(r);o.GroupItemSkinConfig=a;var c=function(t){function e(e,o,n,i,r,a,c,s){var l=t.call(this,e,o,n,i,r,a,s)||this;return l.graph=r,l.isRoot=a,l.idFeatures=c,l}return i(e,t),e}(a);o.GroupItemSkinVsFeature=c;var s=function(t){function e(e,o,n,i,r){var a=t.call(this,e,o,n,i)||this;return a.idFeatures=r,a}return i(e,t),e}(r);o.ItemSkinHaveFeature=s;var l=function(){function t(){}return t.getSkinNameById=function(e){for(var o=t.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===e){var i=o[n];return i.skins[i.skins.length-1]}return"Base/1"},t.getSkinConfigById=function(e){for(var o=t.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===e)return o[n];return null},t.getSkinGirlConfigById=function(e){for(var o=t.arraySkinGirl,n=0;n<o.length;n++)if(o[n].skinId===e)return o[n];return null},t.GetAllItemSampleGroup=function(e){var o=[];return t.arraySkinBoss.forEach(function(t){t instanceof a&&t.group==e&&o.push(t)}),o},t.CheckSkinInGroup=function(t){return t instanceof a||t instanceof c},t.CheckSkinHaveFeature=function(t){return t instanceof s||t instanceof c},t.get_type={free:"free",buy:"buy",claim_ad:"claim_ad",gift_code:"gift_code",share_fb:"share_fb",daily_reward:"daily_reward",event:"halloween"},t.arraySkinBoss=[new r("hero_0",["Base/1"],t.get_type.free,0),new r("hero_1",["BlackPanther/BlackPanther"],t.get_type.claim_ad,0),new r("hero_2",["Hercules/hercules"],t.get_type.claim_ad,0),new r("hero_3",["Superman/superman"],t.get_type.buy,3e4),new r("hero_4",["Holy/holy"],t.get_type.buy,5e4),new r("hero_5",["Athur/Athur"],t.get_type.buy,1e4),new s("hero_6",["dragon Knight/dragon knight"],t.get_type.daily_reward,0,["feature_3"]),new r("hero_7",["Zeus/Zeus"],t.get_type.buy,15e3),new r("hero_8",["HP/HP"],t.get_type.buy,5e4),new r("hero_9",["Viking/viking"],t.get_type.buy,5e4),new r("hero_10",["Ice Man/iceman"],t.get_type.buy,5e4),new r("hero_11",["Greymane/Greymane"],t.get_type.buy,1e4),new r("hero_12",["UncleSame/Uncle"],t.get_type.buy,2e4),new r("hero_13",["Luffy/Luffy"],t.get_type.buy,3e4),new r("hero_14",["Goku/Goku"],t.get_type.buy,3e4),new r("hero_15",["McFly2/McFly"],t.get_type.buy,5e4),new r("hero_16",["Base2/Base2"],t.get_type.buy,2e4),new r("hero_17",["Pharaoh/Pharaoh"],t.get_type.buy,4e4),new r("hero_18",["Aladin/Aladin"],t.get_type.buy,5e4),new r("hero_19",["Dracula/Dracula"],t.get_type.buy,15e3),new r("hero_20",["CH/CH"],t.get_type.buy,1e4),new r("hero_21",["Samurai/Samurai"],t.get_type.buy,5e4),new r("hero_22",["Koria/Koria"],t.get_type.buy,5e5),new r("hero_23",["Japan/Japorn"],t.get_type.buy,5e5),new r("hero_24",["MCFly/MCFly"],t.get_type.buy,3e5),{skinId:"hero_25",skins:["Robocop/Robocop"],type:t.get_type.buy,value:5e4},{skinId:"hero_26",skins:["Elvis/Elvis"],type:t.get_type.buy,value:3e4},new s("hero_27",["Angel/Angel"],t.get_type.daily_reward,2e5,["feature_1"]),new s("hero_28",["Demon/Demon"],t.get_type.daily_reward,2e5,["feature_2"]),new a("hero_29",["pumkin1/Pumkin1"],t.get_type.buy,2e5,["hero_30"],!1,"Halloween"),new a("hero_30",["pumkin2/Pumkin2"],t.get_type.buy,2e5,["hero_29","hero_31"],!1,"Halloween"),new c("hero_31",["pumkin3/Pumkin3"],t.get_type.buy,2e5,["hero_30"],!0,["feature_8"],"Halloween"),new a("hero_32",["Noel/Noel"],t.get_type.buy,2e5,["boss_39"],!1,"valentine"),new a("hero_33",["Noel2/Noel2"],t.get_type.buy,2e5,["boss_38,boss_60"],!1,"valentine"),new c("hero_34",["Noel2/Noel2"],t.get_type.buy,2e5,["boss_39"],!0,["feature_6"],"valentine"),new a("hero_35",["Lunar1/Lunar1"],t.get_type.buy,2e5,["boss_32"],!1,"MuaLan"),new a("hero_36",["Lunar2/Lunar2"],t.get_type.buy,2e5,["hero_37"],!1,"MuaLan"),new c("hero_37",["Lunar2/Lunar2"],t.get_type.buy,2e5,["hero_36","hero_38"],!0,["feature_5"],"MuaLan"),new r("hero_38",["Lunar3/Lunar3"],t.get_type.buy,5e4),new r("hero_39",["Lunar4/Lunar4"],t.get_type.buy,5e4),new a("hero_40",["Halloween/Halloween"],t.get_type.buy,2e5,["boss_32"],!1,"Halloween2021"),new a("hero_41",["Halloween2/Halloween2"],t.get_type.buy,2e5,["boss_32"],!1,"Halloween2021"),new c("hero_42",["Halloween2/Halloween2"],t.get_type.buy,2e5,["boss_32"],!0,["feature_4"],"Halloween2021"),new a("hero_43",["Thanksgiving/Thanksgiving"],t.get_type.buy,2e5,["hero_44"],!1,"Thanksgiving2021"),new a("hero_44",["Thanksgiving2/Thanksgiving2"],t.get_type.buy,2e5,["boss_32"],!1,"Thanksgiving2021"),new c("hero_42",["Thanksgiving2/Thanksgiving2"],t.get_type.buy,2e5,["boss_32"],!0,["feature_9"],"Thanksgiving2021")],t.arraySkinGirl=[{skinId:"wife_0",skins:["Princess"],type:t.get_type.free,value:0},{skinId:"wife_1",skins:["Elsa"],type:t.get_type.buy,value:1e5},{skinId:"wife_2",skins:["Cinderlera"],type:t.get_type.buy,value:1e5},{skinId:"wife_3",skins:["Event"],type:t.get_type.buy,value:3e5},{skinId:"wife_4",skins:["Claus"],type:t.get_type.buy,value:1e5},{skinId:"wife_5",skins:["SnowWhite"],type:t.get_type.buy,value:1e5},{skinId:"wife_6",skins:["Mermaid"],type:t.get_type.buy,value:1e5},{skinId:"wife_7",skins:["Lunar1"],type:t.get_type.buy,value:1e5},{skinId:"wife_8",skins:["Lunar2"],type:t.get_type.buy,value:1e5},{skinId:"wife_9",skins:["Lunar3"],type:t.get_type.buy,value:1e5},{skinId:"wife_10",skins:["Halloween"],type:t.get_type.buy,value:1e5},{skinId:"wife_11",skins:["Halloween2"],type:t.get_type.buy,value:1e5},{skinId:"wife_12",skins:["Halloween3"],type:t.get_type.buy,value:1e5},{skinId:"wife_13",skins:["Thanksgiving"],type:t.get_type.buy,value:1e5},{skinId:"wife_14",skins:["Thanksgiving2"],type:t.get_type.buy,value:1e5},{skinId:"wife_15",skins:["Noel2021"],type:t.get_type.buy,value:1e5},{skinId:"wife_16",skins:["Noel2021_2"],type:t.get_type.buy,value:4e4}],t}();o.SkinConfig=l,cc._RF.pop()},{}],SkinItemGroup:[function(t,e,o){"use strict";cc._RF.push(e,"de173CvGxpEfZzMwkCHWBEy","SkinItemGroup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/utils/GUIUtil"),c=t("../GameData"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.light=null,e.text="hello",e.skinConfig=null,e.btn_click=null,e.skinClickCallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button)),a.default.addClickListener(this.btn_click,this.node,"SkinItemGroup","onClickBoss")},e.prototype.initSkinItem=function(t,e){this.skinConfig=t,this.skinClickCallback=e,t.skinId===c.GameData.currentSkinBoss?this.light.active=!0:this.light.active=!1,1===t.skins.length?this.skeleton.setSkin(t.skins[0]):this.skeleton.setSkin(t.skins[t.skins.length-1]),this.skeleton.setSlotsToSetupPose(),a.default.ativeSkinFeatureIfHave(t,this.skeleton.node)},e.prototype.onClickBoss=function(){this.skinClickCallback&&this.skinClickCallback(this.skinConfig)},r([p(sp.Skeleton)],e.prototype,"skeleton",void 0),r([p(cc.Node)],e.prototype,"light",void 0),r([p],e.prototype,"text",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../GameData":"GameData","../base/utils/GUIUtil":"GUIUtil"}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"2f495wKQ/JFyJrI9qhSlw0S","SkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/SkinConfig"),c=t("../GameData"),s=t("../base/utils/GUIUtil"),l=t("../plugins/fb/FBInstantAds"),p=t("../plugins/fb/FBInstantGames"),u=t("../plugins/tracking/GameTracking"),d=t("../MainScene"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.btn_claim=null,e.btn_share=null,e.btn_giftcode=null,e.btn_daily_reward=null,e.btn_buy=null,e.btn_event=null,e.label_price=null,e.light=null,e.skinConfig=null,e.btn_click=null,e.skinClickCallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_click=this.node.getComponent(cc.Button),this.btn_click||(this.btn_click=this.node.addComponent(cc.Button)),s.default.addClickListener(this.btn_click,this.node,"SkinItem","onClickBoss"),s.default.addClickListener(this.btn_buy,this.node,"SkinItem","onClickBuy"),s.default.addClickListener(this.btn_share,this.node,"SkinItem","onClickShareFb"),s.default.addClickListener(this.btn_claim,this.node,"SkinItem","onClickClaim"),s.default.addClickListener(this.btn_giftcode,this.node,"SkinItem","onClickGiftCode"),s.default.addClickListener(this.btn_daily_reward,this.node,"SkinItem","onClickDailyReward"),s.default.addClickListener(this.btn_event,this.node,"SkinItem","onClickEvent")},e.prototype.onClickBoss=function(){this.skinClickCallback&&this.skinClickCallback(this.skinConfig)},e.prototype.onClickBuy=function(){var t=this;if(this.skinConfig.value<c.GameData.playerCoin)if(a.SkinConfig.CheckSkinInGroup(this.skinConfig)){var e=this.skinConfig,o=a.SkinConfig.GetAllItemSampleGroup(e.group);c.GameData.addCoin(-this.skinConfig.value);for(var n=0;n<o.length;n++){var i=o[n];c.GameData.addSkinBoss(i.skinId,function(){})}this.updateUI()}else c.GameData.addSkinBoss(this.skinConfig.skinId,function(e){e||(c.GameData.addCoin(-t.skinConfig.value),t.updateUI())})},e.prototype.onClickEvent=function(){d.default.instance.showEventPopup()},e.prototype.onClickShareFb=function(){var t=this;p.FBInstantGames.onShareGame(function(){if(u.GameTracking.logEventShareGame(c.GameData.currentLevelId),a.SkinConfig.CheckSkinInGroup(t.skinConfig)){for(var e=t.skinConfig,o=a.SkinConfig.GetAllItemSampleGroup(e.group),n=0;n<o.length;n++){var i=o[n];c.GameData.addSkinBoss(i.skinId,function(){})}t.updateUI()}else c.GameData.addSkinBoss(t.skinConfig.skinId,function(e){e||t.updateUI()})})},e.prototype.onClickClaim=function(){var t=this;l.FBInstantAds.showRewardedVideoAd(function(e){e||c.GameData.addSkinBoss(t.skinConfig.skinId,function(e){e||t.updateUI()})})},e.prototype.onClickGiftCode=function(){},e.prototype.onClickDailyReward=function(){d.default.instance.showDailyPopup()},e.prototype.initSkinItem=function(t,e){this.skinConfig=t,this.skinClickCallback=e,t.skinId===c.GameData.currentSkinBoss&&(this.light.active=!0),this.setSkin(t),this.skeleton.setSlotsToSetupPose(),this.updateUI()},e.prototype.setSkin=function(t){s.default.ativeSkinFeatureIfHave(t,this.skeleton.node),1===t.skins.length?this.skeleton.setSkin(t.skins[0]):this.skeleton.setSkin(t.skins[t.skins.length-1])},e.prototype.updateUI=function(){console.log("SkinItem updateUI");var t=this.skinConfig;if(t.type!=a.SkinConfig.get_type.event&&(t.type===a.SkinConfig.get_type.free||-1!=c.GameData.myBossSkins.indexOf(t.skinId)))return this.btn_buy.node.active=!1,this.btn_daily_reward.node.active=!1,this.btn_claim.node.active=!1,this.btn_giftcode.node.active=!1,void(this.btn_share.node.active=!1);switch(t.type){case a.SkinConfig.get_type.buy:this.btn_buy.node.active=!0,this.label_price.string=t.value+"",c.GameData.playerCoin>=t.value?this.label_price.node.color=cc.Color.WHITE:this.label_price.node.color=cc.Color.RED,this.btn_buy.interactable=c.GameData.playerCoin>=t.value;break;case a.SkinConfig.get_type.event:this.btn_event.node.active=!0;break;case a.SkinConfig.get_type.daily_reward:this.btn_daily_reward.node.active=!0;break;case a.SkinConfig.get_type.claim_ad:this.btn_claim.node.active=!0;break;case a.SkinConfig.get_type.gift_code:this.btn_giftcode.node.active=!0;break;case a.SkinConfig.get_type.share_fb:this.btn_share.node.active=!0}},r([y(sp.Skeleton)],e.prototype,"skeleton",void 0),r([y(cc.Button)],e.prototype,"btn_claim",void 0),r([y(cc.Button)],e.prototype,"btn_share",void 0),r([y(cc.Button)],e.prototype,"btn_giftcode",void 0),r([y(cc.Button)],e.prototype,"btn_daily_reward",void 0),r([y(cc.Button)],e.prototype,"btn_buy",void 0),r([y(cc.Button)],e.prototype,"btn_event",void 0),r([y(cc.Label)],e.prototype,"label_price",void 0),r([y(cc.Node)],e.prototype,"light",void 0),r([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../MainScene":"MainScene","../base/utils/GUIUtil":"GUIUtil","../config/SkinConfig":"SkinConfig","../plugins/fb/FBInstantAds":"FBInstantAds","../plugins/fb/FBInstantGames":"FBInstantGames","../plugins/tracking/GameTracking":"GameTracking"}],SkinPopup:[function(t,e,o){"use strict";cc._RF.push(e,"077a2KjJEZJZpHqt/lLWN7i","SkinPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SkinItem"),c=t("../config/SkinConfig"),s=t("../config/GlobalSignals"),l=t("../GameData"),p=t("./SkinWifePopup"),u=t("../base/utils/GUIUtil"),d=t("./SkinItemGroup"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.container=null,e.skinWifePopup=null,e.rowPrefab=null,e.skinPrefab=null,e.scrollView=null,e.itemBossScroll=null,e.arraySkin=[],e}return i(e,t),e.prototype.onLoad=function(){this.initData()},e.prototype.selectSkinBossByCfg=function(t,e){var o=this;this.SetSkinSelect(t,e),t.type!==c.SkinConfig.get_type.free&&-1==l.GameData.myBossSkins.indexOf(t.skinId)||l.GameData.setSkinBoss(t.skinId,function(n){n||(s.GlobalSignals.changeSkinBossSignal.dispatch(),o.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)}),o.SetSkinSelect(t,e))})},e.prototype.SetSkinSelect=function(t,e){if(t instanceof c.GroupItemSkinConfig){this.scrollView.node.active=!0,this.skeleton.node.active=!1;var o=c.SkinConfig.GetAllItemSampleGroup(t.group);this.SetItemsScrollView(o,e)}else{this.skeleton.node.active=!0,this.scrollView.node.active=!1;var n=t.skins[t.skins.length-1];this.skeleton.setSkin(n),this.skeleton.setSlotsToSetupPose(),this.skeleton.setAnimation(0,"Idle",!0),u.default.ativeSkinFeatureIfHave(t,this.skeleton.node)}},e.prototype.initData=function(){var t=this,e=[];c.SkinConfig.arraySkinBoss.forEach(function(t){if(t.type!=c.SkinConfig.get_type.gift_code){if(t instanceof c.GroupItemSkinConfig&&!t.isRoot)return;e.push(t)}});for(var o=e.length,n=Math.ceil(o/3),i=0,r=0;r<n;r++){var s=cc.instantiate(this.rowPrefab);this.container.addChild(s);for(var l=function(n){if(i>=o)return"break";var r=e[i],c=cc.instantiate(p.skinPrefab);c.position=s.children[n].position,s.addChild(c);var l=c.getComponent(a.default);l.initSkinItem(r,function(e){t.selectSkinBossByCfg(e,l)}),p.arraySkin.push(l),i++},p=this,u=0;u<3&&"break"!==l(u);u++);}},e.prototype.onClickBack=function(){this.node.active=!1},e.prototype.SetItemsScrollView=function(t,e){for(var o=this,n=function(n){var r=t[n],a=i.scrollView.content.children[n];a||(a=cc.instantiate(i.itemBossScroll),i.scrollView.content.addChild(a));var p=a.getComponent(d.default);p.initSkinItem(r,function(t){t.type!==c.SkinConfig.get_type.free&&-1==l.GameData.myBossSkins.indexOf(t.skinId)||(o.scrollView.content.children.forEach(function(t){t.children[1].active=!1}),p.node.children[1].active=!0,e.skinConfig=t,e.setSkin(t),l.GameData.setSkinBoss(t.skinId,function(t){t||s.GlobalSignals.changeSkinBossSignal.dispatch()}))})},i=this,r=0;r<t.length;r++)n(r)},e.prototype.onClickSkinWife=function(){this.skinWifePopup.Show()},r([y(sp.Skeleton)],e.prototype,"skeleton",void 0),r([y(cc.Node)],e.prototype,"container",void 0),r([y(p.default)],e.prototype,"skinWifePopup",void 0),r([y(cc.Prefab)],e.prototype,"rowPrefab",void 0),r([y(cc.Prefab)],e.prototype,"skinPrefab",void 0),r([y(cc.ScrollView)],e.prototype,"scrollView",void 0),r([y(cc.Node)],e.prototype,"itemBossScroll",void 0),r([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../base/utils/GUIUtil":"GUIUtil","../config/GlobalSignals":"GlobalSignals","../config/SkinConfig":"SkinConfig","./SkinItem":"SkinItem","./SkinItemGroup":"SkinItemGroup","./SkinWifePopup":"SkinWifePopup"}],SkinWifeItem:[function(t,e,o){"use strict";cc._RF.push(e,"4ad015xw45Nirmh1TEfe2aC","SkinWifeItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/SkinConfig"),c=t("../GameData"),s=t("../plugins/fb/FBInstantAds"),l=t("../plugins/fb/FBInstantGames"),p=t("../plugins/tracking/GameTracking"),u=t("./SkinItem"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickBuy=function(){var t=this;this.skinConfig.value<c.GameData.playerCoin&&c.GameData.addSkinWife(this.skinConfig.skinId,function(e){e||(c.GameData.addCoin(-t.skinConfig.value),t.updateUI())})},e.prototype.initSkinItem=function(t,e){this.skinConfig=t,this.skinClickCallback=e,t.skinId===c.GameData.currentSkinWife?this.light.active=!0:this.light.active=!1,this.setSkin(t),this.skeleton.setSlotsToSetupPose(),this.updateUI()},e.prototype.updateUI=function(){console.log("SkinItem updateUI");var t=this.skinConfig;if(t.type===a.SkinConfig.get_type.free||-1!=c.GameData.myWifeSkins.indexOf(t.skinId))return this.btn_buy.node.active=!1,this.btn_daily_reward.node.active=!1,this.btn_claim.node.active=!1,this.btn_giftcode.node.active=!1,void(this.btn_share.node.active=!1);switch(t.type){case a.SkinConfig.get_type.buy:this.btn_buy.node.active=!0,this.label_price.string=t.value+"",c.GameData.playerCoin>=t.value?this.label_price.node.color=cc.Color.WHITE:this.label_price.node.color=cc.Color.RED,this.btn_buy.interactable=c.GameData.playerCoin>=t.value;break;case a.SkinConfig.get_type.event:this.btn_event.node.active=!0;break;case a.SkinConfig.get_type.daily_reward:this.btn_daily_reward.node.active=!0;break;case a.SkinConfig.get_type.claim_ad:this.btn_claim.node.active=!0;break;case a.SkinConfig.get_type.gift_code:this.btn_giftcode.node.active=!0;break;case a.SkinConfig.get_type.share_fb:this.btn_share.node.active=!0}},e.prototype.onClickClaim=function(){var t=this;s.FBInstantAds.showRewardedVideoAd(function(e){e||c.GameData.addSkinWife(t.skinConfig.skinId,function(e){e||t.updateUI()})})},e.prototype.onClickShareFb=function(){var t=this;l.FBInstantGames.onShareGame(function(){p.GameTracking.logEventShareGame(c.GameData.currentLevelId),c.GameData.addSkinWife(t.skinConfig.skinId,function(e){e||t.updateUI()})})},r([f],e)}(u.default));o.default=h,cc._RF.pop()},{"../GameData":"GameData","../config/SkinConfig":"SkinConfig","../plugins/fb/FBInstantAds":"FBInstantAds","../plugins/fb/FBInstantGames":"FBInstantGames","../plugins/tracking/GameTracking":"GameTracking","./SkinItem":"SkinItem"}],SkinWifePopup:[function(t,e,o){"use strict";cc._RF.push(e,"e2b9efoI5FCxpk9qU9Sp9Jc","SkinWifePopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../config/SkinConfig"),c=t("../GameData"),s=t("./SkinItem"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemSkin=null,e.itemPanel=null,e.scrollView=null,e.arraySkin=[],e}return i(e,t),e.prototype.onLoad=function(){this.initData()},e.prototype.Show=function(){this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1},e.prototype.initData=function(){for(var t,e=this,o=(t=a.SkinConfig.arraySkinGirl).length,n=Math.ceil(o/3),i=0,r=0;r<n;r++){var c=this.scrollView.content.children[r];c||(c=cc.instantiate(this.itemPanel),this.scrollView.content.addChild(c));for(var l=0;l<3;l++){if(i>=o){var p=c.children[l];p&&(p.active=!1);break}var u=t[i],d=c.children[l];d||(d=cc.instantiate(this.itemSkin),c.addChild(d));var f=d.getComponent(s.default);f.initSkinItem(u,function(t){e.selectSkinBossByCfg(t)}),this.arraySkin.push(f),i++}}},e.prototype.selectSkinBossByCfg=function(t){var e=this;t.type!==a.SkinConfig.get_type.free&&-1==c.GameData.myWifeSkins.indexOf(t.skinId)||c.GameData.setSkinWife(t.skinId,function(o){o||e.arraySkin.forEach(function(e){e.skinConfig.skinId===t.skinId?e.light.active=!0:e.light.active&&(e.light.active=!1)})})},e.prototype.onClickClose=function(){this.Hide()},r([u(cc.Node)],e.prototype,"itemSkin",void 0),r([u(cc.Node)],e.prototype,"itemPanel",void 0),r([u(cc.ScrollView)],e.prototype,"scrollView",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GameData":"GameData","../config/SkinConfig":"SkinConfig","./SkinItem":"SkinItem"}],SnowGO:[function(t,e,o){"use strict";cc._RF.push(e,"114d3NpwDFJL7EK1S8sR0Cw","SnowGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../level/MapLevel"),s=t("../../config/PhysicsConfig"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.icePrefab=null,e.available=!0,e}return i(e,t),e.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"snow")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.transformToRock=function(){var t=c.default.instance.rockContainer,e=cc.instantiate(this.icePrefab);e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),e.parent=t,this.node.removeFromParent()},e.prototype.onCollisionEnter=function(t){this.available&&(t.node.group!==a.GroupConfig.WATER&&t.node.group!==a.GroupConfig.ROCK||(this.available=!1,this.transformToRock()))},r([u(cc.Node)],e.prototype,"border",void 0),r([u(cc.Node)],e.prototype,"drop",void 0),r([u(cc.Prefab)],e.prototype,"icePrefab",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],Stealer:[function(t,e,o){"use strict";cc._RF.push(e,"59a11YXUHNE+b4oPsB3zGua","Stealer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Enemies"),c=t("../../../config/AudioPlayId"),s=t("../../../MainScene"),l=t("../Character"),p=cc._decorator,u=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAttack=function(t){var e=this;if(this.isAttack){var o=t.getComponent(l.default);if(o&&!o.isAlive)return}this.isAttack=!0,this.rotateFaceToTarget(t),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){e.hit.active=!0},.26),this.skeleton.setCompleteListener(function(){e.isAlive&&(e.skeleton.setCompleteListener(null),e.playAnimation(e.idleAnim,!0),e.hit.active=!1,e.isAttack=!1,e.stopMove(),e.searchCollider.refreshPingToTarget())}),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_attack)},e.prototype.onDieIce=function(){t.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieNormal=function(){t.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},e.prototype.onDieFire=function(){t.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([u],e)}(a.default));o.default=d,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../Character":"Character","./Enemies":"Enemies"}],StickHold:[function(t,e,o){"use strict";cc._RF.push(e,"ac6a0Le9y5BMIU4IVuP9T0u","StickHold");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StickHoldType=void 0;var a,c=t("../../config/GroupConfig"),s=t("../../base/utils/GUIUtil"),l=t("../../base/ColliderCallback"),p=cc.easeInOut,u=cc.easeOut,d=cc._decorator,f=d.ccclass,h=d.property;(function(t){t[t.FREE=0]="FREE",t[t.SLIDER=1]="SLIDER"})(a=o.StickHoldType||(o.StickHoldType={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickHoldType=a.FREE,e.points=[],e.headCollider=null,e._active=!0,e.headRootPos=null,e.holdCallback=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this.getComponent(cc.PhysicsCircleCollider),e=this.getComponent(cc.PhysicsBoxCollider),o=this.getComponent(cc.BoxCollider),n=this.node.width-2*t.radius;o.size.height+=8,o.size.width=this.node.width-10,e.size.width=n;var i=2*t.radius+n/2;e.offset.x=-i,o.offset.x=-n/2-t.radius,this.stickHoldType===a.SLIDER&&(this.p0=this.points[0].position,this.p1=this.points[1].position,this.p0.x+=this.node.x,this.p0.y+=this.node.y,this.p1.x+=this.node.x,this.p1.y+=this.node.y),this.headCollider&&this.headCollider.setColliderCallback(this.onHeadCollider.bind(this))},e.prototype.onEnable=function(){this.headRootPos=this.node.position},e.prototype.onClick=function(){var t=this;if(this._active)if(this._active=!1,this.stickHoldType===a.FREE)(n=this.node.position).x+=1200,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:n},p(2)).call(function(){t.holdCallback&&t.holdCallback(t)}).start();else if(this.stickHoldType===a.SLIDER){var e=this.node,o=s.default.getDistancePoints(e.position,this.p0),n=s.default.getDistancePoints(e.position,this.p1)>o?this.p1:this.p0;cc.Tween.stopAllByTarget(e),cc.tween(e).to(1.2,{position:n},p(3)).call(function(){t.holdCallback&&t.holdCallback(t),t._active=!0}).start()}},e.prototype.onHeadCollider=function(t){var e=this;if(t.node.group===c.GroupConfig.BERRIE&&t.node!=this.node){cc.log("onHeadCollider: "+t.node.name);var o=this.node;this.scheduleOnce(function(){cc.Tween.stopAllByTarget(o),cc.tween(o).to(.5,{position:e.headRootPos},u(1)).call(function(){e._active=!0}).start()},.01)}},e.prototype.setHoldCallback=function(t){this.holdCallback=t},e.prototype.onCollisionEnter=function(t){t.node.group===c.GroupConfig.TOUCH&&this.onClick()},r([h({type:cc.Enum(a)})],e.prototype,"stickHoldType",void 0),r([h({type:[cc.Node],visible:function(){return this.stickHoldType===a.SLIDER}})],e.prototype,"points",void 0),r([h(l.default)],e.prototype,"headCollider",void 0),r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/GroupConfig":"GroupConfig"}],StringUtil:[function(t,e,o){"use strict";cc._RF.push(e,"bfe30UxyK5LBZkfVpU92f7E","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function t(){}return t.toKMBString=function(t){var e="";return t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.preprocessingMoney=function(e){e=parseInt(e+"");var o=Math.abs(e)+"",n=t.preprocessingString(o);return e<0&&(n="-"+n),n},t.preprocessingString=function(t){if(t.length<4)return t+"";for(var e="",o=1,n=0;n<t.length;n++)e=t[t.length-1-n]+e,o%3==0&&o!==t.length&&(e=","+e),o++;return e},t.preprocessingMoneyWithK=function(t){return t<1e3?t+"":t>=1e6?this.preprocessingMoney(t/1e3)+"K":t/1e3+"K"},t.toMoneyResultString=function(t){var e="";return t>0?e+="+":t<0&&(e+="-",t=-t),t>=this.ONE_BILLION?e+=Math.floor(100*t/this.ONE_BILLION)/100+"B":t>=this.ONE_MILLION?e+=Math.floor(100*t/this.ONE_MILLION)/100+"M":t>=this.ONE_THOUSAND?e+=Math.floor(100*t/this.ONE_THOUSAND)/100+"K":e+=t,e},t.processTimeNumber=function(t){var e=Math.abs(t)+"";return e.length<=1?"0"+e:e},t.preprocessSignMoney=function(t){return t>0?"+"+this.preprocessingMoney(t):this.preprocessingMoney(t)},t.getDateOnly=function(t){return isNaN(Date.parse(t))?t:t.split(" ")[0]},t.parseNumberSecondToClock=function(t){if(t<=0)return"00:00:00";var e=Math.floor(t/3600);t%=3600;var o=Math.floor(t/60),n=t%60;return(e<10?"0"+e:""+e)+":"+(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t.splitCountry=function(t){t||(t="");var e=t.split("_");return{name:e[0],countryCodes:e[1]}},t.getCodeLeaderBoardCountry=function(e,o){return o+"_"+t.splitCountry(e).countryCodes},t.ONE_BILLION=1e9,t.ONE_MILLION=1e6,t.ONE_THOUSAND=1e3,t}();o.StringUtil=n,cc._RF.pop()},{}],SwitchScreen:[function(t,e,o){"use strict";cc._RF.push(e,"43241BxiYNJLaC0BRzvJm6F","SwitchScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blackImage=null,e}return i(e,t),e.prototype.start=function(){this.blackImage||(this.blackImage=this.node)},e.prototype.switch=function(t,e,o){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),this.blackImage.opacity=0,this.blackImage.active=!0,cc.Tween.stopAllByTarget(this.blackImage),cc.tween(this.blackImage).to(.3,{opacity:255}).call(function(){t&&(t.active=!1),e&&(e.active=!0),o&&o()}).to(.3,{opacity:0}).call(function(){n.blackImage.active=!1}).start()},r([s(cc.Node)],e.prototype,"blackImage",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TagObject:[function(t,e,o){"use strict";cc._RF.push(e,"2f711BbpIFCeLUhgrTNsc6d","TagObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TagConfig=void 0;var a,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.NONE=0]="NONE",t[t.BOSS=1]="BOSS",t[t.BOSS_STICK=2]="BOSS_STICK",t[t.GIRL=3]="GIRL",t[t.GIRL_WONDER=4]="GIRL_WONDER",t[t.BOSS_SUPER=5]="BOSS_SUPER",t[t.GEMS=99]="GEMS",t[t.LAVA=100]="LAVA",t[t.WATER=101]="WATER",t[t.SNOW=102]="SNOW",t[t.ROCK=103]="ROCK",t[t.BIG_ROCK=104]="BIG_ROCK",t[t.ICE=105]="ICE",t[t.GAS=106]="GAS",t[t.BOMB=107]="BOMB",t[t.SAW=108]="SAW",t[t.POW=109]="POW",t[t.TRAP=110]="TRAP",t[t.BULLET=111]="BULLET",t[t.FIRE_BALL=112]="FIRE_BALL",t[t.HOLY_WATER=113]="HOLY_WATER",t[t.LAZE=114]="LAZE",t[t.STEALER=200]="STEALER",t[t.DEMON=201]="DEMON",t[t.BIGFOOT=202]="BIGFOOT",t[t.DRAGON=203]="DRAGON",t[t.DOG=204]="DOG",t[t.SHOOTER=205]="SHOOTER",t[t.CHEST=299]="CHEST",t[t.ITEM=300]="ITEM",t[t.STICK=301]="STICK",t[t.MEAT=302]="MEAT",t[t.REDIRECT_LEFT=303]="REDIRECT_LEFT",t[t.REDIRECT_RIGHT=304]="REDIRECT_RIGHT",t[t.REDIRECT_STOP=305]="REDIRECT_STOP",t[t.HIT=1e3]="HIT"})(a=o.TagConfig||(o.TagConfig={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag=a.NONE,e.tag2=a.NONE,e}return i(e,t),e.prototype.onLoad=function(){this.node.name=""+this.tag},e.prototype.setTag=function(t){this.tag=t,this.node.name=""+this.tag},e.prototype.setTag2=function(t){this.tag2=t},r([l({type:cc.Enum(a)})],e.prototype,"tag",void 0),r([l({type:cc.Enum(a)})],e.prototype,"tag2",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Task:[function(t,e,o){"use strict";cc._RF.push(e,"48773qwl0FBG4Q1DVTbXLY/","Task"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManager=o.Task=void 0;var n=function(){function t(t){this._callback=t}return t.prototype.completed=function(){this._completeCallback&&this._completeCallback()},t}();o.Task=n;var i=function(){function t(){this.tasks=[]}return t.prototype.addTask=function(t){this.tasks.push(t)},t.prototype.run=function(t,e){var o=this;if(0!==this.tasks.length){var n=this.tasks.length;t(0,n);for(var i=function(e){r.tasks[e]._completeCallback=function(){t(e+1,n),o.tasks[e+1]._callback()}},r=this,a=0;a<n-1;a++)i(a);this.tasks[n-1]._completeCallback=function(){t(n,n),e()},this.tasks[0]._callback()}else e()},t}();o.TaskManager=i,cc._RF.pop()},{}],TeleportCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"e80e6lh7qBFrY1MnqJXG1tn","TeleportCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/ColliderCallback"),c=t("../../config/GroupConfig"),s=t("../../config/TagObject"),l=t("./Bullet"),p=t("./FireBall"),u=cc.easeOut,d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listPort=[],e.listObj=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;if(this.node.children.forEach(function(e){var o=e.getComponent(a.default);o&&t.listPort.push(o)}),cc.log("Init Teleport: Length = "+this.listPort.length),!(this.listPort.length<2))for(var e=function(e){var n=o.listPort[e].node,i=e===o.listPort.length-1?0:e+1,r=o.listPort[i].node;o.listPort[e].setColliderCallback(function(e){if(e.node.group===c.GroupConfig.CHARACTER)t.moveTo(e.node.getParent().getParent(),n,r);else if(e.node.group===c.GroupConfig.COLLIDER&&e.node.width*e.node.height>0){var o=null;if(e.node.name==s.TagConfig.HIT){var i=e.node.getComponent(s.default).tag2;i==s.TagConfig.BULLET?o=t.onMoveBullet:i==s.TagConfig.FIRE_BALL&&(o=t.onMoveFireball)}t.moveTo(e.node,n,r,function(){o&&o(e.node)})}})},o=this,n=0;n<this.listPort.length;n++)e(n)},e.prototype.onMoveBullet=function(t){var e=500/l.default.velocityHit;cc.tween(t).by(e,{position:new cc.Vec3(500,0,0)}).call(function(){t.active=!1,t.removeFromParent()}).start()},e.prototype.onMoveFireball=function(t){var e=400/p.default.velocityHit,o=cc.jumpBy(e,cc.v2(400,-200),400/7,1);t.runAction(cc.sequence(o,cc.callFunc(function(){t.active=!1,t.removeFromParent()})))},e.prototype.moveTo=function(t,e,o,n){var i=this;if(void 0===n&&(n=null),cc.log("Teleport move "+t.group),-1==this.listObj.indexOf(t)){this.listObj.push(t);var r=t.scaleX,a=t.scaleY,c=t.getParent().convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),s=t.getParent().convertToNodeSpaceAR(o.getParent().convertToWorldSpaceAR(o.position));cc.Tween.stopAllByTarget(t),cc.tween(t).to(.35,{position:c,scaleX:0,scaleY:0},u(2)).call(function(){t.position=s}).to(.2,{scaleX:r,scaleY:a},u(2)).call(function(){cc.log("Teleport move done "+(new Date).getTime());var e=i.listObj.indexOf(t);-1!=e&&i.listObj.splice(e,1),n&&n()}).start()}},r([f],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","./Bullet":"Bullet","./FireBall":"FireBall"}],TestPhysics:[function(t,e,o){"use strict";cc._RF.push(e,"7047dYKXU1Dt6HAam9U89Vs","TestPhysics");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClick=function(){cc.tween(this.node).by(.1,{position:new cc.Vec3(700,0,0)}).start()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],TestSkeleton:[function(t,e,o){"use strict";cc._RF.push(e,"e04b2/qKM9HOLZ/xuDYNMPc","TestSkeleton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e}return i(e,t),e.prototype.changeSkin=function(){this.skeleton.setSkin("Boss0/Stick"),this.skeleton.setSlotsToSetupPose(),this.skeleton.setAnimation(0,"Idle",!0)},e.prototype.onEnable=function(){cc.log("TestSkeleton")},r([s(sp.Skeleton)],e.prototype,"skeleton",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ToastReward:[function(t,e,o){"use strict";cc._RF.push(e,"e3b8cf5NOVAqZVszbj4A2Y4","ToastReward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.easeBackOut,c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.show=function(t,e){var o=this;t<0?cc.warn("Reward = "+t):(this.label.string="+"+t,this.node.active=!0,this.node.opacity=0,this.node.scale=.4,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{opacity:255,scale:1},a()).delay(e).call(function(){o.hide()}).start())},e.prototype.hide=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{opacity:0}).call(function(){t.node.active=!1}).start()},r([l(cc.Label)],e.prototype,"label",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ToggleSliderGroup:[function(t,e,o){"use strict";cc._RF.push(e,"4e0b2j91yNIqqpERehDI5ZE","ToggleSliderGroup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ToggleSlider"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleOn=null,e.toggleOff=null,e.isOn=!0,e.onClickCallback=null,e}return i(e,t),e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t,e){void 0===e&&(e=!0),this.isOn=t,this.toggleOn.setToggleState(t,e),this.toggleOff.setToggleState(!t,e),this.onClickCallback&&this.onClickCallback(t)},e.prototype.setOnClickCallback=function(t){this.onClickCallback=t},r([l(a.default)],e.prototype,"toggleOn",void 0),r([l(a.default)],e.prototype,"toggleOff",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ToggleSlider":"ToggleSlider"}],ToggleSlider:[function(t,e,o){"use strict";cc._RF.push(e,"3df517scY9F7pmGd1WW8uMz","ToggleSlider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.dotSlider=null,e.p1=new cc.Vec3,e.p2=new cc.Vec3,e.isOn=!1,e}return i(e,t),e.prototype.onLoad=function(){this.p1.x=-this.dotSlider.position.x,this.p1.y=this.dotSlider.position.y,this.p2.x=this.dotSlider.position.x,this.p2.y=this.dotSlider.position.y},e.prototype.toggle=function(){this.setToggleState(!this.isOn)},e.prototype.setToggleState=function(t,e){void 0===e&&(e=!0),this.isOn=t,t?(this.node.active=!0,e?(this.dotSlider.position=this.p1,cc.tween(this.dotSlider).to(.2,{position:this.p2}).start()):this.dotSlider.position=this.p2):this.node.active=!1},r([s(cc.Label)],e.prototype,"label",void 0),r([s(cc.Node)],e.prototype,"dotSlider",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"dc0adXk/RtCCZVCopuiIlm/","TouchManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../level/MapLevel"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchCollision=null,e.moving=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance=this},e.prototype.onDestroy=function(){o._instance=null},e.prototype.onEnable=function(){cc.log("init TouchManager"),this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},e.prototype.onMouseDown=function(t){a.default.instance&&a.default.instance.isPlaying?(this.moving=!0,this.touchCollision.active=!0,this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation())):this.reset()},e.prototype.onMouseMove=function(t){this.moving&&(this.touchCollision.position=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onMouseUp=function(){this.reset()},e.prototype.reset=function(){this.moving=!1,this.touchCollision.active=!1},e._instance=null,r([l(cc.Node)],e.prototype,"touchCollision",void 0),o=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../level/MapLevel":"MapLevel"}],UserPlayFab:[function(t,e,o){"use strict";cc._RF.push(e,"73ec3RTDTdJOK3klBfrcKqq","UserPlayFab"),Object.defineProperty(o,"__esModule",{value:!0}),o.StatisticNameConfig=void 0;var n={titleId:"D1FDC",developerSecretKey:"PY46RZPHSEPFWQOFURG45WHHW41Z81UGFOGIMP9X7X8S8U8YCF",userEmail:"put valid email associated with an existing account here",extraHeaders:{}},i=t("./base/Signal"),r=t("./base/utils/ArrayUtil");o.StatisticNameConfig={BEST_LEVEL:"BestLevel",DAILYDATA:"DailyData"};var a=function(){function t(){}return t.SetUp=function(t){void 0===t&&(t={});var e=t.hasOwnProperty("titleId")&&null!=t.titleId;return e?this.titleData=t:(this.titleData=n,console.log("testTitleData input file did not parse correctly")),PlayFab.settings.titleId=this.titleData.titleId,PlayFab.settings.developerSecretKey=this.titleData.developerSecretKey,PlayFab.settings.GlobalHeaderInjection=this.titleData.extraHeaders,e},t.LoginWithFacebookInstantGamesId=function(){FBInstant.player.getSignedPlayerInfoAsync().then(function(e){var o={TitleId:"",FacebookInstantGamesSignature:e.getSignature(),CreateAccount:!0,InfoRequestParameters:{GetPlayerProfile:!0,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0},GetUserData:!0,GetPlayerStatistics:!0}};console.log("login fb"),Promise.resolve(PlayFabClientSDK.LoginWithFacebookInstantGamesId(o,t.OnLoginCallBack))})},t.LoginWithCustomID=function(){return Promise.resolve(PlayFabClientSDK.LoginWithCustomID({TitleId:"D1FDC",CustomId:"155DCc669868",CreateAccount:!0,InfoRequestParameters:{GetPlayerProfile:!0,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0},GetUserData:!0,GetPlayerStatistics:!0}},t.OnLoginCallBack))},t.UpdateUserCountryCode=function(t){var e={UserCountryCode:t};this.UpdateDataUser(e)},t.OnLoginCallBack=function(e,o){if(!o){if(t.loginsuccessful=!0,t.LoginCallBackSignal.dispatch(),t.PlayFabId=r.default.getValue(e.data,"PlayFabId",""),t.DisplayName=r.default.getValue(e.data.InfoResultPayload.PlayerProfile,"DisplayName",""),e.data.NewlyCreated&&FBInstant.player.getSignedPlayerInfoAsync().then(function(t){var e={FacebookInstantGamesSignature:t.getSignature(),ForceLink:!0};PlayFabClientSDK.LinkFacebookInstantGamesId(e,function(t){console.log(t,"link")})}),e.data.InfoResultPayload){var n=e.data.InfoResultPayload.UserData;if(n){t.UserCountryCode=r.default.getValue(n,"UserCountryCode","");var i=r.default.getValue(n,"EventData",null);i&&(t.EventData=i.Value);var a=r.default.getValue(n,"DailyData",null);a&&(t.DailyData=a.Value)}}""==t.DisplayName&&t.UpdateAvatarVsDisPlayName()}},t.UpdateAvatarVsDisPlayName=function(){try{var e=FBInstant.player.getName();""!=t.UserCountryCode&&(e=e+"_"+t.UserCountryCode);var o={DisplayName:e};PlayFabClientSDK.UpdateUserTitleDisplayName(o,function(t){t&&console.log("updatedisplayname")})}catch(n){}},t.SaveDailyData=function(e){var o=JSON.stringify(e);t.DailyData=o,t.UpdateDataUser({DailyData:o})},t.UpdateDataUser=function(t){var e={Data:t};PlayFabClientSDK.UpdateUserData(e,function(t,e){e&&console.log("fail save data"),console.log("done save data")})},t.GetDataUser=function(e,o){var n={PlayFabId:t.PlayFabId,Keys:e};PlayFabAdminSDK.GetUserData(n,o)},t.getMyRankLeadBoard=function(t,e){var o={StatisticName:t,MaxResultsCount:1,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0}};PlayFabClientSDK.GetLeaderboardAroundPlayer(o,e)},t.setLeaderborad=function(t,e,o){var n={Statistics:[{StatisticName:e,Value:t}]};PlayFabClientSDK.UpdatePlayerStatistics(n,o)},t.getRankLeadBoard=function(t,e,o,n){var i={StartPosition:e,StatisticName:t,MaxResultsCount:o,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0}};PlayFabClientSDK.GetLeaderboard(i,n)},t.UpdateDisPlayName=function(t,e){var o={DisplayName:t};PlayFabClientSDK.UpdateUserTitleDisplayName(o,e)},t.UpdateAvatar=function(t,e){var o={ImageUrl:t};PlayFabClientSDK.UpdateAvatarUrl(o,e)},t.loginsuccessful=!1,t.UserCountryCode="",t.EventData="",t.DailyData="",t.PlayFabId="",t.DisplayName="",t.LoginCallBackSignal=new i.Signal,t}();o.default=a,cc._RF.pop()},{"./base/Signal":"Signal","./base/utils/ArrayUtil":"ArrayUtil"}],Utf8:[function(t,e,o){"use strict";cc._RF.push(e,"3334eM32qZDoa95PQXWOPUh","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var n=t("./Latin1"),i=function(){function t(){}return t.stringify=function(t){try{return decodeURIComponent(escape(n.Latin1.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},t.parse=function(t){return n.Latin1.parse(unescape(encodeURIComponent(t)))},t}();o.Utf8=i,cc._RF.pop()},{"./Latin1":"Latin1"}],WaterGO:[function(t,e,o){"use strict";cc._RF.push(e,"e8ed1MjmJVIJ6/Y/dlAHXfS","WaterGO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/GroupConfig"),c=t("../../config/TagObject"),s=t("../../config/AudioPlayId"),l=t("../../level/MapLevel"),p=t("../../MainScene"),u=t("../../config/PhysicsConfig"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.border=null,e.drop=null,e.rockPrefab=null,e.icePrefab=null,e.available=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"water")},e.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0;var t=this.getComponent(cc.Sprite);t&&(t.enabled=!1)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.transformToRock=function(t){var e=l.default.instance.rockContainer,n=cc.instantiate(t);n.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=e,this.node.removeFromParent(),!o.isTransform&&l.default.instance.isPlaying&&(p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),o.isTransform=!0)},e.prototype.onCollisionEnter=function(t){var e=this;if(this.available){if(t.node.group===a.GroupConfig.BERRIE)return o.colliderBarrieCount++,void(3===o.colliderBarrieCount&&(p.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)));var n=null;switch(t.node.group){case a.GroupConfig.ROCK:n=t.node.name==c.TagConfig.ROCK?this.rockPrefab:this.icePrefab;break;case a.GroupConfig.LAVA:n=this.rockPrefab;break;case a.GroupConfig.SNOW:n=this.icePrefab}n&&(this.available=!1,this.scheduleOnce(function(){e.transformToRock(n)},.2))}},e.isTransform=!1,e.colliderBarrieCount=0,r([h(cc.Node)],e.prototype,"border",void 0),r([h(cc.Node)],e.prototype,"drop",void 0),r([h(cc.Prefab)],e.prototype,"rockPrefab",void 0),r([h(cc.Prefab)],e.prototype,"icePrefab",void 0),o=r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],WinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"49d10hGJHpIfIQtdvk9YuUz","WinPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../GameData"),c=t("../objects/character/Boss/Boss"),s=t("../plugins/fb/FBInstantAds"),l=t("../PlayScreen"),p=t("../config/GameConfig"),u=cc.Camera,d=cc.easeOut,f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.changeCoinLabel=null,e.camera=null,e.cameraScale=1.66,e.winNode=null,e.loseNode=null,e}return i(e,t),e.prototype.onEnable=function(){if(this.node.scale=3,this.node.position=new cc.Vec3(100,-cc.winSize.height/2,0),this.levelLabel.string="LEVEL "+(a.GameData.currentLevelId+1),c.default.instance){var t=1/this.cameraScale,e=c.default.instance.node.position,o=(cc.winSize.height-1280)*t;e.y-=o+60,this.focusPanelTo(e,t,.3),this.focusCameraTo(e,this.cameraScale,.3)}else cc.log("Boss.instance is null")},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.camera.zoomRatio=1,this.camera.node.position=cc.Vec3.ZERO},e.prototype.showWin=function(){this.winNode.active=!0,this.loseNode.active=!1,this.node.active=!0,this.showChangeCoin(p.GameConfig.coin_level_up)},e.prototype.showLose=function(){this.winNode.active=!1,this.loseNode.active=!0,this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.showChangeCoin=function(t){a.GameData.addCoin(t),this.changeCoinLabel.string="+"+t},e.prototype.focusPanelTo=function(t,e,o){void 0===o&&(o=.2),cc.tween(this.node).to(o,{position:t,scale:e},d(5)).start()},e.prototype.focusCameraTo=function(t,e,o){void 0===o&&(o=.2),this.camera.node.position=t,cc.tween(this.camera).to(o,{zoomRatio:e}).start()},e.prototype.onClickShowAdsToReceiveBonus=function(){s.FBInstantAds.showRewardedVideoAd(function(t){if(!t){var e=p.GameConfig.coin_level_bonus;cc.log("onClickShowAdsToReceiveBonus: bonus = "+e),a.GameData.addCoin(e),l.default.instance.nextLevel(),l.default.instance.showToastReward(e,2,.5)}})},e.prototype.onClickShowAdsToSkipLevel=function(){s.FBInstantAds.showRewardedVideoAd(function(t){t||(cc.log("onClickShowAdsToSkipLevel: skip success"),a.GameData.saveLevelUp(),l.default.instance.nextLevel())})},r([y(cc.Label)],e.prototype,"levelLabel",void 0),r([y(cc.Label)],e.prototype,"changeCoinLabel",void 0),r([y(u)],e.prototype,"camera",void 0),r([y(cc.Float)],e.prototype,"cameraScale",void 0),r([y(cc.Node)],e.prototype,"winNode",void 0),r([y(cc.Node)],e.prototype,"loseNode",void 0),r([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../config/GameConfig":"GameConfig","../objects/character/Boss/Boss":"Boss","../plugins/fb/FBInstantAds":"FBInstantAds"}],WordArray:[function(t,e,o){"use strict";cc._RF.push(e,"1740aPVA7pFNq+ypDP1ARNo","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var n=t("../enc/Hex"),i=function(){function t(t,e){this.words=t||[],this.sigBytes=void 0!==e?e:4*this.words.length}return t.random=function(e){for(var o=[],n=function(t){var e=987654321,o=4294967295;return function(){var n=((e=36969*(65535&e)+(e>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},i=0,r=void 0;i<e;i+=4){var a=n(4294967296*(r||Math.random()));r=987654071*a(),o.push(4294967296*a()|0)}return new t(o,e)},t.prototype.toString=function(t){return(t||n.Hex).stringify(this)},t.prototype.concat=function(t){if(this.clamp(),this.sigBytes%4)for(var e=0;e<t.sigBytes;e++){var o=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=o<<24-(this.sigBytes+e)%4*8}else for(e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this},t.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t}();o.WordArray=i,cc._RF.pop()},{"../enc/Hex":"Hex"}],"crypto-ts":[function(t,e,o){"use strict";cc._RF.push(e,"6ad71ENhsBPeYpe5u6RElqq","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var n=t("./lib/WordArray"),i=t("./lib/BlockCipher"),r=t("./lib/CipherParams"),a=t("./lib/Hasher"),c=t("./lib/SerializableCipher"),s=t("./lib/PasswordBasedCipher");o.lib={BlockCipher:i.BlockCipher,WordArray:n.WordArray,CipherParams:r.CipherParams,Hasher:a.Hasher,SerializableCipher:c.SerializableCipher,PasswordBasedCipher:s.PasswordBasedCipher};var l=t("./algo/AES"),p=t("./algo/SHA256");o.algo={AES:l.AES,SHA256:p.SHA256};var u=t("./enc/Utf8"),d=t("./enc/Hex");o.enc={Utf8:u.Utf8,Hex:d.Hex};var f=t("./pad/NoPadding"),h=t("./pad/PKCS7");o.pad={NoPadding:f.NoPadding,PKCS7:h.PKCS7};var y=t("./mode/CBC"),g=t("./mode/ECB");o.mode={CBC:y.CBC,ECB:g.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],index:[function(t,e,o){"use strict";cc._RF.push(e,"30180Ip+SVOjKHh++JZRJKF","index");var n=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),i=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||n(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(t("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],"mesh-texture-mask":[function(t,e){"use strict";function o(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}cc._RF.push(e,"2b916xDwOJDaq/ZFI4mGP7k","mesh-texture-mask");var r=cc.gfx;cc.Class({extends:cc.Component,editor:!1,properties:{_temp_refresh:!1,temp_refresh:{displayName:"Refresh",type:cc.Boolean,get:function(){return this._temp_refresh},set:function(t){this._temp_refresh=t,this._applyVertexes()}},_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this.temp_refresh,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_vertexes:{default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)]},type:[cc.Vec2]},vertexes:{tooltip:"Polygon",get:function(){return this._vertexes},set:function(t){this._vertexes=t,this._updateMesh(),this.temp_refresh,this._applyVertexes()},type:[cc.Vec2]}},onLoad:function(){this._meshCache={},this._updateMesh();var t=this.node.getComponent(cc.MeshRenderer);t||(t=this.node.addComponent(cc.MeshRenderer)),t.mesh=null,this.renderer=t;var e=cc.Material.getBuiltinMaterial("unlit");t.setMaterial(0,e),this._applySpriteFrame(),this._applyVertexes()},_updateMesh:function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),this.mesh=t},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(r.ATTR_POSITION,this.vertexes),this.texture){for(var n,i=[],a=o(this.vertexes);!(n=a()).done;){var c=n.value,s=(c.x+this.texture.width/2+this.offset.x)/this.texture.width,l=1-(c.y+this.texture.height/2+this.offset.y)/this.texture.height;i.push(cc.v2(s,l))}e.setVertices(r.ATTR_UV0,i)}if(this.vertexes.length>=3){for(var p=[],u=[].concat(this.vertexes),d=0,f=-1;u.length>3;){var h=u[d],y=u[(d+1)%u.length],g=u[(d+2)%u.length],_=y.sub(h),v=g.sub(y);if(_.cross(v)>=0){for(var m,b=!1,C=o(u);!(m=C()).done;){var P=m.value;if(P!==h&&P!==y&&P!==g&&this._testInTriangle(P,h,y,g)){b=!0;break}}if(b){if((d=(d+1)%u.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else p=p.concat([this.vertexes.indexOf(h),this.vertexes.indexOf(y),this.vertexes.indexOf(g)]),u.splice(u.indexOf(y),1),f=d}else if((d=(d+1)%u.length)===f){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}d>u.length-1&&(d=u.length-1)}p=p.concat(u.map(function(e){return t.vertexes.indexOf(e)})),e.setIndices(p),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_testInTriangle:function(t,e,o,n){var i=o.sub(e),r=n.sub(e),a=n.sub(o),c=t.sub(e),s=t.sub(o);return i.cross(r)>=0^i.cross(c)<0&&i.cross(r)>=0^r.cross(c)>=0&&a.cross(i)>0^a.cross(s)>=0},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.renderer._materials[0],e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e),this.texture=e}}}),cc._RF.pop()},{}]},{},["BackgroundLoader","CastleScreen","GameData","HomeScreen","Loading","MainScene","PlayScreen","PrefabManager","PrefabType","ResUtil","ScreenManager","UserPlayFab","ActiveBox","ActiveFun","CaptureTexture","ColliderCallback","LocalStorageManager","NodeFixSize","NumberUpdater","ParticleLoop","PhysicalEnable","PlayerCoinUpdater","PopupDisplay","RenderMask","Signal","SignalBinding","SwitchScreen","Task","TouchManager","FrameByFrame","RotateByRepeatAnim","RotateByRepeatAnimX2","ScaleRepeatAnim","AudioManager","AudioPlayer","MyAudioPlayer","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","mesh-texture-mask","ToggleSlider","ToggleSliderGroup","ArrayUtil","GUIUtil","MMFollowTarget","MathUtil","StringUtil","BuildHousePopup","HouseBuilder","HouseItem","Kingdom","KingdomBuilder","KingdomItem","ChooseCountryPopup","ItemChooseCountry","AudioPlayId","CountryConfig","FeatureSkinConfig","GameConfig","GameState","GlobalSignals","GroupConfig","KingdomConfig","KingdomData","LevelConfig","PetConfig","PhysicsConfig","QuestType","RoomConfig","SkinConfig","TagObject","DailyPopup","ItemDaily","ItemDailyPlus","ItemDailySpecail","EventHomePinManger","EventPopup","Halloween","HalloweenPopup","HelperDataHalloween","HelperEventHalloween","IHelperDataEvent","IHelperEventHomePin","ItemPopupHalloween","FeatureUi","BgCustom","MapLevel","RedirectBox","WinPanel","StickHold","Boss","Character","ColliderGround","ColliderSearch","BigFoot","Demon","Dog","Dragon","Enemies","Shooter","Stealer","ICharacterCollider","MoveCtrl","Girl","GasGO","GemsGO","GemsPool","LavaGO","RockGO","SnowGO","WaterGO","BigBang","BigStone","Bomb","Bullet","FireBall","ItemChest","ItemLoot","Pow","TeleportCtrl","RopeFull","RopePart","ItemPetSwitch","Pet","PetDataManager","PetItem","PetManager","PetPanalSwitch","PetPopup","PetWalkFollowDance","FBInstantAds","FBInstantData","FBInstantGames","FirebaseTracking","GATracking","GameTracking","ItemRankPopup","RankPopup","MyRoom","OpenItem","ReplaceItem","SelectRoomItem","SkinBossUpdater","SkinItem","SkinItemGroup","SkinPopup","SkinWifeItem","SkinWifePopup","TestPhysics","TestSkeleton","ButtonRewardVideo","IconQuest","SettingsPopup","ToastReward"]);