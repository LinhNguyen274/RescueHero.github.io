var PlayFab=void 0!==PlayFab?PlayFab:{};PlayFab.settings||(PlayFab.settings={titleId:null,developerSecretKey:null,GlobalHeaderInjection:null,productionServerUrl:".playfabapi.com"}),PlayFab._internalSettings||(PlayFab._internalSettings={entityToken:null,sdkVersion:"1.88.210628",requestGetParams:{sdk:"JavaScriptSDK-1.88.210628"},sessionTicket:null,verticalName:null,errorTitleId:"Must be have PlayFab.settings.titleId set to call this method",errorLoggedIn:"Must be logged in to call this method",errorEntityToken:"You must successfully call GetEntityToken before calling this",errorSecretKey:"Must have PlayFab.settings.developerSecretKey set to call this method",GetServerUrl:function(){return"http"!==PlayFab.settings.productionServerUrl.substring(0,4)?PlayFab._internalSettings.verticalName?"https://"+PlayFab._internalSettings.verticalName+PlayFab.settings.productionServerUrl:"https://"+PlayFab.settings.titleId+PlayFab.settings.productionServerUrl:PlayFab.settings.productionServerUrl},InjectHeaders:function(t,e){if(e)for(var n in e)try{t.setRequestHeader(gHeaderKey,e[n])}catch(a){console.log("Failed to append header: "+n+" = "+e[n]+"Error: "+a)}},ExecuteRequest:function(t,e,n,a,i,r,l){return new Promise(function(o,u){if(null!=i&&"function"!=typeof i)throw"Callback must be null or a function";null==e&&(e={});var s=new Date,c=JSON.stringify(e),y=[t],d=PlayFab._internalSettings.requestGetParams;if(null!=d){var F=!0;for(var p in d)F?(y.push("?"),F=!1):y.push("&"),y.push(p),y.push("="),y.push(d[p])}var S=y.join(""),P=new XMLHttpRequest;P.open("POST",S,!0),P.setRequestHeader("Content-Type","application/json"),P.setRequestHeader("X-PlayFabSDK","JavaScriptSDK-"+PlayFab._internalSettings.sdkVersion),null!=n&&P.setRequestHeader(n,a),PlayFab._internalSettings.InjectHeaders(P,PlayFab.settings.GlobalHeaderInjection),PlayFab._internalSettings.InjectHeaders(P,l),P.onloadend=function(){if(null!=i){var t=PlayFab._internalSettings.GetPlayFabResponse(e,P,s,r);200===t.code?i(t,null):i(null,t)}},P.onerror=function(){if(null!=i){var t=PlayFab._internalSettings.GetPlayFabResponse(e,P,s,r);i(null,t)}},P.send(c),P.onreadystatechange=function(){if(4===this.readyState){var t=PlayFab._internalSettings.GetPlayFabResponse(e,this,s,r);200===this.status?o(t):u(t)}}})},GetPlayFabResponse:function(t,e,n,a){var i=null;try{i=JSON.parse(e.responseText)}catch(r){i={code:503,status:"Service Unavailable",error:"Connection error",errorCode:2,errorMessage:e.responseText}}return i.CallBackTimeMS=new Date-n,i.Request=t,i.CustomData=a,i},authenticationContext:{PlayFabId:null,EntityId:null,EntityType:null,SessionTicket:null,EntityToken:null},UpdateAuthenticationContext:function(t,e){var n={};return null!==e.data.PlayFabId&&(PlayFab._internalSettings.authenticationContext.PlayFabId=e.data.PlayFabId,n.PlayFabId=e.data.PlayFabId),null!==e.data.SessionTicket&&(PlayFab._internalSettings.authenticationContext.SessionTicket=e.data.SessionTicket,n.SessionTicket=e.data.SessionTicket),null!==e.data.EntityToken&&(PlayFab._internalSettings.authenticationContext.EntityId=e.data.EntityToken.Entity.Id,n.EntityId=e.data.EntityToken.Entity.Id,PlayFab._internalSettings.authenticationContext.EntityType=e.data.EntityToken.Entity.Type,n.EntityType=e.data.EntityToken.Entity.Type,PlayFab._internalSettings.authenticationContext.EntityToken=e.data.EntityToken.EntityToken,n.EntityToken=e.data.EntityToken.EntityToken),Object.assign(t,n)},AuthInfoMap:{"X-EntityToken":{authAttr:"entityToken",authError:"errorEntityToken"},"X-Authorization":{authAttr:"sessionTicket",authError:"errorLoggedIn"},"X-SecretKey":{authAttr:"developerSecretKey",authError:"errorSecretKey"}},GetAuthInfo:function(t,e){var n=PlayFab._internalSettings.AuthInfoMap[e].authError,a=PlayFab._internalSettings.AuthInfoMap[e].authAttr,i=null;return"entityToken"===a?i=PlayFab._internalSettings.entityToken:"sessionTicket"===a?i=PlayFab._internalSettings.sessionTicket:"developerSecretKey"===a&&(i=PlayFab.settings.developerSecretKey),{authKey:e,authValue:t.AuthenticationContext?t.AuthenticationContext[a]:i,authError:n}},ExecuteRequestWrapper:function(t,e,n,a,i,r){var l=null;if(null!==n){var o=PlayFab._internalSettings.GetAuthInfo(e,n=n),u=(n=o.authKey,l=o.authValue,o.authError);if(!l)throw u}return PlayFab._internalSettings.ExecuteRequest(PlayFab._internalSettings.GetServerUrl()+t,e,n,l,a,i,r)}}),PlayFab.buildIdentifier="jbuild_javascriptsdk_sdk-generic-1_2",PlayFab.sdkVersion="1.88.210628",PlayFab.GenerateErrorReport=function(t){if(null==t)return"";var e=t.errorMessage;for(var n in t.errorDetails)for(var a in t.errorDetails[n])e+="\n"+n+": "+t.errorDetails[n][a];return e},PlayFab.CloudScriptApi={ForgetAllCredentials:function(){PlayFab._internalSettings.sessionTicket=null,PlayFab._internalSettings.entityToken=null},ExecuteEntityCloudScript:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/ExecuteEntityCloudScript",t,"X-EntityToken",e,n,a)},ExecuteFunction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/ExecuteFunction",t,"X-EntityToken",e,n,a)},ListFunctions:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/ListFunctions",t,"X-EntityToken",e,n,a)},ListHttpFunctions:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/ListHttpFunctions",t,"X-EntityToken",e,n,a)},ListQueuedFunctions:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/ListQueuedFunctions",t,"X-EntityToken",e,n,a)},PostFunctionResultForEntityTriggeredAction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/PostFunctionResultForEntityTriggeredAction",t,"X-EntityToken",e,n,a)},PostFunctionResultForFunctionExecution:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/PostFunctionResultForFunctionExecution",t,"X-EntityToken",e,n,a)},PostFunctionResultForPlayerTriggeredAction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/PostFunctionResultForPlayerTriggeredAction",t,"X-EntityToken",e,n,a)},PostFunctionResultForScheduledTask:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/PostFunctionResultForScheduledTask",t,"X-EntityToken",e,n,a)},RegisterHttpFunction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/RegisterHttpFunction",t,"X-EntityToken",e,n,a)},RegisterQueuedFunction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/RegisterQueuedFunction",t,"X-EntityToken",e,n,a)},UnregisterFunction:function(t,e,n,a){return PlayFab._internalSettings.ExecuteRequestWrapper("/CloudScript/UnregisterFunction",t,"X-EntityToken",e,n,a)}};var PlayFabCloudScriptSDK=PlayFab.CloudScriptApi;